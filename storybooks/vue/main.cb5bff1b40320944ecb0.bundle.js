(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UninstantiatedClient=exports.PasswordSetRequestFailed=exports.PasswordResetRequestFailed=exports.AuthenticationFailed=exports.BaseError=void 0;var tslib_1=__webpack_require__(0),base_error_1=__webpack_require__(342);Object.defineProperty(exports,"BaseError",{enumerable:!0,get:function(){return base_error_1.BaseError}});var AuthenticationFailed=function(_super){function AuthenticationFailed(message,properties){void 0===message&&(message="Authentication was not successful");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AuthenticationFailed",_this}return tslib_1.__extends(AuthenticationFailed,_super),AuthenticationFailed}(base_error_1.BaseError);exports.AuthenticationFailed=AuthenticationFailed;var PasswordResetRequestFailed=function(_super){function PasswordResetRequestFailed(message,properties){void 0===message&&(message="Could not reset password");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PasswordResetRequestFailed",_this}return tslib_1.__extends(PasswordResetRequestFailed,_super),PasswordResetRequestFailed}(base_error_1.BaseError);exports.PasswordResetRequestFailed=PasswordResetRequestFailed;var PasswordSetRequestFailed=function(_super){function PasswordSetRequestFailed(message,properties){void 0===message&&(message="Could not set password");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PasswordSetRequestFailed",_this}return tslib_1.__extends(PasswordSetRequestFailed,_super),PasswordSetRequestFailed}(base_error_1.BaseError);exports.PasswordSetRequestFailed=PasswordSetRequestFailed;var UninstantiatedClient=function(_super){function UninstantiatedClient(message,properties){void 0===message&&(message="Cannot instantiate API without instantiated HTTP client");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UninstantiatedClient",_this}return tslib_1.__extends(UninstantiatedClient,_super),UninstantiatedClient}(base_error_1.BaseError);exports.UninstantiatedClient=UninstantiatedClient},100:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeedsFetchRemoteError=exports.FeedCreateEventRemoteError=exports.FeedFetchEventsRemoteError=exports.FeedFetchLatestEventsRemoteError=exports.FeedFetchCountRemoteError=exports.FeedFetchRemoteError=exports.FeedInitializationError=exports.FeedReplyError=exports.FeedReply=exports.Feeds=exports.Feed=exports.FEED_ENDPOINT=void 0;var tslib_1=__webpack_require__(0),just_typeof_1=tslib_1.__importDefault(__webpack_require__(802)),topics_1=tslib_1.__importDefault(__webpack_require__(223)),realtime=tslib_1.__importStar(__webpack_require__(224)),errors_1=__webpack_require__(1),message_1=__webpack_require__(232),asset_1=__webpack_require__(924),person_1=__webpack_require__(394),order_1=__webpack_require__(925),event_1=__webpack_require__(81),comment_1=__webpack_require__(926),_base_1=__webpack_require__(4);exports.FEED_ENDPOINT="api/v0/feeds";var Feed=function(_super){function Feed(options){var _a,_this=_super.call(this)||this;return _this.eventsMap=new Map,_this._rawPayload=null,_this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint=exports.FEED_ENDPOINT,_this.http=options.http,_this.mqtt=options.mqtt,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Feed,_super),Feed.prototype.deserialize=function(rawPayload){var _this=this;return this.id||(this.id=rawPayload.id),this.setRawPayload(rawPayload),this.agents=rawPayload.agents,this.kind=rawPayload.kind,this.parents=rawPayload.parents,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.latestActivityAt=rawPayload.latest_activity_at?new Date(rawPayload.latest_activity_at):void 0,this.deleted=rawPayload.deleted,this.hidden=rawPayload.hidden,this.open=rawPayload.open,this.answered=rawPayload.answered,this.active=rawPayload.active,Array.isArray(rawPayload.participants)?this.participants=rawPayload.participants.map((function(item){return"object"===just_typeof_1.default(item)?person_1.Person.create(item,_this.universe,_this.http):item})):rawPayload.participants||Array.isArray(this.topLatestEvents)||(this.participants=void 0),Array.isArray(rawPayload.top_latest_events)?this.topLatestEvents=rawPayload.top_latest_events.map((function(item){return event_1.Event.create(item,_this,_this.universe,_this.http)})):rawPayload.top_latest_events||Array.isArray(this.topLatestEvents)||(this.topLatestEvents=void 0),Array.isArray(rawPayload.top_latest_messages)?this.topLatestMessages=rawPayload.top_latest_messages.map((function(item){return event_1.Event.create(item,_this,_this.universe,_this.http)})):rawPayload.top_latest_messages||Array.isArray(this.topLatestMessages)||(this.topLatestMessages=void 0),this},Feed.create=function(payload,universe,http,mqtt){return new Feed({rawPayload:payload,universe:universe,http:http,mqtt:mqtt,initialized:!0})},Feed.createUninitialized=function(payload,universe,http,mqtt){return new Feed({rawPayload:payload,universe:universe,http:http,mqtt:mqtt,initialized:!1})},Feed.prototype.serialize=function(){return{id:this.id,kind:this.kind,participants:Array.isArray(this.participants)?this.participants.map((function(item){return"object"===just_typeof_1.default(item)?item.serialize():item})):void 0,agents:this.agents,parents:this.parents,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,latest_activity_at:this.latestActivityAt?this.latestActivityAt.toISOString():void 0,deleted:this.deleted,hidden:this.hidden,open:this.open,active:this.active,answered:this.answered,top_latest_events:Array.isArray(this.topLatestEvents)?this.topLatestEvents.map((function(item){return item.serialize()})):void 0,top_latest_messages:Array.isArray(this.topLatestMessages)?this.topLatestMessages.map((function(item){return item.serialize()})):void 0}},Feed.prototype.reply=function(contentOptions){return new FeedReply(tslib_1.__assign({feed:this,http:this.http,universe:this.universe,rawPayload:{content:contentOptions.content},rawAssets:contentOptions.rawAssets},contentOptions))},Feed.prototype.init=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch(options)];case 1:return _a.sent(),this.setupDefaultMessageListeners(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new FeedInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Feed.prototype.setupDefaultMessageListeners=function(){var _a,_this=this;return null===(_a=this.mqtt)||void 0===_a||_a.on("message",(function(msg){_this.handleMessage(msg)})),this.subscribeDefaults(),this},Object.defineProperty(Feed.prototype,"defaultSubscriptions",{get:function(){return[topics_1.default.api.feedMessages.generateTopic(this.serialize()),topics_1.default.api.feedEvents.generateTopic(this.serialize()),topics_1.default.api.feedTyping.generateTopic(this.serialize()),topics_1.default.api.feedPresence.generateTopic(this.serialize()),topics_1.default.api.feedMessagesStatus.generateTopic(this.serialize()),topics_1.default.api.feedOrders.generateTopic(this.serialize())]},enumerable:!1,configurable:!0}),Feed.prototype.deinitialize=function(){this.removeAllListeners(),this.getMqttClient().unsubscribe(this.defaultSubscriptions)},Feed.prototype.subscribeDefaults=function(){this.getMqttClient().subscribe(this.defaultSubscriptions)},Feed.prototype.getMqttClient=function(){if(this.mqtt)return this.mqtt;throw new realtime.UninstantiatedRealtimeClient},Feed.prototype.handleMessage=function(msg){if(topics_1.default.api.feedMessagesStatus.isTopic(msg.topic,this.serialize())){var message=void 0;return msg.payload.message&&(message=message_1.Message.deserialize(msg.payload.message,this.universe,this.http,this)),void this.emit("feed:message:status",tslib_1.__assign(tslib_1.__assign({},msg),{message:message,feed:this}))}if(topics_1.default.api.feedMessages.isTopic(msg.topic,this.serialize())){message=void 0;return msg.payload.message&&(message=message_1.Message.deserialize(msg.payload.message,this.universe,this.http,this)),void this.emit("feed:message",tslib_1.__assign(tslib_1.__assign({},msg),{message:message,feed:this}))}var event_2;topics_1.default.api.feedEvents.isTopic(msg.topic,this.serialize())&&(msg.payload.event&&(event_2=event_1.Event.create(msg.payload.event,this,this.universe,this.http)),this.emit("feed:event",tslib_1.__assign(tslib_1.__assign({},msg),{event:event_2,feed:this})));if(topics_1.default.api.feedOrders.isTopic(msg.topic,this.serialize())){var order=void 0;msg.payload.order&&(order=order_1.Order.create(msg.payload.order,this.universe,this.http)),this.emit("feed:order",tslib_1.__assign(tslib_1.__assign({},msg),{order:order,feed:this}))}if(topics_1.default.api.feedPresence.isTopic(msg.topic,this.serialize())){var presence=void 0;msg.payload.presence&&(presence=msg.payload.presence),this.emit("feed:presence",tslib_1.__assign(tslib_1.__assign({},msg),{presence:presence,feed:this}))}if(topics_1.default.api.feedTyping.isTopic(msg.topic,this.serialize())){var typing=void 0;msg.payload.typing&&(typing=msg.payload.typing),this.emit("feed:typing",tslib_1.__assign(tslib_1.__assign({},msg),{typing:typing,feed:this}))}},Feed.prototype.fetchLatestEvents=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,events,err_2,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/events/latest",headers:{"Content-Type":"application/json; charset=utf-8"},params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{}),responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 1:return res=_b.sent(),events=res.data.data,options&&!0===options.raw?[2,events]:(events.forEach((function(eventRaw){var e=event_1.Event.create(eventRaw,_this,_this.universe,_this.http);_this.eventsMap.set(e.id,e)})),[2,Array.from(this.eventsMap.values())]);case 2:throw err_2=_b.sent(),this.handleError(new FeedFetchLatestEventsRemoteError(void 0,{error:err_2}));case 3:return[2]}}))}))},Feed.prototype.fetchEvents=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,err_3,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/events",headers:{"Content-Type":"application/json; charset=utf-8"},params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{}),responseType:"json"},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),res.data.data.forEach((function(eventRaw){var e=event_1.Event.create(eventRaw,_this,_this.universe,_this.http);_this.eventsMap.set(e.id,e)})),[2,Array.from(this.eventsMap.values())];case 2:throw err_3=_a.sent(),this.handleError(new FeedFetchEventsRemoteError(void 0,{error:err_3}));case 3:return[2]}}))}))},Feed.prototype.createFeedEvent=function(type,resource,resourceType){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,event_3,err_4;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/events",data:{type:type,resource:null!=resource?resource:void 0,resource_type:null!=resourceType?resourceType:void 0}},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),event_3=res.data.data[0],[2,event_1.Event.create(event_3,this,this.universe,this.http)];case 2:throw err_4=_a.sent(),this.handleError(new FeedCreateEventRemoteError(void 0,{error:err_4}));case 3:return[2]}}))}))},Feed.prototype.createFeedComment=function(content,author){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,comment,err_5;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/comments",data:{content:content,author:author}},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),comment=res.data.data[0],[2,comment_1.Comment.create(comment,this,this.universe,this.http)];case 2:throw err_5=_a.sent(),this.handleError(new FeedCreateEventRemoteError(void 0,{error:err_5}));case 3:return[2]}}))}))},Feed.prototype.viewed=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.createFeedEvent("agent:view")];case 1:return[2,_a.sent()]}}))}))},Feed.prototype.events=function(){return Array.from(this.eventsMap.values())},Feed.prototype.getEventsMap=function(){return this.eventsMap},Feed.prototype.presence=function(payload){var _a,topics=["api/feeds/*/presence","api/feeds/"+this.id+"/presence"];return null===(_a=this.mqtt)||void 0===_a||_a.publish(topics,payload),this},Feed.prototype.typing=function(payload){var _a,topics=["api/feeds/*/typing","api/feeds/"+this.id+"/typing"];return null===(_a=this.mqtt)||void 0===_a||_a.publish(topics,payload),this},Feed}(_base_1.UniverseEntity);exports.Feed=Feed;var Feeds=function(_super){function Feeds(options){var _this=_super.call(this)||this;return _this.endpoint=Feeds.endpoint,_this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this.mqtt=options.mqtt,_this}return tslib_1.__extends(Feeds,_super),Feeds.prototype.parseItem=function(payload){var _a;return Feed.create(payload,this.universe,this.http,null!==(_a=this.mqtt)&&void 0!==_a?_a:null)},Feeds.prototype.getStream=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._getStream(options)];case 1:return[2,_a.sent()]}}))}))},Feeds.prototype.exportCsv=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._exportCsv(options)];case 1:return[2,_a.sent()]}}))}))},Feeds.endpoint="api/v0/feeds",Feeds}(_base_1.EntitiesList);exports.Feeds=Feeds;var FeedReply=function(){function FeedReply(options){this.options=options,this.feed=options.feed,this.universe=options.universe,this.http=options.http,this.content=options.content,this.rawAssets=options.rawAssets,this.causes=options.causes}return FeedReply.prototype.prepareSendWithAssets=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,new asset_1.Assets({http:this.http,universe:this.universe}).post(payload)];case 1:return[2,_a.sent()];case 2:throw _a.sent();case 3:return[2]}}))}))},FeedReply.prototype.send=function(){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var additonalAttachments,assets,attachments,res,err_7;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,4,,5]),additonalAttachments=void 0,this.rawAssets?[4,this.prepareSendWithAssets(this.rawAssets)]:[3,2];case 1:assets=_c.sent(),Array.isArray(assets)&&(additonalAttachments=assets.map((function(item){return{type:"image",payload:item.uri}}))),_c.label=2;case 2:return attachments=void 0,additonalAttachments&&this.content&&Array.isArray(this.content.attachments)?attachments=tslib_1.__spreadArrays(this.content.attachments,additonalAttachments):this.content&&!Array.isArray(this.content.attachments)&&additonalAttachments?attachments=additonalAttachments:this.content&&Array.isArray(this.content.attachments)&&(attachments=this.content.attachments),this.content&&attachments&&(this.content.attachments=attachments),[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient().post(this.universe.universeBase+"/"+exports.FEED_ENDPOINT+"/"+this.feed.id+"/reply",{content:this.content,causes:null!==(_b=this.causes)&&void 0!==_b?_b:void 0})];case 3:return res=_c.sent(),[2,event_1.Event.create(res.data.data[0],this.feed,this.universe,this.http)];case 4:throw err_7=_c.sent(),new FeedReplyError(void 0,errors_1.BaseError.handleCommonProperties(err_7));case 5:return[2]}}))}))},FeedReply}();exports.FeedReply=FeedReply;var FeedReplyError=function(_super){function FeedReplyError(message,properties){void 0===message&&(message="Could not send feed reply unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FeedReplyError",Object.setPrototypeOf(_this,FeedReplyError.prototype),_this}return tslib_1.__extends(FeedReplyError,_super),FeedReplyError}(errors_1.BaseError);exports.FeedReplyError=FeedReplyError;var FeedInitializationError=function(_super){function FeedInitializationError(message,properties){void 0===message&&(message="Could not initialize feed.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FeedInitializationError",Object.setPrototypeOf(_this,FeedInitializationError.prototype),_this}return tslib_1.__extends(FeedInitializationError,_super),FeedInitializationError}(errors_1.BaseError);exports.FeedInitializationError=FeedInitializationError;var FeedFetchRemoteError=function(_super){function FeedFetchRemoteError(message,properties){void 0===message&&(message="Could not get feed.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FeedFetchRemoteError",Object.setPrototypeOf(_this,FeedFetchRemoteError.prototype),_this}return tslib_1.__extends(FeedFetchRemoteError,_super),FeedFetchRemoteError}(errors_1.BaseError);exports.FeedFetchRemoteError=FeedFetchRemoteError;var FeedFetchCountRemoteError=function(_super){function FeedFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get feed count.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="RemoteError ",Object.setPrototypeOf(_this,FeedFetchCountRemoteError.prototype),_this}return tslib_1.__extends(FeedFetchCountRemoteError,_super),FeedFetchCountRemoteError}(errors_1.BaseError);exports.FeedFetchCountRemoteError=FeedFetchCountRemoteError;var FeedFetchLatestEventsRemoteError=function(_super){function FeedFetchLatestEventsRemoteError(message,properties){void 0===message&&(message="Could not get latest feed events.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FeedFetchLatestEventsRemoteError",Object.setPrototypeOf(_this,FeedFetchLatestEventsRemoteError.prototype),_this}return tslib_1.__extends(FeedFetchLatestEventsRemoteError,_super),FeedFetchLatestEventsRemoteError}(errors_1.BaseError);exports.FeedFetchLatestEventsRemoteError=FeedFetchLatestEventsRemoteError;var FeedFetchEventsRemoteError=function(_super){function FeedFetchEventsRemoteError(message,properties){void 0===message&&(message="Could not get feed events.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FeedFetchEventsRemoteError",Object.setPrototypeOf(_this,FeedFetchEventsRemoteError.prototype),_this}return tslib_1.__extends(FeedFetchEventsRemoteError,_super),FeedFetchEventsRemoteError}(errors_1.BaseError);exports.FeedFetchEventsRemoteError=FeedFetchEventsRemoteError;var FeedCreateEventRemoteError=function(_super){function FeedCreateEventRemoteError(message,properties){void 0===message&&(message="Could not create feed event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FeedCreateEventRemoteError",Object.setPrototypeOf(_this,FeedCreateEventRemoteError.prototype),_this}return tslib_1.__extends(FeedCreateEventRemoteError,_super),FeedCreateEventRemoteError}(errors_1.BaseError);exports.FeedCreateEventRemoteError=FeedCreateEventRemoteError;var FeedsFetchRemoteError=function(_super){function FeedsFetchRemoteError(message,properties){void 0===message&&(message="Could not get feeds.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FeedsFetchRemoteError",Object.setPrototypeOf(_this,FeedsFetchRemoteError.prototype),_this}return tslib_1.__extends(FeedsFetchRemoteError,_super),FeedsFetchRemoteError}(errors_1.BaseError);exports.FeedsFetchRemoteError=FeedsFetchRemoteError},13:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(14),__webpack_require__(19),__webpack_require__(211),__webpack_require__(32);var _home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),___WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(___WEBPACK_IMPORTED_MODULE_5__),vue_prism_editor__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(23)),vue_prism_editor__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(vue_prism_editor__WEBPACK_IMPORTED_MODULE_9__);__webpack_exports__.a={name:"auth-init",components:{PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_9___default.a},props:{instructions:{type:Boolean,default:!1},minHeight:{type:String,default:"150px"},maxHeight:{type:String,default:void 0}},data:function data(){return{baseUrl:"https://staging-3.hello-charles.com",universe:null}},computed:{password:{get:function get(){return window.localStorage.getItem("password")},set:function set(v){window.localStorage.setItem("password",v)}},username:{get:function get(){return window.localStorage.getItem("username")},set:function set(v){window.localStorage.setItem("username",v)}},authResponse:{get:function get(){try{return window.localStorage.getItem("authResponse")}catch(err){return console.error(err),null}},set:function set(v){try{window.localStorage.setItem("authResponse",JSON.stringify(v,void 0,2))}catch(err){console.error(err)}}},styles:function styles(){return{container:{display:"flex",flexDirection:"row",maxWidth:"80%",minHeight:this.minHeight,maxHeight:this.maxHeight,overflowY:"auto"},inputs:{width:"50%",overflowX:"hidden",padding:"1rem",backgroundColor:"lightgray"},results:{width:"50%",overflowX:"hidden",padding:"1rem",backgroundColor:"lightgray"}}},code:function code(){return"\nconst response = await charles.auth.loginUsername({\n  username: '".concat(this.username||"","',\n  password: '").concat((this.password||"").replace(/./g,"*"),"',\n  authBaseUrl: '").concat(this.baseUrl,"'\n})\n\n// we do provide cookie auth. However if you client does not support that\n// you can also store the access token and call .init multiple times e.g. on page reresh\n\ncharles.init({\n  universe: '").concat(this.universe||"","',\n  // or if you are embedded in an agent ui / unviverse\n  // universe: window.location.origin,\n  credentials: {\n    access_token: response.access_token\n  },\n  user: response.user\n})\n")}},template:'\n    <div :style="styles.container">\n\n\n      <div :style="styles.inputs">\n        <div>\n          <input v-model="baseUrl" placeholder="Base URL" />\n        </div>\n        <hr>\n\n        <input v-model="username" placeholder="Username" />\n        <input v-model="password" placeholder="Password" type="password" />\n\n        <hr>\n        <hr>\n        <button @click="onClick">Submit</button>\n\n        <prism-editor v-if="instructions" readonly :code="code" language="js"></prism-editor>\n      </div>\n\n      <div :style="styles.results" >\n\n        <pre v-if="authResponse" v-text="authResponse" :key="authResponse">\n          {{authResponse}}\n        </pre>\n\n        <div v-else>\n          No Token yet\n        </div>\n      </div>\n    </div>\n  ',methods:{onClick:function onClick(){var _this=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_4__.a)(regeneratorRuntime.mark((function _callee(){var response;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this.$emit("auth-attempt"),_context.next=3,___WEBPACK_IMPORTED_MODULE_5___default.a.auth.loginUsername({username:_this.username,password:_this.password,authBaseUrl:_this.baseUrl,withCredentials:!0});case 3:response=_this.authResponse=_context.sent,_this.$emit("auth-success",response);case 5:case"end":return _context.stop()}}),_callee)})))()}}}},223:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(0),just_template_1=tslib_1.__importDefault(__webpack_require__(803)),TopicGenerator=function TopicGenerator(){};exports.default={api:{message:new(function(_super){function class_1(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/message",_this}return tslib_1.__extends(class_1,_super),class_1.prototype.generateTopic=function(){return this.template},class_1.prototype.isTopic=function(topic){return topic===this.template},class_1}(TopicGenerator)),feeds:new(function(_super){function class_2(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds",_this}return tslib_1.__extends(class_2,_super),class_2.prototype.generateTopic=function(){return this.template},class_2.prototype.isTopic=function(topic){return topic===this.template},class_2}(TopicGenerator)),feedsActivities:new(function(_super){function class_3(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/*/activities",_this}return tslib_1.__extends(class_3,_super),class_3.prototype.generateTopic=function(){return this.template},class_3.prototype.isTopic=function(topic){return topic===this.template},class_3}(TopicGenerator)),feedsEvents:new(function(_super){function class_4(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/*/events",_this}return tslib_1.__extends(class_4,_super),class_4.prototype.generateTopic=function(){return this.template},class_4.prototype.isTopic=function(topic){return topic===this.template},class_4}(TopicGenerator)),feedsOrders:new(function(_super){function class_5(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/*/orders",_this}return tslib_1.__extends(class_5,_super),class_5.prototype.generateTopic=function(){return this.template},class_5.prototype.isTopic=function(topic){return topic===this.template},class_5}(TopicGenerator)),feedsMessages:new(function(_super){function class_6(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/*/messages",_this}return tslib_1.__extends(class_6,_super),class_6.prototype.generateTopic=function(){return this.template},class_6.prototype.isTopic=function(topic){return topic===this.template},class_6}(TopicGenerator)),feedMessages:new(function(_super){function class_7(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/${id}/messages",_this}return tslib_1.__extends(class_7,_super),class_7.prototype.generateTopic=function(data){return this.template.replace("${id}",data.id)},class_7.prototype.isTopic=function(topic,data){return new RegExp(this.template.replace("${id}",data.id),"g").test(topic)},class_7}(TopicGenerator)),feedMessagesStatus:new(function(_super){function class_8(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/${id}/messages/*/status",_this}return tslib_1.__extends(class_8,_super),class_8.prototype.generateTopic=function(data){return this.template.replace("${id}",data.id)},class_8.prototype.isTopic=function(topic,data){return new RegExp(this.template.replace("${id}",data.id).replace("*","\\*"),"g").test(topic)},class_8}(TopicGenerator)),feedEvents:new(function(_super){function class_9(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/${id}/events",_this}return tslib_1.__extends(class_9,_super),class_9.prototype.generateTopic=function(data){return this.template.replace("${id}",data.id)},class_9.prototype.isTopic=function(topic,data){return new RegExp(this.template.replace("${id}",data.id),"g").test(topic)},class_9}(TopicGenerator)),feedOrders:new(function(_super){function class_10(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/${id}/orders",_this}return tslib_1.__extends(class_10,_super),class_10.prototype.generateTopic=function(data){return this.template.replace("${id}",data.id)},class_10.prototype.isTopic=function(topic,data){return new RegExp(this.template.replace("${id}",data.id),"g").test(topic)},class_10}(TopicGenerator)),feedTyping:new(function(_super){function class_11(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/${id}/typing",_this}return tslib_1.__extends(class_11,_super),class_11.prototype.generateTopic=function(data){return this.template.replace("${id}",data.id)},class_11.prototype.isTopic=function(topic,data){return new RegExp(this.template.replace("${id}",data.id),"g").test(topic)},class_11}(TopicGenerator)),feedPresence:new(function(_super){function class_12(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/feeds/${id}/presence",_this}return tslib_1.__extends(class_12,_super),class_12.prototype.generateTopic=function(data){return this.template.replace("${id}",data.id)},class_12.prototype.isTopic=function(topic,data){return new RegExp(this.template.replace("${id}",data.id),"g").test(topic)},class_12}(TopicGenerator)),clients:{arm:new(function(_super){function class_13(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/clients/${clientId}/arm",_this}return tslib_1.__extends(class_13,_super),class_13.prototype.generateTopic=function(data){return just_template_1.default(this.template,data)},class_13.prototype.isTopic=function(topic){return new RegExp(this.template.replace("${clientId}","\\w+"),"g").test(topic)},class_13}(TopicGenerator))},people:new(function(_super){function class_14(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/people",_this}return tslib_1.__extends(class_14,_super),class_14.prototype.generateTopic=function(){return this.template},class_14.prototype.isTopic=function(topic){return topic===this.template},class_14}(TopicGenerator)),personChange:new(function(_super){function class_15(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.template="api/people/${id}",_this}return tslib_1.__extends(class_15,_super),class_15.prototype.generateTopic=function(data){return this.template.replace("${id}",data.id)},class_15.prototype.isTopic=function(topic,data){return new RegExp(this.template.replace("${id}",data.id),"g").test(topic)},class_15}(TopicGenerator))}}},224:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UninstantiatedRealtimeClient=exports.UninstantiatedMqttClient=exports.RealtimeClient=void 0;var tslib_1=__webpack_require__(0),mqtt_1=__webpack_require__(804),events_1=tslib_1.__importDefault(__webpack_require__(22)),uuid=tslib_1.__importStar(__webpack_require__(391)),errors_1=__webpack_require__(1),defaultMqttOptions={clean:!0,protocolId:"MQTT",protocolVersion:4,keepalive:90,path:"/ws",rejectUnauthorized:!1},RealtimeClient=function(_super){function RealtimeClient(options){var _a,_this=_super.call(this)||this;return _this.initialized=!1,_this.connected=!1,_this.offline=!1,_this.last=null,_this.options=tslib_1.__assign({messageType:"json"},options),_this.mqttOptions=tslib_1.__assign(tslib_1.__assign({},defaultMqttOptions),null!==(_a=options.mqttOptions)&&void 0!==_a?_a:{}),_this.client=mqtt_1.connect(_this.options.base,tslib_1.__assign(tslib_1.__assign({},_this.mqttOptions),{username:_this.options.username,password:_this.options.password})),_this.initialized=!0,_this.client.on("connect",(function(){_this.emit("connect"),_this.connected=!0,_this.offline=!1})).on("close",(function(){_this.emit("close"),_this.connected=!1})).on("error",(function(err){_this.handleError(err)})).on("reconnect",(function(){_this.emit("reconnect")})).on("offline",(function(){_this.emit("offline"),_this.offline=!0})),_this.client.on("message",(function(topic,message,packet){_this.emit("message",_this.handleMessagePayload(topic,message,packet))})),_this.on("raw-error",(function(err){_this.handleError(err)})),_this}return tslib_1.__extends(RealtimeClient,_super),RealtimeClient.prototype.isInitialized=function(){return this.initialized},RealtimeClient.prototype.isConnected=function(){return this.connected},RealtimeClient.prototype.handleError=function(err){this.listeners("error").length>0&&this.emit("error",err)},RealtimeClient.prototype.destroy=function(){if(!this.client)throw new Error("cannot destroy instance, because a client is not initialized");this.removeAllListeners(),this.client.end(),this.offline=!0,this.connected=!1,this.initialized=!1},RealtimeClient.prototype.getClient=function(){if(this.client)return this.client;throw new UninstantiatedMqttClient(void 0)},RealtimeClient.prototype.handleMessagePayload=function(topic,message,packet){var base={mqttClientId:packet.messageId,clientId:uuid.v4(),receivedAt:new Date};return this.last=Object.assign({},base),"string"===this.options.messageType?tslib_1.__assign(tslib_1.__assign({},base),{topic:topic,attributes:{},payloadType:"string",payload:message.toString()}):tslib_1.__assign(tslib_1.__assign({},base),{topic:topic,attributes:{},payloadType:"json",payload:JSON.parse(message.toString())})},RealtimeClient.prototype.subscribe=function(topic,cb){return this.getClient().subscribe(topic,cb),this},RealtimeClient.prototype.unsubscribe=function(topic,cb){var _a;return this.getClient().unsubscribe(topic,null!==(_a=cb)&&void 0!==_a?_a:void 0),this},RealtimeClient.prototype.publish=function(topic,payload){var _this=this;return Array.isArray(topic)?(topic.forEach((function(item){_this.getClient().publish(item,payload)})),this):(this.getClient().publish(topic,payload),this)},RealtimeClient}(events_1.default.EventEmitter);exports.RealtimeClient=RealtimeClient;var UninstantiatedMqttClient=function(_super){function UninstantiatedMqttClient(message,properties){void 0===message&&(message="Cannot client API without instantiated MQTT client");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UninstantiatedMqttClient",_this}return tslib_1.__extends(UninstantiatedMqttClient,_super),UninstantiatedMqttClient}(errors_1.BaseError);exports.UninstantiatedMqttClient=UninstantiatedMqttClient;var UninstantiatedRealtimeClient=function(_super){function UninstantiatedRealtimeClient(message,properties){void 0===message&&(message="Cannot initialize client API without instantiated Realtime client");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UninstantiatedRealtimeClient",_this}return tslib_1.__extends(UninstantiatedRealtimeClient,_super),UninstantiatedRealtimeClient}(errors_1.BaseError);exports.UninstantiatedRealtimeClient=UninstantiatedRealtimeClient},232:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageInitializationError=exports.MessagesReplyError=exports.MessageFeedReply=exports.MessageReply=exports.Reply=exports.Message=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),person_1=__webpack_require__(394),asset_1=__webpack_require__(236),event_1=__webpack_require__(81),Message=function(_super){function Message(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/messages",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload,options),_this}return tslib_1.__extends(Message,_super),Message.deserialize=function(payload,universe,http,feed){return new Message({rawPayload:payload,universe:universe,http:http,feed:feed})},Message.prototype.deserialize=function(rawPayload,options){return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.sourceType=rawPayload.source_type,this.sourceApi=rawPayload.source_api,this.tz=rawPayload.tz,this.date=rawPayload.date?new Date(rawPayload.date):null,this.contentType=rawPayload.content_type,this.content=rawPayload.content,this.externalReferenceId=rawPayload.external_reference_id,this.externalPersonReferenceId=rawPayload.external_person_reference_id,this.externalChannelReferenceId=rawPayload.external_channel_reference_id,this.rawMessage=rawPayload.raw_message,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):null,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):null,this.rawPayload=rawPayload.raw_payload,this.broker=rawPayload.broker,this.deleted=rawPayload.deleted,this.isProcessed=rawPayload.is_processed,this.processedData=rawPayload.processed_data,this.replyables=rawPayload.replyables,this.author=rawPayload.author,this.person=rawPayload.person?person_1.Person.create({id:rawPayload.person},this.universe,this.http):void 0,(null==options?void 0:options.feed)?this.feed=options.feed:rawPayload.feed?this.feed={id:rawPayload.feed}:this.feed=void 0,this},Message.create=function(payload,universe,http,feed){return new Message({rawPayload:payload,universe:universe,http:http,initialized:!0,feed:feed})},Message.prototype.serialize=function(){return{id:this.id,source_type:this.sourceType,source_api:this.sourceApi,tz:this.tz,date:this.date?this.date.toISOString():void 0,content_type:this.contentType,content:this.content,external_reference_id:this.externalReferenceId,external_person_reference_id:this.externalPersonReferenceId,external_channel_reference_id:this.externalChannelReferenceId,raw_message:this.rawMessage,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,raw_payload:this.rawPayload,broker:this.broker,deleted:this.deleted,is_processed:this.isProcessed,processed_data:this.processedData,replyables:this.replyables,author:this.author,person:this.person?this.person.id:void 0,feed:this.feed?this.feed.id:void 0}},Message.prototype.reply=function(contentOptions){return new MessageReply(tslib_1.__assign({message:this,http:this.http,universe:this.universe,rawPayload:{content:contentOptions.content}},contentOptions))},Message.prototype.replyFeed=function(contentOptions){return new MessageFeedReply(tslib_1.__assign({message:this,http:this.http,universe:this.universe,rawPayload:{content:contentOptions.content}},contentOptions))},Message.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new MessageInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Message}(_base_1.UniverseEntity);exports.Message=Message;var Reply=function(_super){function Reply(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(Reply,_super),Reply.prototype.prepareSendWithAssets=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,new asset_1.Assets({http:this.options.http,universe:this.options.universe}).post(payload)];case 1:return[2,_a.sent()];case 2:throw _a.sent();case 3:return[2]}}))}))},Reply}(Message);exports.Reply=Reply;var MessageReply=function(_super){function MessageReply(options){var _this=_super.call(this,options)||this;return _this.message=options.message,_this.rawAssets=options.rawAssets,_this}return tslib_1.__extends(MessageReply,_super),MessageReply.prototype.send=function(){var _a,_b,_c,_d;return tslib_1.__awaiter(this,void 0,void 0,(function(){var additonalAttachments,assets,attachments,res,err_3;return tslib_1.__generator(this,(function(_e){switch(_e.label){case 0:return _e.trys.push([0,4,,5]),additonalAttachments=void 0,this.rawAssets?[4,this.prepareSendWithAssets(this.rawAssets)]:[3,2];case 1:assets=_e.sent(),Array.isArray(assets)&&(additonalAttachments=assets.map((function(item){return{type:"image",payload:item.uri}}))),_e.label=2;case 2:return attachments=void 0,additonalAttachments&&this.content&&Array.isArray(this.content.attachments)?attachments=tslib_1.__spreadArrays(this.content.attachments,additonalAttachments):this.content&&!Array.isArray(this.content.attachments)&&additonalAttachments?attachments=additonalAttachments:this.content&&Array.isArray(this.content.attachments)&&(attachments=this.content.attachments),this.content&&attachments&&(this.content.attachments=attachments),[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient().post(""+this.universe.universeBase+(null===(_c=null===(_b=this.message.replyables)||void 0===_b?void 0:_b.reply_to_message)||void 0===_c?void 0:_c.options.uri),{content:tslib_1.__assign({},this.content),causes:null!==(_d=this.causes)&&void 0!==_d?_d:void 0})];case 3:return res=_e.sent(),this.feed?[2,event_1.Event.create(res.data.data[0],this.feed,this.universe,this.http)]:[2,res.data.data[0]];case 4:throw err_3=_e.sent(),new MessagesReplyError(void 0,{error:err_3});case 5:return[2]}}))}))},MessageReply}(Reply);exports.MessageReply=MessageReply;var MessageFeedReply=function(_super){function MessageFeedReply(options){var _this=_super.call(this,options)||this;return _this.message=options.message,_this.rawAssets=options.rawAssets,_this.causes=options.causes,_this}return tslib_1.__extends(MessageFeedReply,_super),MessageFeedReply.prototype.send=function(){var _a,_b,_c,_d;return tslib_1.__awaiter(this,void 0,void 0,(function(){var additonalAttachments,assets,attachments,err_4;return tslib_1.__generator(this,(function(_e){switch(_e.label){case 0:return _e.trys.push([0,4,,5]),additonalAttachments=void 0,this.rawAssets?[4,this.prepareSendWithAssets(this.rawAssets)]:[3,2];case 1:assets=_e.sent(),Array.isArray(assets)&&(additonalAttachments=assets.map((function(item){return{type:"image",payload:item.uri}}))),_e.label=2;case 2:return attachments=void 0,additonalAttachments&&this.content&&Array.isArray(this.content.attachments)?attachments=tslib_1.__spreadArrays(this.content.attachments,additonalAttachments):this.content&&!Array.isArray(this.content.attachments)&&additonalAttachments?attachments=additonalAttachments:this.content&&Array.isArray(this.content.attachments)&&(attachments=this.content.attachments),this.content&&attachments&&(this.content.attachments=attachments),[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient().post(""+this.universe.universeBase+(null===(_c=null===(_b=this.message.replyables)||void 0===_b?void 0:_b.reply_to_feed)||void 0===_c?void 0:_c.options.uri),{content:tslib_1.__assign({},this.content),causes:null!==(_d=this.causes)&&void 0!==_d?_d:void 0})];case 3:return[2,_e.sent().data.data[0]];case 4:throw err_4=_e.sent(),new MessagesReplyError(void 0,{error:err_4});case 5:return[2]}}))}))},MessageFeedReply}(Reply);exports.MessageFeedReply=MessageFeedReply;var MessagesReplyError=function(_super){function MessagesReplyError(message,properties){void 0===message&&(message="Could not send reply unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessagesReplyError",_this}return tslib_1.__extends(MessagesReplyError,_super),MessagesReplyError}(errors_1.BaseError);exports.MessagesReplyError=MessagesReplyError;var MessageInitializationError=function(_super){function MessageInitializationError(message,properties){void 0===message&&(message="Could not initialize message.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageInitializationError",_this}return tslib_1.__extends(MessageInitializationError,_super),MessageInitializationError}(errors_1.BaseError);exports.MessageInitializationError=MessageInitializationError},234:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OrderExportRemoteError=exports.OrdersAssociationRemoteError=exports.OrdersFetchRemoteError=exports.OrdersFetchCountRemoteError=exports.OrderFetchRemoteError=exports.OrderInitializationError=exports.Orders=exports.Order=exports.OrderItem=exports.IOrderStatusEnum=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1);!function(IOrderStatusEnum){IOrderStatusEnum.open="open",IOrderStatusEnum.pending="pending",IOrderStatusEnum.completed="completed",IOrderStatusEnum.cancelled="cancelled"}(exports.IOrderStatusEnum||(exports.IOrderStatusEnum={}));var OrderItem=function(){function OrderItem(options){this.universe=options.universe,this.apiCarrier=options.universe,this.http=options.http,this.options=options,(null==options?void 0:options.rawPayload)&&this.deserialize(options.rawPayload)}return OrderItem.prototype.deserialize=function(rawPayload){return this.qty=rawPayload.qty,this.sku=rawPayload.sku,this.name=rawPayload.name,this.price=rawPayload.price,this.product=rawPayload.product,this.metadata=rawPayload.metadata,this.customId=rawPayload.custom_id,this.discounts=rawPayload.discounts,this.orderIndex=rawPayload.order_index,this.customProperties=rawPayload.custom_properties,this.shippingRequired=rawPayload.shipping_required,this.externalReferenceId=rawPayload.external_reference_id,this.externalReferenceCustomId=rawPayload.external_reference_custom_id,this},OrderItem.create=function(payload,universe,http){return new OrderItem({rawPayload:payload,universe:universe,http:http})},OrderItem.prototype.serialize=function(){return{qty:this.qty,sku:this.sku,name:this.name,price:this.price,product:this.product,metadata:this.metadata,custom_id:this.customId,discounts:this.discounts,order_index:this.orderIndex,custom_properties:this.customProperties,shipping_required:this.shippingRequired,external_reference_id:this.externalReferenceId,external_reference_custom_id:this.externalReferenceCustomId}},OrderItem}();exports.OrderItem=OrderItem;var Order=function(_super){function Order(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/orders",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Order,_super),Order.prototype.deserialize=function(rawPayload){var _a,_b,_c,_this=this;return this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.customId=rawPayload.custom_id,this.isProxy=null!==(_c=rawPayload.is_proxy)&&void 0!==_c&&_c,this.proxyVendor=rawPayload.proxy_vendor,this.type=rawPayload.type,this.externalReferenceId=rawPayload.external_reference_id,this.externalReferenceCustomId=rawPayload.external_reference_custom_id,this.clientId=rawPayload.client_id,this.person=rawPayload.person,this.note=rawPayload.note,this.comment=rawPayload.comment,this.shippingAddress=rawPayload.shipping_address,this.billingAddress=rawPayload.billing_address,this.contact=rawPayload.contact,this.metadata=rawPayload.metadata,this.customProperies=rawPayload.custom_properies,this.cart=rawPayload.cart,this.shippingFulfillment=rawPayload.shipping_fulfillment,this.amountTotalGross=rawPayload.amount_total_gross,this.amountTotalNet=rawPayload.amount_total_net,this.amountTotalTax=rawPayload.amount_total_tax,this.amountTotalShippingGross=rawPayload.amount_total_shipping_gross,this.discountAmountTotal=rawPayload.discount_amount_total,this.orderPrompt=rawPayload.order_prompt,this.status=rawPayload.status,this.proxyPayload=rawPayload.proxy_payload,this.discounts=rawPayload.discounts,this.taxesSummary=rawPayload.taxes_summary,this.shippingMethods=rawPayload.shipping_methods,Array.isArray(rawPayload.items)?this.items=rawPayload.items.map((function(item){return OrderItem.create(item,_this.universe,_this.http)})):this.items=[],this},Order.create=function(payload,universe,http){return new Order({rawPayload:payload,universe:universe,http:http,initialized:!0})},Order.prototype.serialize=function(){var _a,_b,items;return Array.isArray(this.items)&&(items=this.items.map((function(item){return item.serialize()}))),{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,custom_id:this.customId,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,type:this.type,external_reference_id:this.externalReferenceId,external_reference_custom_id:this.externalReferenceCustomId,client_id:this.clientId,person:this.person,note:this.note,comment:this.comment,shipping_address:this.shippingAddress,billing_address:this.billingAddress,contact:this.contact,metadata:this.metadata,custom_properies:this.customProperies,cart:this.cart,items:items,shipping_fulfillment:this.shippingFulfillment,amount_total_gross:this.amountTotalGross,amount_total_net:this.amountTotalNet,amount_total_tax:this.amountTotalTax,amount_total_shipping_gross:this.amountTotalShippingGross,discount_amount_total:this.discountAmountTotal,order_prompt:this.orderPrompt,status:this.status,proxy_payload:this.proxyPayload,discounts:this.discounts,taxes_summary:this.taxesSummary,shipping_methods:this.shippingMethods}},Order.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new OrderInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Order.prototype.associatePerson=function(personId){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_2;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("association requires id to be set.");if(!personId)throw new TypeError("association requires new person to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/person/associate/"+personId,headers:{"Content-Type":"application/json; charset=utf-8"},data:void 0,responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return response=_c.sent(),this.deserialize(response.data.data[0]),[2,this];case 3:throw err_2=_c.sent(),new OrdersAssociationRemoteError(void 0,{error:err_2});case 4:return[2]}}))}))},Order}(_base_1.UniverseEntity);exports.Order=Order;var Orders=function(_super){function Orders(options){var _this=_super.call(this)||this;return _this.endpoint=Orders.endpoint,_this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this}return tslib_1.__extends(Orders,_super),Orders.prototype.parseItem=function(payload){return Order.create(payload,this.universe,this.http)},Orders.prototype.getStream=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._getStream(options)];case 1:return[2,_a.sent()]}}))}))},Orders.prototype.exportCsv=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._exportCsv(options)];case 1:return[2,_a.sent()]}}))}))},Orders.endpoint="api/v0/orders",Orders}(_base_1.EntitiesList);exports.Orders=Orders;var OrderInitializationError=function(_super){function OrderInitializationError(message,properties){void 0===message&&(message="Could not initialize order.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="OrderInitializationError",_this}return tslib_1.__extends(OrderInitializationError,_super),OrderInitializationError}(errors_1.BaseError);exports.OrderInitializationError=OrderInitializationError;var OrderFetchRemoteError=function(_super){function OrderFetchRemoteError(message,properties){void 0===message&&(message="Could not get order.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="OrderFetchRemoteError",_this}return tslib_1.__extends(OrderFetchRemoteError,_super),OrderFetchRemoteError}(errors_1.BaseError);exports.OrderFetchRemoteError=OrderFetchRemoteError;var OrdersFetchCountRemoteError=function(_super){function OrdersFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get order count.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="OrdersFetchCountRemoteError",_this}return tslib_1.__extends(OrdersFetchCountRemoteError,_super),OrdersFetchCountRemoteError}(errors_1.BaseError);exports.OrdersFetchCountRemoteError=OrdersFetchCountRemoteError;var OrdersFetchRemoteError=function(_super){function OrdersFetchRemoteError(message,properties){void 0===message&&(message="Could not get orders.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="OrdersFetchRemoteError",_this}return tslib_1.__extends(OrdersFetchRemoteError,_super),OrdersFetchRemoteError}(errors_1.BaseError);exports.OrdersFetchRemoteError=OrdersFetchRemoteError;var OrdersAssociationRemoteError=function(_super){function OrdersAssociationRemoteError(message,properties){void 0===message&&(message="Could associate order with person unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="OrdersAssociationRemoteError",_this}return tslib_1.__extends(OrdersAssociationRemoteError,_super),OrdersAssociationRemoteError}(errors_1.BaseError);exports.OrdersAssociationRemoteError=OrdersAssociationRemoteError;var OrderExportRemoteError=function(_super){function OrderExportRemoteError(message,properties){void 0===message&&(message="Could not export orders.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="OrderExportRemoteError",_this}return tslib_1.__extends(OrderExportRemoteError,_super),OrderExportRemoteError}(errors_1.BaseError);exports.OrderExportRemoteError=OrderExportRemoteError},235:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelineStagesFetchRemoteError=exports.PipelineStageFetchRemoteError=exports.PipelineStageInitializationError=exports.PipelineStage=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),PipelineStage=function(_super){function PipelineStage(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,_this.endpoint="",(null==options?void 0:options.rawPayload)&&options.rawPayload.crm&&options.rawPayload.pipeline&&(_this.endpoint="api/v0/crms/"+options.rawPayload.crm+"/pipelines/"+options.rawPayload.pipeline+"/stages"),(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(PipelineStage,_super),PipelineStage.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.kind=rawPayload.kind,this.name=rawPayload.name,this.externalReferenceId=rawPayload.external_reference_id,this.orderIndex=rawPayload.order_index,this.crm=rawPayload.crm,this.pipeline=rawPayload.pipeline,this.proxyVendor=rawPayload.proxy_vendor,this.proxyPayload=rawPayload.proxy_payload,this},PipelineStage.create=function(payload,universe,http){return new PipelineStage({rawPayload:payload,universe:universe,http:http,initialized:!0})},PipelineStage.createUninitialized=function(payload,universe,http){return new PipelineStage({rawPayload:payload,universe:universe,http:http,initialized:!1})},PipelineStage.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,kind:this.kind,name:this.name,external_reference_id:this.externalReferenceId,order_index:this.orderIndex,crm:this.crm,pipeline:this.pipeline,proxy_vendor:this.proxyVendor,proxy_payload:this.proxyPayload}},PipelineStage.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new PipelineStageInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},PipelineStage}(_base_1.UniverseEntity);exports.PipelineStage=PipelineStage;var PipelineStageInitializationError=function(_super){function PipelineStageInitializationError(message,properties){void 0===message&&(message="Could not initialize pipeline_stage.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PipelineStageInitializationError",Object.setPrototypeOf(_this,PipelineStageInitializationError.prototype),_this}return tslib_1.__extends(PipelineStageInitializationError,_super),PipelineStageInitializationError}(errors_1.BaseError);exports.PipelineStageInitializationError=PipelineStageInitializationError;var PipelineStageFetchRemoteError=function(_super){function PipelineStageFetchRemoteError(message,properties){void 0===message&&(message="Could not get pipeline_stage.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PipelineStageFetchRemoteError",Object.setPrototypeOf(_this,PipelineStageFetchRemoteError.prototype),_this}return tslib_1.__extends(PipelineStageFetchRemoteError,_super),PipelineStageFetchRemoteError}(errors_1.BaseError);exports.PipelineStageFetchRemoteError=PipelineStageFetchRemoteError;var PipelineStagesFetchRemoteError=function(_super){function PipelineStagesFetchRemoteError(message,properties){void 0===message&&(message="Could not get pipeline_stages.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PipelineStagesFetchRemoteError",Object.setPrototypeOf(_this,PipelineStagesFetchRemoteError.prototype),_this}return tslib_1.__extends(PipelineStagesFetchRemoteError,_super),PipelineStagesFetchRemoteError}(errors_1.BaseError);exports.PipelineStagesFetchRemoteError=PipelineStagesFetchRemoteError},236:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssetsUploadError=exports.AssetUploadAndTransformError=exports.AssetsPostError=exports.AssetsFetchRemoteError=exports.AssetFetchRemoteError=exports.AssetInitializationError=exports.Assets=exports.Asset=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),qs_1=tslib_1.__importDefault(__webpack_require__(58)),Asset=function(_super){function Asset(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/assets",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Asset,_super),Asset.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.uri=rawPayload.uri,this.mimeType=rawPayload.mime_type,this.storageType=rawPayload.storage_type,this.payloadId=rawPayload.payload_id,this.originalName=rawPayload.original_name,this.comment=rawPayload.comment,this.metadata=rawPayload.metadata,this.public=rawPayload.public,this.optimizations=rawPayload.optimizations,this},Asset.create=function(payload,universe,http){return new Asset({rawPayload:payload,universe:universe,http:http,initialized:!0})},Asset.prototype.serialize=function(){var _a,_b,_c,_d;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,uri:this.uri,mime_type:this.mimeType,storage_type:this.storageType,payload_id:this.payloadId,original_name:this.originalName,comment:this.comment,metadata:null!==(_c=this.metadata)&&void 0!==_c?_c:null,public:null!==(_d=this.public)&&void 0!==_d&&_d,optimizations:this.optimizations}},Asset.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new AssetInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Asset.prototype.upload=function(payload,options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var queryOptions,opts,res,err_2,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,2,,3]),queryOptions=tslib_1.__assign({public:!0},options),opts={timeout:6e4,headers:{"Content-Type":"multipart/form-data"}},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient().post((null===(_b=this.universe)||void 0===_b?void 0:_b.universeBase)+"/"+Assets.endpoint+qs_1.default.stringify(queryOptions,{addQueryPrefix:!0}),payload,opts)];case 1:return res=_c.sent(),[2,(null==res?void 0:res.data.data).map((function(item){return Asset.create(item,_this.universe,_this.http)}))];case 2:throw err_2=_c.sent(),new AssetsUploadError(void 0,{error:err_2});case 3:return[2]}}))}))},Asset.prototype.uploadAndTransform=function(payload,contentType,options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var queryOptions,opts,res,err_3,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,2,,3]),queryOptions=tslib_1.__assign({public:!0},options),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+Assets.endpoint+qs_1.default.stringify(queryOptions,{addQueryPrefix:!0}),headers:{"Content-Type":contentType},data:null!=payload?payload:void 0},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 1:return res=_c.sent(),[2,(null==res?void 0:res.data.data).map((function(item){return Asset.create(item,_this.universe,_this.http)}))];case 2:throw err_3=_c.sent(),new AssetUploadAndTransformError(void 0,{error:err_3});case 3:return[2]}}))}))},Asset}(_base_1.UniverseEntity);exports.Asset=Asset;var Assets=function(){function Assets(options){this.options=options,this.http=options.http,this.universe=options.universe,this.apiCarrier=options.universe}return Assets.prototype.post=function(payload,options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var queryOptions,opts,res,err_4,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,2,,3]),queryOptions=tslib_1.__assign({public:!0},options),opts={timeout:6e4,headers:{"Content-Type":"multipart/form-data"}},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient().post((null===(_b=this.universe)||void 0===_b?void 0:_b.universeBase)+"/"+Assets.endpoint+qs_1.default.stringify(queryOptions,{addQueryPrefix:!0}),payload,opts)];case 1:return res=_c.sent(),[2,(null==res?void 0:res.data.data).map((function(item){return Asset.create(item,_this.universe,_this.http)}))];case 2:throw err_4=_c.sent(),new AssetsPostError(void 0,{error:err_4});case 3:return[2]}}))}))},Assets.endpoint="api/v0/assets",Assets}();exports.Assets=Assets;var AssetInitializationError=function(_super){function AssetInitializationError(message,properties){void 0===message&&(message="Could not initialize asset.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AssetInitializationError",_this}return tslib_1.__extends(AssetInitializationError,_super),AssetInitializationError}(errors_1.BaseError);exports.AssetInitializationError=AssetInitializationError;var AssetFetchRemoteError=function(_super){function AssetFetchRemoteError(message,properties){void 0===message&&(message="Could not get asset.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AssetFetchRemoteError",_this}return tslib_1.__extends(AssetFetchRemoteError,_super),AssetFetchRemoteError}(errors_1.BaseError);exports.AssetFetchRemoteError=AssetFetchRemoteError;var AssetsFetchRemoteError=function(_super){function AssetsFetchRemoteError(message,properties){void 0===message&&(message="Could not get assets.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AssetsFetchRemoteError",_this}return tslib_1.__extends(AssetsFetchRemoteError,_super),AssetsFetchRemoteError}(errors_1.BaseError);exports.AssetsFetchRemoteError=AssetsFetchRemoteError;var AssetsPostError=function(_super){function AssetsPostError(message,properties){void 0===message&&(message="Could not create assets.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AssetsPostError",_this}return tslib_1.__extends(AssetsPostError,_super),AssetsPostError}(errors_1.BaseError);exports.AssetsPostError=AssetsPostError;var AssetUploadAndTransformError=function(_super){function AssetUploadAndTransformError(message,properties){void 0===message&&(message="Could not upload and transform asset.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AssetUploadAndTransformError",_this}return tslib_1.__extends(AssetUploadAndTransformError,_super),AssetUploadAndTransformError}(errors_1.BaseError);exports.AssetUploadAndTransformError=AssetUploadAndTransformError;var AssetsUploadError=function(_super){function AssetsUploadError(message,properties){void 0===message&&(message="Could not upload assets.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AssetsUploadError",_this}return tslib_1.__extends(AssetsUploadError,_super),AssetsUploadError}(errors_1.BaseError);exports.AssetsUploadError=AssetsUploadError},342:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseError=void 0;var tslib_1=__webpack_require__(0),just_safe_get_1=tslib_1.__importDefault(__webpack_require__(782)),BaseError=function(_super){function BaseError(message,properties){var _this=_super.call(this)||this;return _this.message=message,_this.properties=properties,Object.setPrototypeOf(_this,BaseError.prototype),_this}return tslib_1.__extends(BaseError,_super),BaseError.handleCommonProperties=function(maybeError,additionalProperties){return Object.assign({error:maybeError},null!=additionalProperties?additionalProperties:{},{localizedErrors:just_safe_get_1.default(maybeError,"response.data.errors")})},BaseError}(Error);exports.BaseError=BaseError},343:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Client=void 0;var tslib_1=__webpack_require__(0),axios_1=tslib_1.__importDefault(__webpack_require__(336)),defaultHeaders={"X-Client-Type":"Charles SDK JavaScript","X-Client-Version":__webpack_require__(344).environment.VERSION,Accept:"application/json; charset=utf-8"},Client=function(){function Client(options){var _a,_b;this.responseInterceptorIds=[],this.requestInterceptorIds=[],this.options=options,this.axiosInstance=axios_1.default.create({withCredentials:null!==(_a=this.options.withCredentials)&&void 0!==_a?_a:void 0,timeout:null!==(_b=options.timeout)&&void 0!==_b?_b:1e4,headers:tslib_1.__assign(tslib_1.__assign({},options.headers),defaultHeaders)})}return Client.prototype.getDefaultHeaders=function(){return tslib_1.__assign(tslib_1.__assign({},this.options.headers),defaultHeaders)},Client.getInstance=function(options){return Client.instance&&Client.instance.setDefaults(options),Client.instance||(Client.instance=new Client(options)),Client.instance},Client.clearInstance=function(){Client.instance.clearDefaults()},Client.prototype.getClient=function(){return Client.instance.axiosInstance},Client.prototype.setDefaults=function(options){var _a,_b;return Client.instance.axiosInstance.defaults.headers.common=tslib_1.__assign(tslib_1.__assign({},this.axiosInstance.defaults.headers.common),options.headers),Client.instance.axiosInstance.defaults.headers=tslib_1.__assign(tslib_1.__assign({},this.axiosInstance.defaults.headers),options.headers),(null===(_a=options.responseInterceptors)||void 0===_a?void 0:_a.length)&&(this.responseInterceptorIds.forEach((function(id){return Client.instance.axiosInstance.interceptors.response.eject(id)})),this.responseInterceptorIds=options.responseInterceptors.map((function(interceptor){return Client.instance.axiosInstance.interceptors.response.use(void 0,interceptor)}))),(null===(_b=options.requestInterceptors)||void 0===_b?void 0:_b.length)&&(this.requestInterceptorIds.forEach((function(id){return Client.instance.axiosInstance.interceptors.request.eject(id)})),this.requestInterceptorIds=options.requestInterceptors.map((function(interceptor){return Client.instance.axiosInstance.interceptors.request.use(interceptor,void 0)}))),Client.instance},Client.prototype.clearDefaults=function(){Client.instance.axiosInstance.defaults.headers.common.Authorization=void 0,Client.instance.axiosInstance.defaults.headers.Authorization=void 0,Client.instance.axiosInstance.defaults.headers.common=tslib_1.__assign({},defaultHeaders)},Client}();exports.Client=Client},344:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.environment=void 0,exports.environment={VERSION:""}},346:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.APICarrier=void 0;var tslib_1=__webpack_require__(0),APICarrier=function(_super){function APICarrier(options){var _this=_super.call(this)||this;return _this.injectables=options.injectables,_this}return tslib_1.__extends(APICarrier,_super),APICarrier}(__webpack_require__(347).Readable);exports.APICarrier=APICarrier},391:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.v4=void 0;for(var lut=[],i=0;i<256;i++)lut[i]=(i<16?"0":"")+i.toString(16);exports.v4=function v4(){var d0=4294967295*Math.random()|0,d1=4294967295*Math.random()|0,d2=4294967295*Math.random()|0,d3=4294967295*Math.random()|0;return lut[255&d0]+lut[d0>>8&255]+lut[d0>>16&255]+lut[d0>>24&255]+"-"+lut[255&d1]+lut[d1>>8&255]+"-"+lut[d1>>16&15|64]+lut[d1>>24&255]+"-"+lut[63&d2|128]+lut[d2>>8&255]+"-"+lut[d2>>16&255]+lut[d2>>24&255]+lut[255&d3]+lut[d3>>8&255]+lut[d3>>16&255]+lut[d3>>24&255]}},393:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isEntity=void 0;var _base_1=__webpack_require__(0).__importDefault(__webpack_require__(4));exports.isEntity=function isEntity(object){return object instanceof _base_1.default}},394:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Address=exports.PeopleFetchRemoteError=exports.People=exports.Person=void 0;var person_1=__webpack_require__(395);Object.defineProperty(exports,"Person",{enumerable:!0,get:function(){return person_1.Person}}),Object.defineProperty(exports,"People",{enumerable:!0,get:function(){return person_1.People}}),Object.defineProperty(exports,"PeopleFetchRemoteError",{enumerable:!0,get:function(){return person_1.PeopleFetchRemoteError}}),Object.defineProperty(exports,"Address",{enumerable:!0,get:function(){return person_1.Address}})},395:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PhonenumberApplyPatchRemoteError=exports.PhonenumberPatchRemoteError=exports.PhonenumberCreateRemoteError=exports.PhonenumbersFetchRemoteError=exports.DealCreateRemoteError=exports.DealsFetchRemoteError=exports.PersonPreviewNotificationError=exports.PersonEmailDeleteError=exports.PersonEmailApplyPatchError=exports.PersonEmailPostRemoteError=exports.PeopleExportRemoteError=exports.PersonGDPRGetRemoteError=exports.PersonMergeRemoteError=exports.AddressPatchRemoteError=exports.AddressCreateRemoteError=exports.AddressFetchRemoteError=exports.PeopleFetchCountRemoteError=exports.PeopleFetchRemoteError=exports.PersonFetchRemoteError=exports.PersonInitializationError=exports.PersonFetchOrdersRemoteError=exports.PersonDeleteRemoteError=exports.Phonenumber=exports.Address=exports.People=exports.Person=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),order_1=__webpack_require__(234),channel_user_1=__webpack_require__(396),analytics_1=__webpack_require__(921),email_1=__webpack_require__(397),cart_1=__webpack_require__(398),just_omit_1=tslib_1.__importDefault(__webpack_require__(233)),qs_1=tslib_1.__importDefault(__webpack_require__(58)),deal_1=__webpack_require__(399),event_1=__webpack_require__(81),feed_1=__webpack_require__(100),topics_1=tslib_1.__importDefault(__webpack_require__(223)),realtime=tslib_1.__importStar(__webpack_require__(224)),AddressArray=function(_super){function AddressArray(items,universe,http,person){var _this=_super.apply(this,items)||this;return _this.universe=universe,_this.apiCarrier=universe,_this.http=http,_this.person=person,Object.setPrototypeOf(_this,AddressArray.prototype),_this}return tslib_1.__extends(AddressArray,_super),AddressArray.prototype.fromJson=function(payloads){var _this=this;return payloads.map((function(item){return Address.create(item,_this.universe,_this.http)}))},AddressArray.prototype.toJson=function(items){return items.map((function(item){return item.serialize()}))},AddressArray.prototype.fetch=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resources,err_1,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.person.id+"/addresses",params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{})},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(item){return Address.create(item,_this.universe,_this.http)}))];case 2:throw err_1=_a.sent(),new AddressFetchRemoteError(void 0,{error:err_1});case 3:return[2]}}))}))},AddressArray.prototype.create=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,err_2,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.person.id+"/addresses",data:payload},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),[2,res.data.data.map((function(item){return Address.create(item,_this.universe,_this.http)}))[0]];case 2:throw err_2=_a.sent(),new AddressCreateRemoteError(void 0,{error:err_2});case 3:return[2]}}))}))},AddressArray}(Array),Person=function(_super){function Person(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/people",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),(null==options?void 0:options.mqtt)&&(_this.mqtt=null==options?void 0:options.mqtt),_this}return tslib_1.__extends(Person,_super),Person.prototype.deserialize=function(rawPayload){var _a,_b,_this=this;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.firstName=rawPayload.first_name,this.middleName=rawPayload.middle_name,this.lastName=rawPayload.last_name,this.name=rawPayload.name,this.nickname=rawPayload.nickname,this.avatar=rawPayload.avatar,this.dateOfBirth=rawPayload.date_of_birth,this.gender=rawPayload.gender,this.comment=rawPayload.comment,this.measurements=rawPayload.measurements,this.tags=rawPayload.tags,this.namePreference=rawPayload.name_preference,this.customProperties=rawPayload.custom_properties,this.defaultAddress=rawPayload.default_address,this.languagePreference=rawPayload.language_preference,rawPayload.analytics&&this.initialized?this.analytics=analytics_1.Analytics.create(rawPayload.analytics,this.universe,this.http):rawPayload.analytics&&!this.initialized?this.analytics=analytics_1.Analytics.createUninitialized(rawPayload.analytics,this.universe,this.http):this.analytics||(this.analytics=void 0),rawPayload.emails&&this.initialized?this.emails=rawPayload.emails.map((function(i){return email_1.Email.create(i,_this.universe,_this.http)})):rawPayload.emails&&!this.initialized?this.emails=rawPayload.emails.map((function(i){return email_1.Email.createUninitialized(i,_this.universe,_this.http)})):this.emails||(this.emails=void 0),rawPayload.addresses&&this.initialized?this._addresses=rawPayload.addresses.map((function(i){return Address.create(i,_this.universe,_this.http)})):rawPayload.addresses&&!this.initialized?this._addresses=rawPayload.addresses.map((function(i){return Address.createUninitialized(i,_this.universe,_this.http)})):this._addresses||(this._addresses=void 0),rawPayload.phonenumbers&&this.initialized?this._phonenumbers=rawPayload.phonenumbers.map((function(i){return Phonenumber.create(i,_this.universe,_this.http)})):rawPayload.phonenumbers&&!this.initialized?this._phonenumbers=rawPayload.phonenumbers.map((function(i){return Phonenumber.createUninitialized(i,_this.universe,_this.http)})):this._phonenumbers||(this._phonenumbers=void 0),rawPayload.channel_users&&this.initialized?this.channelUsers=rawPayload.channel_users.map((function(i){return channel_user_1.ChannelUser.create(i,_this.universe,_this.http)})):rawPayload.channel_users&&!this.initialized?this.channelUsers=rawPayload.channel_users.map((function(i){return channel_user_1.ChannelUser.createUninitialized(i,_this.universe,_this.http)})):this.channelUsers||(this.channelUsers=void 0),this},Person.create=function(payload,universe,http,mqtt){return new Person({rawPayload:payload,universe:universe,http:http,initialized:!0,mqtt:mqtt})},Person.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,first_name:this.firstName,middle_name:this.middleName,last_name:this.lastName,name:this.name,nickname:this.nickname,avatar:this.avatar,date_of_birth:this.dateOfBirth,gender:this.gender,comment:this.comment,measurements:this.measurements,tags:this.tags,name_preference:this.namePreference,custom_properties:this.customProperties,default_address:this.defaultAddress,language_preference:this.languagePreference,analytics:this.analytics?this.analytics.serialize():void 0,emails:Array.isArray(this.emails)?this.emails.map((function(item){return item.serialize()})):void 0,addresses:Array.isArray(this._addresses)?this._addresses.map((function(item){return item.serialize()})):void 0,phonenumbers:Array.isArray(this._phonenumbers)?this._phonenumbers.map((function(item){return item.serialize()})):void 0,channel_users:Array.isArray(this.channelUsers)?this.channelUsers.map((function(item){return item.serialize()})):void 0}},Person.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_3;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch({query:{embed:["channel_users","phonenumbers","addresses","emails","analytics"]}})];case 1:return _a.sent(),[2,this];case 2:throw err_3=_a.sent(),this.handleError(new PersonInitializationError(void 0,{error:err_3}));case 3:return[2]}}))}))},Person.prototype.setupDefaultMessageListeners=function(){var _a,_this=this;return null===(_a=this.mqtt)||void 0===_a||_a.on("message",(function(msg){_this.handleMessage(msg)})),this.subscribeDefaults(),this},Object.defineProperty(Person.prototype,"defaultSubscriptions",{get:function(){return[topics_1.default.api.personChange.generateTopic(this)]},enumerable:!1,configurable:!0}),Person.prototype.subscribeDefaults=function(){this.subscribe(this.defaultSubscriptions)},Person.prototype.unsubscribeDefaults=function(){this.unsubscribe(this.defaultSubscriptions)},Person.prototype.subscribe=function(topic){return this.getMqttClient().subscribe(topic),this},Person.prototype.unsubscribe=function(topic){return this.getMqttClient().unsubscribe(topic),this},Person.prototype.getMqttClient=function(){if(this.mqtt)return this.mqtt;throw new realtime.UninstantiatedRealtimeClient},Person.prototype.handleMessage=function(msg){if(topics_1.default.api.personChange.isTopic(msg.topic,this.serialize())){var person=void 0;msg.payload.person&&(person=Person.create(msg.payload.person,this.universe,this.http,this.mqtt)),this.emit("person:change",tslib_1.__assign(tslib_1.__assign({},msg),{person:person}))}},Person.prototype.patch=function(changePart){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,_super.prototype.patch.call(this,just_omit_1.default(changePart,["emails","phonenumbers","addresses","channel_users","analytics"]))];case 1:return[2,_a.sent()]}}))}))},Person.prototype.delete=function(options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_4;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("delete requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"DELETE",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{"Content-Type":"application/json; charset=utf-8"},data:void 0,responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return _c.sent(),[2,this];case 3:throw err_4=_c.sent(),new PersonDeleteRemoteError(void 0,{error:err_4});case 4:return[2]}}))}))},Person.prototype.merge=function(mergeables){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,person,err_5;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("Merge requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/merge",data:{mergeables:mergeables},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return res=_c.sent(),person=res.data.data[0],[2,Person.create(person,this.universe,this.http)];case 3:throw err_5=_c.sent(),new PersonMergeRemoteError(void 0,{error:err_5});case 4:return[2]}}))}))},Person.prototype.getGDPRFile=function(options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_6;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("GDPR download requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"},url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/gdpr"+(options?qs_1.default.stringify(options,{addQueryPrefix:!0}):""),responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return[2,_c.sent().data.data[0]];case 3:throw err_6=_c.sent(),new PersonGDPRGetRemoteError(void 0,{error:err_6});case 4:return[2]}}))}))},Person.prototype.orders=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,orders,ordersMap_1,err_7,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/orders",headers:{"Content-Type":"application/json; charset=utf-8"},params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{}),responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 1:return res=_b.sent(),orders=res.data.data,options&&!0===options.raw?[2,orders]:(ordersMap_1=new Map,orders.forEach((function(orderRaw){var o=order_1.Order.create(orderRaw,_this.universe,_this.http);ordersMap_1.set(o.id,o)})),[2,Array.from(ordersMap_1.values())]);case 2:throw err_7=_b.sent(),this.handleError(new PersonFetchOrdersRemoteError(void 0,{error:err_7}));case 3:return[2]}}))}))},Object.defineProperty(Person.prototype,"carts",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return cart_1.Cart.create(item,_this.universe,_this.http)}))},toJson:function(payloads){return payloads.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,carts,err_8,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.id+"/carts",params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{})},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),carts=res.data.data,options&&!0===options.raw?[2,carts]:[2,carts.map((function(cart){return cart_1.Cart.create(cart,_this.universe,_this.http)}))];case 2:throw err_8=_a.sent(),new cart_1.CartsFetchRemoteError(void 0,{error:err_8});case 3:return[2]}}))}))},create:function(cart){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_9,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.id+"/carts",data:cart},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),[2,res.data.data.map((function(cart){return cart_1.Cart.create(cart,_this.universe,_this.http)}))[0]];case 2:throw err_9=_a.sent(),new cart_1.CartCreateRemoteError(void 0,{error:err_9});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Object.defineProperty(Person.prototype,"deals",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return deal_1.Deal.create(item,_this.universe,_this.http)}))},toJson:function(payloads){return payloads.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,deals,err_10,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.id+"/deals",params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{})},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),deals=res.data.data,options&&!0===options.raw?[2,deals]:[2,deals.map((function(deal){return deal_1.Deal.create(deal,_this.universe,_this.http)}))];case 2:throw err_10=_a.sent(),new DealsFetchRemoteError(void 0,{error:err_10});case 3:return[2]}}))}))},create:function(deal){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_11,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.id+"/deals",data:deal},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),[2,res.data.data.map((function(deal){return deal_1.Deal.create(deal,_this.universe,_this.http)}))[0]];case 2:throw err_11=_a.sent(),new DealCreateRemoteError(void 0,{error:err_11});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Object.defineProperty(Person.prototype,"addresses",{get:function(){var _a;return new AddressArray(null!==(_a=this._addresses)&&void 0!==_a?_a:[],this.universe,this.http,this)},set:function(items){this._addresses=items.map((function(item){return item}))},enumerable:!1,configurable:!0}),Person.prototype.getEmails=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,emails,err_12,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.id+"/emails",params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{})},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),emails=res.data.data,options&&!0===options.raw?[2,emails]:[2,emails.map((function(email){return email_1.Email.create(email,_this.universe,_this.http)}))];case 2:throw err_12=_a.sent(),new email_1.EmailsFetchRemoteError(void 0,{error:err_12});case 3:return[2]}}))}))},Person.prototype.email=function(payload){return email_1.Email.create(tslib_1.__assign(tslib_1.__assign({},payload),{person:this.id}),this.universe,this.http)},Person.prototype.phonenumber=function(payload){return Phonenumber.create(tslib_1.__assign(tslib_1.__assign({},payload),{person:this.id}),this.universe,this.http)},Person.prototype.address=function(payload){return Address.create(tslib_1.__assign(tslib_1.__assign({},payload),{person:this.id}),this.universe,this.http)},Object.defineProperty(Person.prototype,"phonenumbers",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return Phonenumber.create(item,_this.universe,_this.http)}))},toJson:function(payloads){return payloads.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,phonenumbers,err_13,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.id+"/phonenumbers",params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{})},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),phonenumbers=res.data.data,options&&!0===options.raw?[2,phonenumbers]:[2,phonenumbers.map((function(phonenumber){return Phonenumber.create(phonenumber,_this.universe,_this.http)}))];case 2:throw err_13=_a.sent(),new PhonenumbersFetchRemoteError(void 0,{error:err_13});case 3:return[2]}}))}))},create:function(phonenumber){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_14,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+People.endpoint+"/"+this.id+"/phonenumbers",data:phonenumber},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),[2,res.data.data.map((function(phonenumber){return Phonenumber.create(phonenumber,_this.universe,_this.http)}))[0]];case 2:throw err_14=_a.sent(),new PhonenumberCreateRemoteError(void 0,{error:err_14});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Person.prototype.previewNotification=function(params,language,parameters,options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resources,_feed_1,err_15,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(!(this.id&&(null==params?void 0:params.messageTemplateId)&&(null==params?void 0:params.channelUserId)))throw new TypeError("message template preview setup requires person id, channelUser id and message template id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:this.universe.universeBase+"/api/v0/people/"+this.id+"/channel_users/"+params.channelUserId+"/notifications/templates/"+params.messageTemplateId+"/preview"+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),data:{language:language,parameters:parameters}},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return res=_c.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:(_feed_1=feed_1.Feed.createUninitialized({id:null===(_b=null==resources?void 0:resources[0])||void 0===_b?void 0:_b.feed},this.universe,this.http,null),[2,resources.map((function(item){return event_1.Event.create(item,_feed_1,_this.universe,_this.http)}))]);case 3:throw err_15=_c.sent(),new PersonPreviewNotificationError(void 0,{error:err_15});case 4:return[2]}}))}))},Person}(_base_1.UniverseEntity);exports.Person=Person;var People=function(_super){function People(options){var _this=_super.call(this)||this;return _this.endpoint=People.endpoint,_this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this}return tslib_1.__extends(People,_super),People.prototype.parseItem=function(payload){return Person.create(payload,this.universe,this.http)},People.prototype.getStream=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._getStream(options)];case 1:return[2,_a.sent()]}}))}))},People.prototype.exportCsv=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._exportCsv(options)];case 1:return[2,_a.sent()]}}))}))},People.endpoint="api/v0/people",People}(_base_1.EntitiesList);exports.People=People;var Address=function(_super){function Address(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,_this.endpoint="",(null==options?void 0:options.rawPayload)&&options.rawPayload.person&&(_this.endpoint="api/v0/people/"+options.rawPayload.person+"/addresses"),(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Address,_super),Address.prototype.deserialize=function(rawPayload){return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.firstName=rawPayload.first_name,this.lastName=rawPayload.last_name,this.phone=rawPayload.phone,this.person=rawPayload.person,this.lines=rawPayload.lines,this.company=rawPayload.company,this.locality=rawPayload.locality,this.country=rawPayload.country,this.region=rawPayload.region,this.postalCode=rawPayload.postal_code,this.type=rawPayload.type,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.comment=rawPayload.comment,this.deleted=rawPayload.deleted,this.active=rawPayload.active,this},Address.create=function(payload,universe,http){return new Address({rawPayload:payload,universe:universe,http:http,initialized:!0})},Address.createUninitialized=function(payload,universe,http){return new Address({rawPayload:payload,universe:universe,http:http,initialized:!1})},Address.prototype.serialize=function(){return{id:this.id,first_name:this.firstName,last_name:this.lastName,person:this.person,phone:this.phone,lines:this.lines,company:this.company,locality:this.locality,country:this.country,region:this.region,postal_code:this.postalCode,type:this.type,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,comment:this.comment,deleted:this.deleted,active:this.active}},Address.prototype.patch=function(changePart){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new AddressPatchRemoteError("Address patch requires person to be set.");return[4,this._patch(changePart)];case 1:return[2,_a.sent()]}}))}))},Address.prototype.applyPatch=function(patch){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new AddressPatchRemoteError("Address patch requires person to be set.");return[4,this._applyPatch(patch)];case 1:return[2,_a.sent()]}}))}))},Address}(_base_1.UniverseEntity);exports.Address=Address;var Phonenumber=function(_super){function Phonenumber(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,_this.endpoint="",(null==options?void 0:options.rawPayload)&&options.rawPayload.person&&(_this.endpoint="api/v0/people/"+options.rawPayload.person+"/phonenumbers"),(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Phonenumber,_super),Phonenumber.prototype.deserialize=function(rawPayload){return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=rawPayload.deleted,this.active=rawPayload.active,this.value=rawPayload.value,this.type=rawPayload.type,this.person=rawPayload.person,this.channelUser=rawPayload.channel_user,this.proxyVendor=rawPayload.proxy_vendor,this.isProxy=rawPayload.is_proxy,this.portability=rawPayload.portability,this.portability=rawPayload.portability,this.isPortable=rawPayload.is_portable,this},Phonenumber.create=function(payload,universe,http){return new Phonenumber({rawPayload:payload,universe:universe,http:http,initialized:!0})},Phonenumber.createUninitialized=function(payload,universe,http){return new Phonenumber({rawPayload:payload,universe:universe,http:http,initialized:!1})},Phonenumber.prototype.serialize=function(){return{id:this.id,value:this.value,type:this.type,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:this.deleted,active:this.active,person:this.person,channel_user:this.channelUser,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,portability:this.portability,is_portable:this.isPortable}},Phonenumber.prototype.patch=function(changePart){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new PhonenumberPatchRemoteError("Phonenumber patch requires person to be set.");return[4,this._patch(changePart)];case 1:return[2,_a.sent()]}}))}))},Phonenumber.prototype.applyPatch=function(patch){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new PhonenumberApplyPatchRemoteError("Phonenumber applyPatch requires person to be set.");return[4,this._applyPatch(patch)];case 1:return[2,_a.sent()]}}))}))},Phonenumber}(_base_1.UniverseEntity);exports.Phonenumber=Phonenumber;var PersonDeleteRemoteError=function(_super){function PersonDeleteRemoteError(message,properties){void 0===message&&(message="Could not delete person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonDeleteRemoteError",Object.setPrototypeOf(_this,PersonDeleteRemoteError.prototype),_this}return tslib_1.__extends(PersonDeleteRemoteError,_super),PersonDeleteRemoteError}(errors_1.BaseError);exports.PersonDeleteRemoteError=PersonDeleteRemoteError;var PersonFetchOrdersRemoteError=function(_super){function PersonFetchOrdersRemoteError(message,properties){void 0===message&&(message="Could not get person orders.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonFetchOrdersRemoteError",Object.setPrototypeOf(_this,PersonFetchOrdersRemoteError.prototype),_this}return tslib_1.__extends(PersonFetchOrdersRemoteError,_super),PersonFetchOrdersRemoteError}(errors_1.BaseError);exports.PersonFetchOrdersRemoteError=PersonFetchOrdersRemoteError;var PersonInitializationError=function(_super){function PersonInitializationError(message,properties){void 0===message&&(message="Could not initialize person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonInitializationError",Object.setPrototypeOf(_this,PersonInitializationError.prototype),_this}return tslib_1.__extends(PersonInitializationError,_super),PersonInitializationError}(errors_1.BaseError);exports.PersonInitializationError=PersonInitializationError;var PersonFetchRemoteError=function(_super){function PersonFetchRemoteError(message,properties){void 0===message&&(message="Could not get person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonFetchRemoteError",Object.setPrototypeOf(_this,PersonFetchRemoteError.prototype),_this}return tslib_1.__extends(PersonFetchRemoteError,_super),PersonFetchRemoteError}(errors_1.BaseError);exports.PersonFetchRemoteError=PersonFetchRemoteError;var PeopleFetchRemoteError=function(_super){function PeopleFetchRemoteError(message,properties){void 0===message&&(message="Could not get people.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PeopleFetchRemoteError",Object.setPrototypeOf(_this,PeopleFetchRemoteError.prototype),_this}return tslib_1.__extends(PeopleFetchRemoteError,_super),PeopleFetchRemoteError}(errors_1.BaseError);exports.PeopleFetchRemoteError=PeopleFetchRemoteError;var PeopleFetchCountRemoteError=function(_super){function PeopleFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get people count.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PeopleFetchCountRemoteError",Object.setPrototypeOf(_this,PeopleFetchCountRemoteError.prototype),_this}return tslib_1.__extends(PeopleFetchCountRemoteError,_super),PeopleFetchCountRemoteError}(errors_1.BaseError);exports.PeopleFetchCountRemoteError=PeopleFetchCountRemoteError;var AddressFetchRemoteError=function(_super){function AddressFetchRemoteError(message,properties){void 0===message&&(message="Could not get fetch person address data.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AddressFetchRemoteError",Object.setPrototypeOf(_this,AddressFetchRemoteError.prototype),_this}return tslib_1.__extends(AddressFetchRemoteError,_super),AddressFetchRemoteError}(errors_1.BaseError);exports.AddressFetchRemoteError=AddressFetchRemoteError;var AddressCreateRemoteError=function(_super){function AddressCreateRemoteError(message,properties){void 0===message&&(message="Could not create person address.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AddressCreateRemoteError",Object.setPrototypeOf(_this,AddressCreateRemoteError.prototype),_this}return tslib_1.__extends(AddressCreateRemoteError,_super),AddressCreateRemoteError}(errors_1.BaseError);exports.AddressCreateRemoteError=AddressCreateRemoteError;var AddressPatchRemoteError=function(_super){function AddressPatchRemoteError(message,properties){void 0===message&&(message="Could not patch person address.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AddressPatchRemoteError",Object.setPrototypeOf(_this,AddressPatchRemoteError.prototype),_this}return tslib_1.__extends(AddressPatchRemoteError,_super),AddressPatchRemoteError}(errors_1.BaseError);exports.AddressPatchRemoteError=AddressPatchRemoteError;var PersonMergeRemoteError=function(_super){function PersonMergeRemoteError(message,properties){void 0===message&&(message="Could not merge persons.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonMergeRemoteError",Object.setPrototypeOf(_this,PersonMergeRemoteError.prototype),_this}return tslib_1.__extends(PersonMergeRemoteError,_super),PersonMergeRemoteError}(errors_1.BaseError);exports.PersonMergeRemoteError=PersonMergeRemoteError;var PersonGDPRGetRemoteError=function(_super){function PersonGDPRGetRemoteError(message,properties){void 0===message&&(message="Could not get gdpr info for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonGDPRGetRemoteError",Object.setPrototypeOf(_this,PersonGDPRGetRemoteError.prototype),_this}return tslib_1.__extends(PersonGDPRGetRemoteError,_super),PersonGDPRGetRemoteError}(errors_1.BaseError);exports.PersonGDPRGetRemoteError=PersonGDPRGetRemoteError;var PeopleExportRemoteError=function(_super){function PeopleExportRemoteError(message,properties){void 0===message&&(message="Could not export people.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PeopleExportRemoteError",Object.setPrototypeOf(_this,PeopleExportRemoteError.prototype),_this}return tslib_1.__extends(PeopleExportRemoteError,_super),PeopleExportRemoteError}(errors_1.BaseError);exports.PeopleExportRemoteError=PeopleExportRemoteError;var PersonEmailPostRemoteError=function(_super){function PersonEmailPostRemoteError(message,properties){void 0===message&&(message="Could not save email for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonEmailPostRemoteError",Object.setPrototypeOf(_this,PersonEmailPostRemoteError.prototype),_this}return tslib_1.__extends(PersonEmailPostRemoteError,_super),PersonEmailPostRemoteError}(errors_1.BaseError);exports.PersonEmailPostRemoteError=PersonEmailPostRemoteError;var PersonEmailApplyPatchError=function(_super){function PersonEmailApplyPatchError(message,properties){void 0===message&&(message="Could not apply patch on email for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonEmailApplyPatchError",Object.setPrototypeOf(_this,PersonEmailApplyPatchError.prototype),_this}return tslib_1.__extends(PersonEmailApplyPatchError,_super),PersonEmailApplyPatchError}(errors_1.BaseError);exports.PersonEmailApplyPatchError=PersonEmailApplyPatchError;var PersonEmailDeleteError=function(_super){function PersonEmailDeleteError(message,properties){void 0===message&&(message="Could not delete email for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonEmailDeleteError",Object.setPrototypeOf(_this,PersonEmailDeleteError.prototype),_this}return tslib_1.__extends(PersonEmailDeleteError,_super),PersonEmailDeleteError}(errors_1.BaseError);exports.PersonEmailDeleteError=PersonEmailDeleteError;var PersonPreviewNotificationError=function(_super){function PersonPreviewNotificationError(message,properties){void 0===message&&(message="Could not preview notification for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonPreviewNotificationError",Object.setPrototypeOf(_this,PersonPreviewNotificationError.prototype),_this}return tslib_1.__extends(PersonPreviewNotificationError,_super),PersonPreviewNotificationError}(errors_1.BaseError);exports.PersonPreviewNotificationError=PersonPreviewNotificationError;var DealsFetchRemoteError=function(_super){function DealsFetchRemoteError(message,properties){void 0===message&&(message="Could not fetch deals for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealsFetchRemoteError",Object.setPrototypeOf(_this,DealsFetchRemoteError.prototype),_this}return tslib_1.__extends(DealsFetchRemoteError,_super),DealsFetchRemoteError}(errors_1.BaseError);exports.DealsFetchRemoteError=DealsFetchRemoteError;var DealCreateRemoteError=function(_super){function DealCreateRemoteError(message,properties){void 0===message&&(message="Could not create deal for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealCreateRemoteError",Object.setPrototypeOf(_this,DealCreateRemoteError.prototype),_this}return tslib_1.__extends(DealCreateRemoteError,_super),DealCreateRemoteError}(errors_1.BaseError);exports.DealCreateRemoteError=DealCreateRemoteError;var PhonenumbersFetchRemoteError=function(_super){function PhonenumbersFetchRemoteError(message,properties){void 0===message&&(message="Could not fetch phonenumbers for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PhonenumbersFetchRemoteError",Object.setPrototypeOf(_this,PhonenumbersFetchRemoteError.prototype),_this}return tslib_1.__extends(PhonenumbersFetchRemoteError,_super),PhonenumbersFetchRemoteError}(errors_1.BaseError);exports.PhonenumbersFetchRemoteError=PhonenumbersFetchRemoteError;var PhonenumberCreateRemoteError=function(_super){function PhonenumberCreateRemoteError(message,properties){void 0===message&&(message="Could not create phonenumber for person.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PhonenumberCreateRemoteError",Object.setPrototypeOf(_this,PhonenumberCreateRemoteError.prototype),_this}return tslib_1.__extends(PhonenumberCreateRemoteError,_super),PhonenumberCreateRemoteError}(errors_1.BaseError);exports.PhonenumberCreateRemoteError=PhonenumberCreateRemoteError;var PhonenumberPatchRemoteError=function(_super){function PhonenumberPatchRemoteError(message,properties){void 0===message&&(message="Phonenumber patch requires person to be set.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PhonenumberPatchRemoteError",Object.setPrototypeOf(_this,PhonenumberPatchRemoteError.prototype),_this}return tslib_1.__extends(PhonenumberPatchRemoteError,_super),PhonenumberPatchRemoteError}(errors_1.BaseError);exports.PhonenumberPatchRemoteError=PhonenumberPatchRemoteError;var PhonenumberApplyPatchRemoteError=function(_super){function PhonenumberApplyPatchRemoteError(message,properties){void 0===message&&(message="Phonenumber applyPatch requires person to be set.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PhonenumberApplyPatchRemoteError",Object.setPrototypeOf(_this,PhonenumberApplyPatchRemoteError.prototype),_this}return tslib_1.__extends(PhonenumberApplyPatchRemoteError,_super),PhonenumberApplyPatchRemoteError}(errors_1.BaseError);exports.PhonenumberApplyPatchRemoteError=PhonenumberApplyPatchRemoteError},396:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PersonChannelUserMessageTemplateSendError=exports.ChannelUser=void 0;var tslib_1=__webpack_require__(0),event=tslib_1.__importStar(__webpack_require__(81)),feed=tslib_1.__importStar(__webpack_require__(100)),errors_1=__webpack_require__(1),ChannelUser=function(){function ChannelUser(options){var _a;this.universe=options.universe,this.apiCarrier=options.universe,this.http=options.http,this.options=options,this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&this.deserialize(options.rawPayload)}return ChannelUser.prototype.deserialize=function(rawPayload){return this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=rawPayload.deleted,this.active=rawPayload.active,this.person=rawPayload.person,this.lastSourceFetchAt=rawPayload.last_source_fetch_at?new Date(rawPayload.last_source_fetch_at):void 0,this.broker=rawPayload.broker,this.externalPersonReferenceId=rawPayload.external_person_reference_id,this.externalPersonCustomId=rawPayload.external_person_custom_id,this.externalChannelReferenceId=rawPayload.external_channel_reference_id,this.sourceType=rawPayload.source_type,this.sourceApi=rawPayload.source_api,this.payloadName=rawPayload.payload_name,this.comment=rawPayload.comment,this.payload=rawPayload.payload,this.links=rawPayload.links,this.email=rawPayload.email,this.name=rawPayload.name,this.firstName=rawPayload.first_name,this.middleName=rawPayload.middle_name,this.lastName=rawPayload.last_name,this.phone=rawPayload.phone,this},ChannelUser.create=function(payload,universe,http){return new ChannelUser({rawPayload:payload,universe:universe,http:http,initialized:!0})},ChannelUser.createUninitialized=function(payload,universe,http){return new ChannelUser({rawPayload:payload,universe:universe,http:http,initialized:!1})},ChannelUser.prototype.serialize=function(){return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:this.deleted,active:this.active,person:this.person,last_source_fetch_at:this.lastSourceFetchAt?this.lastSourceFetchAt.toISOString():void 0,broker:this.broker,external_person_reference_id:this.externalPersonReferenceId,external_person_custom_id:this.externalPersonCustomId,external_channel_reference_id:this.externalChannelReferenceId,source_type:this.sourceType,source_api:this.sourceApi,payload_name:this.payloadName,comment:this.comment,payload:this.payload,links:this.links,email:this.email,name:this.name,first_name:this.firstName,middle_name:this.middleName,last_name:this.lastName,phone:this.phone}},ChannelUser.prototype.sendMessageFromMessageTemplate=function(messageTemplate,language,parameters,extra){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,_feed,err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/api/v0/people/"+this.person+"/channel_users/"+this.id+"/notifications/templates/"+messageTemplate.id,data:tslib_1.__assign({parameters:parameters,language:language},null!=extra?extra:{})},[4,this.http.getClient()(opts)];case 1:return response=_a.sent(),_feed=feed.Feed.createUninitialized({id:response.data.data[0].id},this.universe,this.http,null),[2,event.Event.create(response.data.data[0],_feed,this.universe,this.http)];case 2:throw err_1=_a.sent(),new PersonChannelUserMessageTemplateSendError(void 0,{error:err_1});case 3:return[2]}}))}))},ChannelUser}();exports.ChannelUser=ChannelUser;var PersonChannelUserMessageTemplateSendError=function(_super){function PersonChannelUserMessageTemplateSendError(message,properties){void 0===message&&(message="Could not send message via message template unexpectedl.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PersonChannelUserMessageTemplateSendError",_this}return tslib_1.__extends(PersonChannelUserMessageTemplateSendError,_super),PersonChannelUserMessageTemplateSendError}(errors_1.BaseError);exports.PersonChannelUserMessageTemplateSendError=PersonChannelUserMessageTemplateSendError},397:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmailSaveRemoteError=exports.EmailApplyPatchRemoteError=exports.EmailPatchRemoteError=exports.EmailFetchRemoteError=exports.EmailCreateRemoteError=exports.EmailsFetchRemoteError=exports.Email=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),just_omit_1=tslib_1.__importDefault(__webpack_require__(233)),Email=function(_super){function Email(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,_this.endpoint="",(null==options?void 0:options.rawPayload)&&options.rawPayload.person&&(_this.endpoint="api/v0/people/"+options.rawPayload.person+"/emails"),(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Email,_super),Email.prototype.deserialize=function(rawPayload){return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=rawPayload.deleted,this.active=rawPayload.active,this.person=rawPayload.person,this.comment=rawPayload.comment,this.value=rawPayload.value,this},Email.create=function(payload,universe,http){return new Email({rawPayload:payload,universe:universe,http:http,initialized:!0})},Email.createUninitialized=function(payload,universe,http){return new Email({rawPayload:payload,universe:universe,http:http,initialized:!1})},Email.prototype.serialize=function(){return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:this.deleted,active:this.active,person:this.person,comment:this.comment,value:this.value}},Email.prototype.patch=function(changePart){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new EmailPatchRemoteError("Email patch requires person to be set.");return[4,this._patch(just_omit_1.default(changePart,["person"]))];case 1:return[2,_a.sent()]}}))}))},Email.prototype.applyPatch=function(patch){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new EmailApplyPatchRemoteError("Email apply patch requires person to be set.");return[4,this._applyPatch(patch)];case 1:return[2,_a.sent()]}}))}))},Email.prototype.save=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new EmailSaveRemoteError("Email save requires person to be set.");return[4,this._save(just_omit_1.default(payload,["person"]))];case 1:return[2,_a.sent()]}}))}))},Email.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.person)throw new EmailPatchRemoteError("Email delete requires person to be set.");return[4,this._delete()];case 1:return[2,_a.sent()]}}))}))},Email}(_base_1.UniverseEntity);exports.Email=Email;var EmailsFetchRemoteError=function(_super){function EmailsFetchRemoteError(message,properties){void 0===message&&(message="Could not get emails.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EmailsFetchRemoteError",Object.setPrototypeOf(_this,EmailsFetchRemoteError.prototype),_this}return tslib_1.__extends(EmailsFetchRemoteError,_super),EmailsFetchRemoteError}(errors_1.BaseError);exports.EmailsFetchRemoteError=EmailsFetchRemoteError;var EmailCreateRemoteError=function(_super){function EmailCreateRemoteError(message,properties){void 0===message&&(message="Could not create email");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EmailCreateRemoteError",Object.setPrototypeOf(_this,EmailCreateRemoteError.prototype),_this}return tslib_1.__extends(EmailCreateRemoteError,_super),EmailCreateRemoteError}(errors_1.BaseError);exports.EmailCreateRemoteError=EmailCreateRemoteError;var EmailFetchRemoteError=function(_super){function EmailFetchRemoteError(message,properties){void 0===message&&(message="Could not fetch emails");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EmailFetchRemoteError",Object.setPrototypeOf(_this,EmailFetchRemoteError.prototype),_this}return tslib_1.__extends(EmailFetchRemoteError,_super),EmailFetchRemoteError}(errors_1.BaseError);exports.EmailFetchRemoteError=EmailFetchRemoteError;var EmailPatchRemoteError=function(_super){function EmailPatchRemoteError(message,properties){void 0===message&&(message="Could not patch email");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EmailPatchRemoteError",Object.setPrototypeOf(_this,EmailPatchRemoteError.prototype),_this}return tslib_1.__extends(EmailPatchRemoteError,_super),EmailPatchRemoteError}(errors_1.BaseError);exports.EmailPatchRemoteError=EmailPatchRemoteError;var EmailApplyPatchRemoteError=function(_super){function EmailApplyPatchRemoteError(message,properties){void 0===message&&(message="Could not apply patch to email");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EmailApplyPatchRemoteError",Object.setPrototypeOf(_this,EmailApplyPatchRemoteError.prototype),_this}return tslib_1.__extends(EmailApplyPatchRemoteError,_super),EmailApplyPatchRemoteError}(errors_1.BaseError);exports.EmailApplyPatchRemoteError=EmailApplyPatchRemoteError;var EmailSaveRemoteError=function(_super){function EmailSaveRemoteError(message,properties){void 0===message&&(message="Could not save email");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EmailSaveRemoteError",Object.setPrototypeOf(_this,EmailSaveRemoteError.prototype),_this}return tslib_1.__extends(EmailSaveRemoteError,_super),EmailSaveRemoteError}(errors_1.BaseError);exports.EmailSaveRemoteError=EmailSaveRemoteError},398:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CartAddItemsRemoteError=exports.CartCreateRemoteError=exports.CartsFetchCountRemoteError=exports.CartsFetchRemoteError=exports.CartFetchRemoteError=exports.CartInitializationError=exports.Carts=exports.Cart=exports.CartItem=exports.ICartStatusEnum=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1);!function(ICartStatusEnum){ICartStatusEnum.open="open",ICartStatusEnum.pending="pending",ICartStatusEnum.completed="completed",ICartStatusEnum.cancelled="cancelled"}(exports.ICartStatusEnum||(exports.ICartStatusEnum={}));var CartItem=function(){function CartItem(options){this.universe=options.universe,this.apiCarrier=options.universe,this.http=options.http,this.options=options,(null==options?void 0:options.rawPayload)&&this.deserialize(options.rawPayload)}return CartItem.prototype.deserialize=function(rawPayload){return this.id=rawPayload.id,this.qty=rawPayload.qty,this.sku=rawPayload.sku,this.name=rawPayload.name,this.amount=rawPayload.amount,this.currency=rawPayload.currency,this.vatRate=rawPayload.vat_rate,this.vatClass=rawPayload.vat_class,this.customVatRate=rawPayload.custom_vat_rate,this.taxRegion=rawPayload.tax_region,this.taxCountry=rawPayload.tax_country,this.additionalTaxes=rawPayload.additional_taxes,this.product=rawPayload.product,this.metadata=rawPayload.metadata,this.customId=rawPayload.custom_id,this.discounts=rawPayload.discounts,this.orderIndex=rawPayload.order_index,this.customProperties=rawPayload.custom_properties,this.shippingRequired=rawPayload.shipping_required,this.externalReferenceId=rawPayload.external_reference_id,this.externalReferenceCustomId=rawPayload.external_reference_custom_id,this},CartItem.create=function(payload,universe,http){return new CartItem({rawPayload:payload,universe:universe,http:http})},CartItem.prototype.serialize=function(){return{id:this.id,qty:this.qty,sku:this.sku,name:this.name,amount:this.amount,currency:this.currency,vat_rate:this.vatRate,vat_class:this.vatClass,custom_vat_rate:this.customVatRate,tax_region:this.taxRegion,tax_country:this.taxCountry,additional_taxes:this.additionalTaxes,product:this.product,metadata:this.metadata,custom_id:this.customId,discounts:this.discounts,order_index:this.orderIndex,custom_properties:this.customProperties,shipping_required:this.shippingRequired,external_reference_id:this.externalReferenceId,external_reference_custom_id:this.externalReferenceCustomId}},CartItem}();exports.CartItem=CartItem;var Cart=function(_super){function Cart(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/carts",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Cart,_super),Cart.prototype.deserialize=function(rawPayload){var _a,_b,_c,_this=this;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.currency=rawPayload.currency,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.customId=rawPayload.custom_id,this.links=rawPayload.links,this.isProxy=null!==(_c=rawPayload.is_proxy)&&void 0!==_c&&_c,this.proxyVendor=rawPayload.proxy_vendor,this.type=rawPayload.type,this.externalReferenceId=rawPayload.external_reference_id,this.externalReferenceCustomId=rawPayload.external_reference_custom_id,this.clientId=rawPayload.client_id,this.person=rawPayload.person,this.personExternalReferenceId=rawPayload.person_external_reference_id,this.note=rawPayload.note,this.comment=rawPayload.comment,this.shippingAddress=rawPayload.shipping_address,this.billingAddress=rawPayload.billing_address,this.contact=rawPayload.contact,this.metadata=rawPayload.metadata,this.customProperies=rawPayload.custom_properies,this.shippingFulfillment=rawPayload.shipping_fulfillment,this.amountTotalGross=rawPayload.amount_total_gross,this.amountTotalNet=rawPayload.amount_total_net,this.amountTotalTax=rawPayload.amount_total_tax,this.amountTotalShippingGross=rawPayload.amount_total_shipping_gross,this.orderPrompt=rawPayload.order_prompt,this.storefront=rawPayload.storefront,this.status=rawPayload.status,this.discounts=rawPayload.discounts,this.shippingMethods=rawPayload.shipping_methods,this.taxesSummary=rawPayload.taxes_summary,this.proxyPayload=rawPayload.proxy_payload,Array.isArray(rawPayload.items)?this.items=rawPayload.items.map((function(item){return CartItem.create(item,_this.universe,_this.http)})):this.items=[],this},Cart.create=function(payload,universe,http){return new Cart({rawPayload:payload,universe:universe,http:http,initialized:!0})},Cart.prototype.serialize=function(){var _a,_b,items;return Array.isArray(this.items)&&(items=this.items.map((function(item){return item.serialize()}))),{id:this.id,currency:this.currency,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,custom_id:this.customId,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,type:this.type,external_reference_id:this.externalReferenceId,external_reference_custom_id:this.externalReferenceCustomId,client_id:this.clientId,person:this.person,person_external_reference_id:this.personExternalReferenceId,note:this.note,comment:this.comment,shipping_address:this.shippingAddress,billing_address:this.billingAddress,contact:this.contact,metadata:this.metadata,custom_properies:this.customProperies,items:items,links:this.links,shipping_fulfillment:this.shippingFulfillment,amount_total_gross:this.amountTotalGross,amount_total_net:this.amountTotalNet,amount_total_tax:this.amountTotalTax,amount_total_shipping_gross:this.amountTotalShippingGross,order_prompt:this.orderPrompt,storefront:this.storefront,status:this.status,discounts:this.discounts,shipping_methods:this.shippingMethods,taxes_summary:this.taxesSummary,proxy_payload:this.proxyPayload}},Cart.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new CartInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Cart.prototype.addItems=function(itemsOptions){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,err_2;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("addItem requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/items",headers:{"Content-Type":"application/json; charset=utf-8"},data:itemsOptions.map((function(itemOption){var _a;return{product:itemOption.product,qty:null!==(_a=itemOption.qty)&&void 0!==_a?_a:1}})),responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return res=_c.sent(),this.deserialize(res.data.data[0]),[2,this];case 3:throw err_2=_c.sent(),new CartAddItemsRemoteError(void 0,{error:err_2});case 4:return[2]}}))}))},Cart}(_base_1.UniverseEntity);exports.Cart=Cart;var Carts=function(){function Carts(){}return Carts.endpoint="api/v0/carts",Carts}();exports.Carts=Carts;var CartInitializationError=function(_super){function CartInitializationError(message,properties){void 0===message&&(message="Could not initialize cart.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CartInitializationError",Object.setPrototypeOf(_this,CartInitializationError.prototype),_this}return tslib_1.__extends(CartInitializationError,_super),CartInitializationError}(errors_1.BaseError);exports.CartInitializationError=CartInitializationError;var CartFetchRemoteError=function(_super){function CartFetchRemoteError(message,properties){void 0===message&&(message="Could not get cart.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CartFetchRemoteError",Object.setPrototypeOf(_this,CartFetchRemoteError.prototype),_this}return tslib_1.__extends(CartFetchRemoteError,_super),CartFetchRemoteError}(errors_1.BaseError);exports.CartFetchRemoteError=CartFetchRemoteError;var CartsFetchRemoteError=function(_super){function CartsFetchRemoteError(message,properties){void 0===message&&(message="Could not get carts.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CartsFetchRemoteError",Object.setPrototypeOf(_this,CartsFetchRemoteError.prototype),_this}return tslib_1.__extends(CartsFetchRemoteError,_super),CartsFetchRemoteError}(errors_1.BaseError);exports.CartsFetchRemoteError=CartsFetchRemoteError;var CartsFetchCountRemoteError=function(_super){function CartsFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get carts count.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CartsFetchCountRemoteError",Object.setPrototypeOf(_this,CartsFetchCountRemoteError.prototype),_this}return tslib_1.__extends(CartsFetchCountRemoteError,_super),CartsFetchCountRemoteError}(errors_1.BaseError);exports.CartsFetchCountRemoteError=CartsFetchCountRemoteError;var CartCreateRemoteError=function(_super){function CartCreateRemoteError(message,properties){void 0===message&&(message="Could not create carts");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CartCreateRemoteError",Object.setPrototypeOf(_this,CartCreateRemoteError.prototype),_this}return tslib_1.__extends(CartCreateRemoteError,_super),CartCreateRemoteError}(errors_1.BaseError);exports.CartCreateRemoteError=CartCreateRemoteError;var CartAddItemsRemoteError=function(_super){function CartAddItemsRemoteError(message,properties){void 0===message&&(message="Could not add items to cart");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CartAddItemsRemoteError",Object.setPrototypeOf(_this,CartAddItemsRemoteError.prototype),_this}return tslib_1.__extends(CartAddItemsRemoteError,_super),CartAddItemsRemoteError}(errors_1.BaseError);exports.CartAddItemsRemoteError=CartAddItemsRemoteError},399:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DealsFetchCountRemoteError=exports.DealsFetchRemoteError=exports.DealFetchRemoteError=exports.DealInitializationError=exports.Deals=exports.Deal=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),crm_1=__webpack_require__(922),people_organization_1=__webpack_require__(923),Deal=function(_super){function Deal(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/deals",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&options.rawPayload.person&&(_this.endpoint="api/v0/people/"+options.rawPayload.person+"/deals"),(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Deal,_super),Deal.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.person=rawPayload.person,this.name=rawPayload.name,this.uri=rawPayload.uri,this.proxyVendor=rawPayload.proxy_vendor,this.kind=rawPayload.kind,this.externalReferenceId=rawPayload.external_reference_id,this.channelUser=rawPayload.channel_user,this.stageExternalReferenceId=rawPayload.stage_external_reference_id,this.crm=rawPayload.crm,this.currency=rawPayload.currency,this.value=rawPayload.value,this.status=rawPayload.status,this.probability=rawPayload.probability,this.date=rawPayload.date,this.nextActivityAt=rawPayload.next_activity_at,this.closedAt=rawPayload.closed_at,this.wonAt=rawPayload.won_at,this.lostAt=rawPayload.lost_at,this.expectedClosingAt=rawPayload.expected_closing_at,this.pipelineExternalReferenceId=rawPayload.pipeline_external_reference_id,this.author=rawPayload.author,this.owner=rawPayload.owner,this.proxyPayload=rawPayload.proxy_payload,this.links=rawPayload.links,this.customProperties=rawPayload.custom_properties,rawPayload.stage&&this.initialized?this.stage=crm_1.PipelineStage.create(rawPayload.stage,this.universe,this.http):rawPayload.stage&&!this.initialized?this.stage=crm_1.PipelineStage.createUninitialized(rawPayload.stage,this.universe,this.http):this.stage||(this.stage=void 0),rawPayload.pipeline&&this.initialized?this.pipeline=crm_1.Pipeline.create(rawPayload.pipeline,this.universe,this.http):rawPayload.pipeline&&!this.initialized?this.pipeline=crm_1.Pipeline.createUninitialized(rawPayload.pipeline,this.universe,this.http):this.pipeline||(this.pipeline=void 0),rawPayload.organization&&this.initialized?this.organization=people_organization_1.PeopleOrganization.create(rawPayload.organization,this.universe,this.http):rawPayload.organization&&!this.initialized?this.organization=people_organization_1.PeopleOrganization.createUninitialized(rawPayload.organization,this.universe,this.http):this.organization||(this.organization=void 0),this},Deal.create=function(payload,universe,http){return new Deal({rawPayload:payload,universe:universe,http:http,initialized:!0})},Deal.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,pipeline:this.pipeline,stage:this.stage,person:this.person,name:this.name,uri:this.uri,proxy_vendor:this.proxyVendor,kind:this.kind,external_reference_id:this.externalReferenceId,channel_user:this.channelUser,stage_external_reference_id:this.stageExternalReferenceId,crm:this.crm,currency:this.currency,value:this.value,status:this.status,probability:this.probability,date:this.date,next_activity_at:this.nextActivityAt,closed_at:this.closedAt,won_at:this.wonAt,lost_at:this.lostAt,expected_closing_at:this.expectedClosingAt,pipeline_external_reference_id:this.pipelineExternalReferenceId,author:this.author,owner:this.owner,proxy_payload:this.proxyPayload,links:this.links,custom_properties:this.customProperties}},Deal.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new DealInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Deal}(_base_1.UniverseEntity);exports.Deal=Deal;var Deals=function(){function Deals(){}return Deals.endpoint="api/v0/deals",Deals}();exports.Deals=Deals;var DealInitializationError=function(_super){function DealInitializationError(message,properties){void 0===message&&(message="Could not initialize deal.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealInitializationError",Object.setPrototypeOf(_this,DealInitializationError.prototype),_this}return tslib_1.__extends(DealInitializationError,_super),DealInitializationError}(errors_1.BaseError);exports.DealInitializationError=DealInitializationError;var DealFetchRemoteError=function(_super){function DealFetchRemoteError(message,properties){void 0===message&&(message="Could not get deal.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealFetchRemoteError",Object.setPrototypeOf(_this,DealFetchRemoteError.prototype),_this}return tslib_1.__extends(DealFetchRemoteError,_super),DealFetchRemoteError}(errors_1.BaseError);exports.DealFetchRemoteError=DealFetchRemoteError;var DealsFetchRemoteError=function(_super){function DealsFetchRemoteError(message,properties){void 0===message&&(message="Could not get deals.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealsFetchRemoteError",Object.setPrototypeOf(_this,DealsFetchRemoteError.prototype),_this}return tslib_1.__extends(DealsFetchRemoteError,_super),DealsFetchRemoteError}(errors_1.BaseError);exports.DealsFetchRemoteError=DealsFetchRemoteError;var DealsFetchCountRemoteError=function(_super){function DealsFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get deals count.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealsFetchCountRemoteError",Object.setPrototypeOf(_this,DealsFetchCountRemoteError.prototype),_this}return tslib_1.__extends(DealsFetchCountRemoteError,_super),DealsFetchCountRemoteError}(errors_1.BaseError);exports.DealsFetchCountRemoteError=DealsFetchCountRemoteError},4:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EntitiesList=exports.EntityFetchError=exports.EntityPutError=exports.EntityDeleteError=exports.EntityPostError=exports.EntityPatchError=exports.UniverseEntity=exports.HookableEvented=void 0;var tslib_1=__webpack_require__(0),just_omit_1=tslib_1.__importDefault(__webpack_require__(233)),events_1=__webpack_require__(22),readable_stream_1=__webpack_require__(347),tapable_1=__webpack_require__(907),helpers_1=__webpack_require__(919),just_diff_1=__webpack_require__(920),qs_1=tslib_1.__importDefault(__webpack_require__(58)),errors_1=__webpack_require__(1),entity_1=__webpack_require__(393),HookableEvented=function(_super){function HookableEvented(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(HookableEvented,_super),HookableEvented}(events_1.EventEmitter);exports.HookableEvented=HookableEvented;var Entity=function(_super){function Entity(){var _this=_super.call(this)||this;return _this._rawPayload=null,_this.hooks={beforeSetRawPayload:new tapable_1.SyncHook(["beforeSetRawPayload"])},_this}return tslib_1.__extends(Entity,_super),Entity.prototype.setRawPayload=function(p){return this.hooks.beforeSetRawPayload.call(p),this._rawPayload=JSON.parse(JSON.stringify(p)),this},Entity.isEntity=function(object){return entity_1.isEntity(object)},Entity.prototype.handleError=function(err){return this.listeners("error").length>0&&this.emit("error",err),err},Entity.prototype.fetch=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._fetch(options)];case 1:return[2,_a.sent()]}}))}))},Entity.prototype._fetch=function(options){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_1;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("fetch requires id to be set.");_d.label=1;case 1:return _d.trys.push([1,3,,4]),opts={method:"GET",url:(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint+"/"+this.id+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{"Content-Type":"application/json; charset=utf-8"},data:void 0,responseType:"json"},[4,null===(_c=this.http)||void 0===_c?void 0:_c.getClient()(opts)];case 2:return response=_d.sent(),this.deserialize(response.data.data[0]),[2,this];case 3:throw err_1=_d.sent(),new EntityFetchError(void 0,{error:err_1});case 4:return[2]}}))}))},Entity.prototype.patch=function(changePart){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._patch(changePart)];case 1:return[2,_a.sent()]}}))}))},Entity.prototype._patch=function(changePart){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var patch,opts,response,err_2;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:if(null===this._rawPayload||void 0===this._rawPayload)throw new TypeError("patch requires raw payload to be set.");if(!changePart)throw new TypeError("patch requires incoming object to be set.");if(null===this.id||void 0===this.id)throw new TypeError("patch requires id to be set.");_d.label=1;case 1:return _d.trys.push([1,3,,4]),patch=just_diff_1.diff(this._rawPayload,tslib_1.__assign(tslib_1.__assign({},this._rawPayload),changePart),just_diff_1.jsonPatchPathConverter),opts={method:"PATCH",url:(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint+"/"+this.id,headers:{"Content-Type":"application/json-patch+json"},data:patch,responseType:"json"},[4,null===(_c=this.http)||void 0===_c?void 0:_c.getClient()(opts)];case 2:return response=_d.sent(),this.deserialize(response.data.data[0]),[2,this];case 3:throw err_2=_d.sent(),new EntityPatchError(void 0,{error:err_2});case 4:return[2]}}))}))},Entity.prototype.applyPatch=function(patch){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._applyPatch(patch)];case 1:return[2,_a.sent()]}}))}))},Entity.prototype._applyPatch=function(patch){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_3;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:if(!patch)throw new TypeError("apply patch requires incoming patch to be set.");if(null===this.id||void 0===this.id)throw new TypeError("apply patch requires id to be set.");_d.label=1;case 1:return _d.trys.push([1,3,,4]),opts={method:"PATCH",url:(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint+"/"+this.id,headers:{"Content-Type":"application/json-patch+json"},data:patch,responseType:"json"},[4,null===(_c=this.http)||void 0===_c?void 0:_c.getClient()(opts)];case 2:return response=_d.sent(),this.deserialize(response.data.data[0]),[2,this];case 3:throw err_3=_d.sent(),new EntityPatchError(void 0,{error:err_3});case 4:return[2]}}))}))},Entity.prototype.post=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._post()];case 1:return[2,_a.sent()]}}))}))},Entity.prototype._post=function(){var _a,_b,_c,_d;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_4;return tslib_1.__generator(this,(function(_e){switch(_e.label){case 0:return _e.trys.push([0,2,,3]),opts={method:"POST",url:(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint,headers:{"Content-Type":"application/json; charset=utf-8"},data:null!==(_c=this._rawPayload)&&void 0!==_c?_c:void 0,responseType:"json"},[4,null===(_d=this.http)||void 0===_d?void 0:_d.getClient()(opts)];case 1:return response=_e.sent(),this.deserialize(response.data.data[0]),[2,this];case 2:throw err_4=_e.sent(),new EntityPostError(void 0,{error:err_4});case 3:return[2]}}))}))},Entity.prototype.put=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._put()];case 1:return[2,_a.sent()]}}))}))},Entity.prototype._put=function(){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var part,opts,response,err_5;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("put requires id to be set.");_d.label=1;case 1:return _d.trys.push([1,3,,4]),part=just_omit_1.default(this.serialize(),["id","created_at","updated_at"]),opts={method:"PUT",url:(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint+"/"+this.id,headers:{"Content-Type":"application/json; charset=utf-8"},data:part,responseType:"json"},[4,null===(_c=this.http)||void 0===_c?void 0:_c.getClient()(opts)];case 2:return response=_d.sent(),this.deserialize(response.data.data[0]),[2,this];case 3:throw err_5=_d.sent(),new EntityPutError(void 0,{error:err_5});case 4:return[2]}}))}))},Entity.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._delete()];case 1:return[2,_a.sent()]}}))}))},Entity.prototype._delete=function(){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_6;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("delete requires id to be set.");_d.label=1;case 1:return _d.trys.push([1,3,,4]),opts={method:"DELETE",url:(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint+"/"+this.id,headers:{"Content-Type":"application/json; charset=utf-8"},data:void 0,responseType:"json"},[4,null===(_c=this.http)||void 0===_c?void 0:_c.getClient()(opts)];case 2:return _d.sent(),[2,this];case 3:throw err_6=_d.sent(),new EntityDeleteError(void 0,{error:err_6});case 4:return[2]}}))}))},Entity.prototype.save=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._save(payload)];case 1:return[2,_a.sent()]}}))}))},Entity.prototype._save=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return this.id&&void 0===payload?[4,this.put()]:[3,2];case 1:return[2,_a.sent()];case 2:return this.id&&payload?[4,this.patch(payload)]:[3,4];case 3:return[2,_a.sent()];case 4:return this.id||!payload?[3,6]:(this.deserialize(payload),[4,this.post()]);case 5:return[2,_a.sent()];case 6:throw new TypeError("save requires a sendable payload")}}))}))},Entity}(HookableEvented);exports.default=Entity;var UniverseEntity=function(_super){function UniverseEntity(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(UniverseEntity,_super),UniverseEntity}(Entity);exports.UniverseEntity=UniverseEntity;var EntityPatchError=function(_super){function EntityPatchError(message,properties){void 0===message&&(message="Could not partially alter resource unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EntityPatchError",_this}return tslib_1.__extends(EntityPatchError,_super),EntityPatchError}(errors_1.BaseError);exports.EntityPatchError=EntityPatchError;var EntityPostError=function(_super){function EntityPostError(message,properties){void 0===message&&(message="Could not create resource unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EntityPostError",_this}return tslib_1.__extends(EntityPostError,_super),EntityPostError}(errors_1.BaseError);exports.EntityPostError=EntityPostError;var EntityDeleteError=function(_super){function EntityDeleteError(message,properties){void 0===message&&(message="Could not delete resource unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EntityDeleteError",_this}return tslib_1.__extends(EntityDeleteError,_super),EntityDeleteError}(errors_1.BaseError);exports.EntityDeleteError=EntityDeleteError;var EntityPutError=function(_super){function EntityPutError(message,properties){void 0===message&&(message="Could not alter resource unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EntityPutError",_this}return tslib_1.__extends(EntityPutError,_super),EntityPutError}(errors_1.BaseError);exports.EntityPutError=EntityPutError;var EntityFetchError=function(_super){function EntityFetchError(message,properties){void 0===message&&(message="Could fetch resource unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EntityFetchError",_this}return tslib_1.__extends(EntityFetchError,_super),EntityFetchError}(errors_1.BaseError);exports.EntityFetchError=EntityFetchError;var EntitiesList=function(_super){function EntitiesList(){return _super.call(this,{objectMode:!0})||this}return tslib_1.__extends(EntitiesList,_super),EntitiesList.prototype._read=function(){},EntitiesList.prototype._getStream=function(options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var uri,response,err,stream,reader,read,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return uri=(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint+"/"+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),[4,fetch(uri,{headers:tslib_1.__assign(tslib_1.__assign({},this.http.getDefaultHeaders()),{Accept:"application/x-ndjson"})})];case 1:if(!(response=_c.sent()).body)throw err=new TypeError("unexpected stream response"),this.emit("error",err),err;return stream=helpers_1.ndjsonStream(response.body),(reader=stream.getReader()).read().then(read=function(result){result.done?_this.push(null):(_this.push(_this.parseItem(result.value)),reader.read().then(read).catch((function(err){_this.emit("error",err)})))}).catch((function(err){_this.emit("error",err)})),[2,this]}}))}))},EntitiesList.prototype._exportCsv=function(options){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,_this=this;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:return opts={method:"GET",url:(null===(_b=null===(_a=this.apiCarrier)||void 0===_a?void 0:_a.injectables)||void 0===_b?void 0:_b.base)+"/"+this.endpoint+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{Accept:"text/csv"},responseType:"blob"},[4,null===(_c=this.http)||void 0===_c?void 0:_c.getClient()(opts).then((function(res){return res.data})).catch((function(err){_this.emit("error",err)}))];case 1:return[2,_d.sent()]}}))}))},EntitiesList.pipeline=readable_stream_1.pipeline,EntitiesList}(readable_stream_1.Readable);exports.EntitiesList=EntitiesList},400:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CRMSyncOrganizationsRemoteError=exports.CRMSetupRemoteError=exports.CRMSyncChannelUsersRemoteError=exports.CRMSyncPipelinesRemoteError=exports.CRMSyncDealsRemoteError=exports.CRMSyncCustomPropertiesRemoteError=exports.CRMsFetchRemoteError=exports.CRMFetchRemoteError=exports.CRMInitializationError=exports.CRMs=exports.CRM=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),CRM=function(_super){function CRM(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/crms",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(CRM,_super),CRM.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.uri=rawPayload.uri,this.isProxy=rawPayload.is_proxy,this.proxyVendor=rawPayload.proxy_vendor,this.configuration=rawPayload.configuration,this.integrationConfiguration=rawPayload.integration_configuration,this.isSetUp=rawPayload.is_set_up,this.metadata=rawPayload.metadata,this.labels=rawPayload.labels,this},CRM.create=function(payload,universe,http){return new CRM({rawPayload:payload,universe:universe,http:http,initialized:!0})},CRM.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,uri:this.uri,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,configuration:this.configuration,integration_configuration:this.integrationConfiguration,is_set_up:this.isSetUp,metadata:this.metadata,labels:this.labels}},CRM.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new CRMInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},CRM.prototype.syncCustomProperties=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_2;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("CRM syncCustomProperties requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/custom_properties",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_2=_b.sent(),this.handleError(new CRMSyncCustomPropertiesRemoteError(void 0,{error:err_2}));case 4:return[2]}}))}))},CRM.prototype.syncDeals=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_3;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("CRM syncDeals requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/deals",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_3=_b.sent(),this.handleError(new CRMSyncDealsRemoteError(void 0,{error:err_3}));case 4:return[2]}}))}))},CRM.prototype.syncChannelUsers=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_4;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("CRM syncChannelUsers requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/channel_users",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_4=_b.sent(),this.handleError(new CRMSyncChannelUsersRemoteError(void 0,{error:err_4}));case 4:return[2]}}))}))},CRM.prototype.syncPipelines=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_5;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("CRM syncPipelines requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/pipelines",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_5=_b.sent(),this.handleError(new CRMSyncPipelinesRemoteError(void 0,{error:err_5}));case 4:return[2]}}))}))},CRM.prototype.syncOrganizations=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_6;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("CRM syncOrganizations requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/people_organizations",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_6=_b.sent(),this.handleError(new CRMSyncOrganizationsRemoteError(void 0,{error:err_6}));case 4:return[2]}}))}))},CRM.prototype.setup=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_7;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("CRM setup requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/setup",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_7=_b.sent(),this.handleError(new CRMSetupRemoteError(void 0,{error:err_7}));case 4:return[2]}}))}))},CRM}(_base_1.UniverseEntity);exports.CRM=CRM;var CRMs=function(){function CRMs(){}return CRMs.endpoint="api/v0/crms",CRMs}();exports.CRMs=CRMs;var CRMInitializationError=function(_super){function CRMInitializationError(message,properties){void 0===message&&(message="Could not initialize crm.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMInitializationError",Object.setPrototypeOf(_this,CRMInitializationError.prototype),_this}return tslib_1.__extends(CRMInitializationError,_super),CRMInitializationError}(errors_1.BaseError);exports.CRMInitializationError=CRMInitializationError;var CRMFetchRemoteError=function(_super){function CRMFetchRemoteError(message,properties){void 0===message&&(message="Could not get crm.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMFetchRemoteError",Object.setPrototypeOf(_this,CRMFetchRemoteError.prototype),_this}return tslib_1.__extends(CRMFetchRemoteError,_super),CRMFetchRemoteError}(errors_1.BaseError);exports.CRMFetchRemoteError=CRMFetchRemoteError;var CRMsFetchRemoteError=function(_super){function CRMsFetchRemoteError(message,properties){void 0===message&&(message="Could not get crms.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMsFetchRemoteError",Object.setPrototypeOf(_this,CRMsFetchRemoteError.prototype),_this}return tslib_1.__extends(CRMsFetchRemoteError,_super),CRMsFetchRemoteError}(errors_1.BaseError);exports.CRMsFetchRemoteError=CRMsFetchRemoteError;var CRMSyncCustomPropertiesRemoteError=function(_super){function CRMSyncCustomPropertiesRemoteError(message,properties){void 0===message&&(message="Could not start sync of crms' custom properties.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMSyncCustomPropertiesRemoteError",Object.setPrototypeOf(_this,CRMSyncCustomPropertiesRemoteError.prototype),_this}return tslib_1.__extends(CRMSyncCustomPropertiesRemoteError,_super),CRMSyncCustomPropertiesRemoteError}(errors_1.BaseError);exports.CRMSyncCustomPropertiesRemoteError=CRMSyncCustomPropertiesRemoteError;var CRMSyncDealsRemoteError=function(_super){function CRMSyncDealsRemoteError(message,properties){void 0===message&&(message="Could not start sync of crm deals.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMSyncDealsRemoteError",Object.setPrototypeOf(_this,CRMSyncDealsRemoteError.prototype),_this}return tslib_1.__extends(CRMSyncDealsRemoteError,_super),CRMSyncDealsRemoteError}(errors_1.BaseError);exports.CRMSyncDealsRemoteError=CRMSyncDealsRemoteError;var CRMSyncPipelinesRemoteError=function(_super){function CRMSyncPipelinesRemoteError(message,properties){void 0===message&&(message="Could not start sync of crm pipelines.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMSyncPipelinesRemoteError",Object.setPrototypeOf(_this,CRMSyncPipelinesRemoteError.prototype),_this}return tslib_1.__extends(CRMSyncPipelinesRemoteError,_super),CRMSyncPipelinesRemoteError}(errors_1.BaseError);exports.CRMSyncPipelinesRemoteError=CRMSyncPipelinesRemoteError;var CRMSyncChannelUsersRemoteError=function(_super){function CRMSyncChannelUsersRemoteError(message,properties){void 0===message&&(message="Could not start sync of crm chanel users.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMSyncChannelUsersRemoteError",Object.setPrototypeOf(_this,CRMSyncChannelUsersRemoteError.prototype),_this}return tslib_1.__extends(CRMSyncChannelUsersRemoteError,_super),CRMSyncChannelUsersRemoteError}(errors_1.BaseError);exports.CRMSyncChannelUsersRemoteError=CRMSyncChannelUsersRemoteError;var CRMSetupRemoteError=function(_super){function CRMSetupRemoteError(message,properties){void 0===message&&(message="Could not start setup of crm.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMSetupRemoteError",Object.setPrototypeOf(_this,CRMSetupRemoteError.prototype),_this}return tslib_1.__extends(CRMSetupRemoteError,_super),CRMSetupRemoteError}(errors_1.BaseError);exports.CRMSetupRemoteError=CRMSetupRemoteError;var CRMSyncOrganizationsRemoteError=function(_super){function CRMSyncOrganizationsRemoteError(message,properties){void 0===message&&(message="Could not start remote org sync.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CRMSyncOrganizationsRemoteError",Object.setPrototypeOf(_this,CRMSyncOrganizationsRemoteError.prototype),_this}return tslib_1.__extends(CRMSyncOrganizationsRemoteError,_super),CRMSyncOrganizationsRemoteError}(errors_1.BaseError);exports.CRMSyncOrganizationsRemoteError=CRMSyncOrganizationsRemoteError},401:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelinesFetchRemoteError=exports.PipelineFetchRemoteError=exports.PipelineInitializationError=exports.Pipeline=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),pipeline_stage_1=__webpack_require__(235),Pipeline=function(_super){function Pipeline(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,_this.endpoint="",(null==options?void 0:options.rawPayload)&&options.rawPayload.crm&&(_this.endpoint="api/v0/crms/"+options.rawPayload.crm+"/pipelines"),(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Pipeline,_super),Pipeline.prototype.deserialize=function(rawPayload){var _a,_b,_this=this;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.externalReferenceId=rawPayload.external_reference_id,this.kind=rawPayload.kind,this.crm=rawPayload.crm,this.proxyVendor=rawPayload.proxy_vendor,this.proxyPayload=rawPayload.proxy_payload,rawPayload.stages&&this.initialized?this.stages=rawPayload.stages.map((function(i){return pipeline_stage_1.PipelineStage.create(i,_this.universe,_this.http)})):rawPayload.stages&&!this.initialized?this.stages=rawPayload.stages.map((function(i){return pipeline_stage_1.PipelineStage.createUninitialized(i,_this.universe,_this.http)})):this.stages||(this.stages=void 0),this},Pipeline.create=function(payload,universe,http){return new Pipeline({rawPayload:payload,universe:universe,http:http,initialized:!0})},Pipeline.createUninitialized=function(payload,universe,http){return new Pipeline({rawPayload:payload,universe:universe,http:http,initialized:!1})},Pipeline.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,external_reference_id:this.externalReferenceId,kind:this.kind,crm:this.crm,stages:this.stages,proxy_vendor:this.proxyVendor,proxy_payload:this.proxyPayload}},Pipeline.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new PipelineInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Pipeline}(_base_1.UniverseEntity);exports.Pipeline=Pipeline;var PipelineInitializationError=function(_super){function PipelineInitializationError(message,properties){void 0===message&&(message="Could not initialize pipeline.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PipelineInitializationError",Object.setPrototypeOf(_this,PipelineInitializationError.prototype),_this}return tslib_1.__extends(PipelineInitializationError,_super),PipelineInitializationError}(errors_1.BaseError);exports.PipelineInitializationError=PipelineInitializationError;var PipelineFetchRemoteError=function(_super){function PipelineFetchRemoteError(message,properties){void 0===message&&(message="Could not get pipeline.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PipelineFetchRemoteError",Object.setPrototypeOf(_this,PipelineFetchRemoteError.prototype),_this}return tslib_1.__extends(PipelineFetchRemoteError,_super),PipelineFetchRemoteError}(errors_1.BaseError);exports.PipelineFetchRemoteError=PipelineFetchRemoteError;var PipelinesFetchRemoteError=function(_super){function PipelinesFetchRemoteError(message,properties){void 0===message&&(message="Could not get pipelines.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PipelinesFetchRemoteError",Object.setPrototypeOf(_this,PipelinesFetchRemoteError.prototype),_this}return tslib_1.__extends(PipelinesFetchRemoteError,_super),PipelinesFetchRemoteError}(errors_1.BaseError);exports.PipelinesFetchRemoteError=PipelinesFetchRemoteError},402:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PeopleOrganizationsFetchRemoteError=exports.PeopleOrganizationFetchRemoteError=exports.PeopleOrganizationInitializationError=exports.PeopleOrganizations=exports.PeopleOrganization=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),PeopleOrganization=function(_super){function PeopleOrganization(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/people_organizations",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(PeopleOrganization,_super),PeopleOrganization.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.customProperties=rawPayload.custom_properties,this.address=rawPayload.address,this.isProxy=rawPayload.is_proxy,this.proxyPayload=rawPayload.proxy_payload,this},PeopleOrganization.create=function(payload,universe,http){return new PeopleOrganization({rawPayload:payload,universe:universe,http:http,initialized:!0})},PeopleOrganization.createUninitialized=function(payload,universe,http){return new PeopleOrganization({rawPayload:payload,universe:universe,http:http,initialized:!1})},PeopleOrganization.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,custom_properties:this.customProperties,address:this.address,is_proxy:this.isProxy,proxy_payload:this.proxyPayload}},PeopleOrganization.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new PeopleOrganizationInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},PeopleOrganization}(_base_1.UniverseEntity);exports.PeopleOrganization=PeopleOrganization;var PeopleOrganizations=function(){function PeopleOrganizations(){}return PeopleOrganizations.endpoint="api/v0/people_organizations",PeopleOrganizations}();exports.PeopleOrganizations=PeopleOrganizations;var PeopleOrganizationInitializationError=function(_super){function PeopleOrganizationInitializationError(message,properties){void 0===message&&(message="Could not initialize people_organization.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PeopleOrganizationInitializationError",Object.setPrototypeOf(_this,PeopleOrganizationInitializationError.prototype),_this}return tslib_1.__extends(PeopleOrganizationInitializationError,_super),PeopleOrganizationInitializationError}(errors_1.BaseError);exports.PeopleOrganizationInitializationError=PeopleOrganizationInitializationError;var PeopleOrganizationFetchRemoteError=function(_super){function PeopleOrganizationFetchRemoteError(message,properties){void 0===message&&(message="Could not get people_organization.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PeopleOrganizationFetchRemoteError",Object.setPrototypeOf(_this,PeopleOrganizationFetchRemoteError.prototype),_this}return tslib_1.__extends(PeopleOrganizationFetchRemoteError,_super),PeopleOrganizationFetchRemoteError}(errors_1.BaseError);exports.PeopleOrganizationFetchRemoteError=PeopleOrganizationFetchRemoteError;var PeopleOrganizationsFetchRemoteError=function(_super){function PeopleOrganizationsFetchRemoteError(message,properties){void 0===message&&(message="Could not get people_organizations.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="PeopleOrganizationsFetchRemoteError",Object.setPrototypeOf(_this,PeopleOrganizationsFetchRemoteError.prototype),_this}return tslib_1.__extends(PeopleOrganizationsFetchRemoteError,_super),PeopleOrganizationsFetchRemoteError}(errors_1.BaseError);exports.PeopleOrganizationsFetchRemoteError=PeopleOrganizationsFetchRemoteError},403:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductInventoryError=exports.ProductsFetchCountRemoteError=exports.ProductsFetchRemoteError=exports.ProductFetchRemoteError=exports.ProductInitializationError=exports.Products=exports.Product=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),inventory_1=__webpack_require__(931),errors_1=__webpack_require__(1),Product=function(_super){function Product(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/products",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Product,_super),Product.prototype.deserialize=function(rawPayload){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.customId=rawPayload.custom_id,this.name=rawPayload.name,this.summary=rawPayload.summary,this.description=rawPayload.description,this.brand=rawPayload.brand,this.assets=rawPayload.assets,this.assetsConfig=rawPayload.assets_config,this.condition=rawPayload.condition,this.manufacturers=rawPayload.manufacturers,this.suppliers=rawPayload.suppliers,this.producedAt=rawPayload.produced_at?new Date(rawPayload.produced_at):void 0,this.purchasedAt=rawPayload.purchased_at?new Date(rawPayload.purchased_at):void 0,this.releasedAt=rawPayload.released_at?new Date(rawPayload.released_at):void 0,this.similarTo=rawPayload.similar_to,this.relatedTo=rawPayload.related_to,this.audiences=rawPayload.audiences,this.keywords=rawPayload.keywords,this.categories=rawPayload.categories,this.isProxy=null!==(_c=rawPayload.is_proxy)&&void 0!==_c&&_c,this.proxyVendor=rawPayload.proxy_vendor,this.type=rawPayload.type,this.attributes=rawPayload.attributes,this.sku=rawPayload.sku,this.stockMinimum=rawPayload.stock_minimum,this.stockMaximum=rawPayload.stock_maximum,this.stockable=null===(_d=rawPayload.stockable)||void 0===_d||_d,this.parent=rawPayload.parent,this.seasons=rawPayload.seasons,this.tags=rawPayload.tags,this.codes=rawPayload.codes,this.i18n=rawPayload.i18n,this.externalReferenceId=rawPayload.external_reference_id,this.externalReferenceCustomId=rawPayload.external_reference_custom_id,this.clientId=rawPayload.client_id,this.discountable=null!==(_e=rawPayload.discountable)&&void 0!==_e&&_e,this.linkable=null!==(_f=rawPayload.linkable)&&void 0!==_f&&_f,this.isService=null!==(_g=rawPayload.is_service)&&void 0!==_g&&_g,this.warrantyNotice=rawPayload.warranty_notice,this.refundPolicy=rawPayload.refund_policy,this.disclaimer=rawPayload.disclaimer,this.offlineAvailable=null!==(_h=rawPayload.offline_available)&&void 0!==_h&&_h,this.onlineAvailable=null===(_j=rawPayload.online_available)||void 0===_j||_j,this.shippingFequired=null===(_k=rawPayload.shipping_required)||void 0===_k||_k,this.proxyConfiguration=rawPayload.proxy_configuration,this.inventoryExternalReferenceId=rawPayload.inventory_external_reference_id,this.links=rawPayload.links,this.metadata=rawPayload.metadata,this.prices=rawPayload.prices,this.children=rawPayload.children,this.attributesOptions=rawPayload.options,this},Product.create=function(payload,universe,http){return new Product({rawPayload:payload,universe:universe,http:http,initialized:!0})},Product.prototype.serialize=function(){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,custom_id:this.customId,name:this.name,summary:this.summary,description:this.description,brand:this.brand,assets:this.assets,assets_config:this.assetsConfig,condition:this.condition,manufacturers:this.manufacturers,suppliers:this.suppliers,produced_at:this.producedAt?this.producedAt.toISOString():void 0,purchased_at:this.purchasedAt?this.purchasedAt.toISOString():void 0,released_at:this.releasedAt?this.releasedAt.toISOString():void 0,similar_to:this.similarTo,related_to:this.relatedTo,audiences:this.audiences,keywords:this.keywords,categories:this.categories,is_proxy:null!==(_c=this.isProxy)&&void 0!==_c&&_c,proxy_vendor:this.proxyVendor,type:this.type,attributes:this.attributes,sku:this.sku,stock_minimum:this.stockMinimum,stock_maximum:this.stockMaximum,stockable:null===(_d=this.stockable)||void 0===_d||_d,parent:this.parent,seasons:this.seasons,tags:this.tags,codes:this.codes,i18n:this.i18n,external_reference_id:this.externalReferenceId,external_reference_custom_id:this.externalReferenceCustomId,client_id:this.clientId,discountable:null!==(_e=this.discountable)&&void 0!==_e&&_e,linkable:null!==(_f=this.linkable)&&void 0!==_f&&_f,is_service:null!==(_g=this.isService)&&void 0!==_g&&_g,warranty_notice:this.warrantyNotice,refund_policy:this.refundPolicy,disclaimer:this.disclaimer,offline_available:null!==(_h=this.offlineAvailable)&&void 0!==_h&&_h,online_available:null===(_j=this.onlineAvailable)||void 0===_j||_j,shipping_required:null===(_k=this.shippingFequired)||void 0===_k||_k,proxy_configuration:this.proxyConfiguration,inventory_external_reference_id:this.inventoryExternalReferenceId,links:this.links,metadata:this.metadata,prices:this.prices,children:this.children,options:this.attributesOptions}},Product.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ProductInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Product.prototype.inventory=function(){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_2,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,2,,3]),opts={method:"GET",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/inventory",headers:{"Content-Type":"application/json; charset=utf-8"},data:void 0,responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 1:return response=_c.sent(),[2,response.data.data.map((function(resource){return inventory_1.Inventory.create(resource,_this.universe,_this.http)}))];case 2:throw err_2=_c.sent(),this.handleError(new ProductInventoryError(void 0,{error:err_2}));case 3:return[2]}}))}))},Product}(_base_1.UniverseEntity);exports.Product=Product;var Products=function(){function Products(){}return Products.endpoint="api/v0/products",Products}();exports.Products=Products;var ProductInitializationError=function(_super){function ProductInitializationError(message,properties){void 0===message&&(message="Could not initialize product.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductInitializationError",_this}return tslib_1.__extends(ProductInitializationError,_super),ProductInitializationError}(errors_1.BaseError);exports.ProductInitializationError=ProductInitializationError;var ProductFetchRemoteError=function(_super){function ProductFetchRemoteError(message,properties){void 0===message&&(message="Could not get product.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductFetchRemoteError",_this}return tslib_1.__extends(ProductFetchRemoteError,_super),ProductFetchRemoteError}(errors_1.BaseError);exports.ProductFetchRemoteError=ProductFetchRemoteError;var ProductsFetchRemoteError=function(_super){function ProductsFetchRemoteError(message,properties){void 0===message&&(message="Could not get products.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductsFetchRemoteError",_this}return tslib_1.__extends(ProductsFetchRemoteError,_super),ProductsFetchRemoteError}(errors_1.BaseError);exports.ProductsFetchRemoteError=ProductsFetchRemoteError;var ProductsFetchCountRemoteError=function(_super){function ProductsFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get products.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductsFetchRemoteError",_this}return tslib_1.__extends(ProductsFetchCountRemoteError,_super),ProductsFetchCountRemoteError}(errors_1.BaseError);exports.ProductsFetchCountRemoteError=ProductsFetchCountRemoteError;var ProductInventoryError=function(_super){function ProductInventoryError(message,properties){void 0===message&&(message="Could not get product inventory.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductInventoryError",_this}return tslib_1.__extends(ProductInventoryError,_super),ProductInventoryError}(errors_1.BaseError);exports.ProductInventoryError=ProductInventoryError},404:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InventoriesFetchRemoteError=exports.InventoryFetchRemoteError=exports.InventoryInitializationError=exports.Inventories=exports.Inventory=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Inventory=function(_super){function Inventory(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/inventories",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Inventory,_super),Inventory.prototype.deserialize=function(rawPayload){var _a;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.product=rawPayload.product,this.location=rawPayload.location,this.externalReferenceId=rawPayload.external_reference_id,this.sourceApi=rawPayload.source_api,this.sourceType=rawPayload.source_type,this.proxyVendor=rawPayload.proxy_vendor,this.isProxy=rawPayload.is_proxy,this.qty=rawPayload.qty,this},Inventory.create=function(payload,universe,http){return new Inventory({rawPayload:payload,universe:universe,http:http,initialized:!0})},Inventory.prototype.serialize=function(){var _a;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,product:this.product,location:this.location,external_reference_id:this.externalReferenceId,source_api:this.sourceApi,source_type:this.sourceType,proxy_vendor:this.proxyVendor,is_proxy:this.isProxy,qty:this.qty}},Inventory.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new InventoryInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Inventory}(_base_1.UniverseEntity);exports.Inventory=Inventory;var Inventories=function(){function Inventories(){}return Inventories.endpoint="api/v0/inventories",Inventories}();exports.Inventories=Inventories;var InventoryInitializationError=function(_super){function InventoryInitializationError(message,properties){void 0===message&&(message="Could not initialize inventory.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="InventoryInitializationError",Object.setPrototypeOf(_this,InventoryInitializationError.prototype),_this}return tslib_1.__extends(InventoryInitializationError,_super),InventoryInitializationError}(errors_1.BaseError);exports.InventoryInitializationError=InventoryInitializationError;var InventoryFetchRemoteError=function(_super){function InventoryFetchRemoteError(message,properties){void 0===message&&(message="Could not get inventory.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="InventoryFetchRemoteError",Object.setPrototypeOf(_this,InventoryFetchRemoteError.prototype),_this}return tslib_1.__extends(InventoryFetchRemoteError,_super),InventoryFetchRemoteError}(errors_1.BaseError);exports.InventoryFetchRemoteError=InventoryFetchRemoteError;var InventoriesFetchRemoteError=function(_super){function InventoriesFetchRemoteError(message,properties){void 0===message&&(message="Could not get inventories.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="InventoriesFetchRemoteError",Object.setPrototypeOf(_this,InventoriesFetchRemoteError.prototype),_this}return tslib_1.__extends(InventoriesFetchRemoteError,_super),InventoriesFetchRemoteError}(errors_1.BaseError);exports.InventoriesFetchRemoteError=InventoriesFetchRemoteError},405:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoutesFetchRemoteError=exports.RouteFetchRemoteError=exports.RouteInitializationError=exports.Routes=exports.Route=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Route=function(_super){function Route(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/routes",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Route,_super),Route.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.description=rawPayload.description,this.topic=rawPayload.topic,this.logic=rawPayload.logic,this.effect=rawPayload.effect,this.kind=rawPayload.kind,this.labels=rawPayload.labels,this},Route.create=function(payload,universe,http){return new Route({rawPayload:payload,universe:universe,http:http,initialized:!0})},Route.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,description:this.description,topic:this.topic,logic:this.logic,effect:this.effect,kind:this.kind,labels:this.labels}},Route.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new RouteInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Route}(_base_1.UniverseEntity);exports.Route=Route;var Routes=function(){function Routes(){}return Routes.endpoint="api/v0/routes",Routes}();exports.Routes=Routes;var RouteInitializationError=function(_super){function RouteInitializationError(message,properties){void 0===message&&(message="Could not initialize route.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="RouteInitializationError",Object.setPrototypeOf(_this,RouteInitializationError.prototype),_this}return tslib_1.__extends(RouteInitializationError,_super),RouteInitializationError}(errors_1.BaseError);exports.RouteInitializationError=RouteInitializationError;var RouteFetchRemoteError=function(_super){function RouteFetchRemoteError(message,properties){void 0===message&&(message="Could not get route.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="RouteFetchRemoteError",Object.setPrototypeOf(_this,RouteFetchRemoteError.prototype),_this}return tslib_1.__extends(RouteFetchRemoteError,_super),RouteFetchRemoteError}(errors_1.BaseError);exports.RouteFetchRemoteError=RouteFetchRemoteError;var RoutesFetchRemoteError=function(_super){function RoutesFetchRemoteError(message,properties){void 0===message&&(message="Could not get routes.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="RoutesFetchRemoteError",Object.setPrototypeOf(_this,RoutesFetchRemoteError.prototype),_this}return tslib_1.__extends(RoutesFetchRemoteError,_super),RoutesFetchRemoteError}(errors_1.BaseError);exports.RoutesFetchRemoteError=RoutesFetchRemoteError},406:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContactListPreviewRemoteError=exports.ContactListsFetchCountRemoteError=exports.ContactListsFetchRemoteError=exports.ContactListFetchRemoteError=exports.ContactListInitializationError=exports.ContactLists=exports.ContactList=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),static_entry_1=__webpack_require__(952),qs_1=tslib_1.__importDefault(__webpack_require__(58)),ContactList=function(_super){function ContactList(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/contact_lists",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(ContactList,_super),ContactList.prototype.deserialize=function(rawPayload){var _a,_b,_this=this;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.summary=rawPayload.summary,this.filters=rawPayload.filters,this.type=rawPayload.type,this.author=rawPayload.author,rawPayload.static_entries&&this.initialized?this._staticEntries=rawPayload.static_entries.map((function(i){return static_entry_1.ContactListStaticEntry.create(i,_this.universe,_this.http)})):rawPayload.static_entries&&!this.initialized?this._staticEntries=rawPayload.static_entries.map((function(i){return static_entry_1.ContactListStaticEntry.createUninitialized(i,_this.universe,_this.http)})):this._staticEntries=void 0,this},ContactList.create=function(payload,universe,http){return new ContactList({rawPayload:payload,universe:universe,http:http,initialized:!0})},ContactList.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,summary:this.summary,filters:this.filters,type:this.type,author:this.author}},ContactList.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ContactListInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},ContactList.prototype.preview=function(options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resources,err_2,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,2,,3]),opts={method:"GET",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/preview"+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 1:return res=_c.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(item){return static_entry_1.ContactListStaticEntry.create(item,_this.universe,_this.http)}))];case 2:throw err_2=_c.sent(),this.handleError(new ContactListPreviewRemoteError(void 0,{error:err_2}));case 3:return[2]}}))}))},Object.defineProperty(ContactList.prototype,"staticEntries",{get:function(){var _a;return new StaticEntryArray(null!==(_a=this._staticEntries)&&void 0!==_a?_a:[],this.universe,this.http,this)},set:function(items){this._staticEntries=items.map((function(item){return item}))},enumerable:!1,configurable:!0}),ContactList}(_base_1.UniverseEntity);exports.ContactList=ContactList;var ContactLists=function(){function ContactLists(){}return ContactLists.endpoint="api/v0/contact_lists",ContactLists}();exports.ContactLists=ContactLists;var StaticEntryArray=function(_super){function StaticEntryArray(items,universe,http,contactList){var _this=_super.apply(this,items)||this;return _this.universe=universe,_this.apiCarrier=universe,_this.http=http,_this.contactList=contactList,Object.setPrototypeOf(_this,StaticEntryArray.prototype),_this}return tslib_1.__extends(StaticEntryArray,_super),StaticEntryArray.prototype.fromJson=function(payloads){var _this=this;return payloads.map((function(item){return static_entry_1.ContactListStaticEntry.create(item,_this.universe,_this.http)}))},StaticEntryArray.prototype.toJson=function(items){return items.map((function(item){return item.serialize()}))},StaticEntryArray.prototype.fetch=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resources,err_3,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universe.universeBase+"/"+ContactLists.endpoint+"/"+this.contactList.id+"/static_entries",params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{})},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(item){return static_entry_1.ContactListStaticEntry.create(item,_this.universe,_this.http)}))];case 2:throw err_3=_a.sent(),new static_entry_1.ContactListStaticEntryFetchRemoteError(void 0,{error:err_3});case 3:return[2]}}))}))},StaticEntryArray.prototype.create=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,err_4,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+ContactLists.endpoint+"/"+this.contactList.id+"/static_entries",data:payload},[4,this.http.getClient()(opts)];case 1:return res=_a.sent(),[2,res.data.data.map((function(item){return static_entry_1.ContactListStaticEntry.create(item,_this.universe,_this.http)}))[0]];case 2:throw err_4=_a.sent(),new static_entry_1.ContactListStaticEntryCreateRemoteError(void 0,{error:err_4});case 3:return[2]}}))}))},StaticEntryArray.prototype.delete=function(payload,options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_5;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(null===payload.id||void 0===payload.id)throw new TypeError("delete requires id to be set.");_a.label=1;case 1:return _a.trys.push([1,3,,4]),opts={method:"DELETE",url:this.universe.universeBase+"/"+ContactLists.endpoint+"/"+this.contactList.id+"/static_entries/"+payload.id+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{"Content-Type":"application/json; charset=utf-8"},data:void 0,responseType:"json"},[4,this.http.getClient()(opts)];case 2:return[2,_a.sent().status];case 3:throw err_5=_a.sent(),new static_entry_1.ContactListStaticEntryDeleteRemoteError(void 0,{error:err_5});case 4:return[2]}}))}))},StaticEntryArray.prototype.deleteStaticEntriesById=function(ids,options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_6;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!Array.isArray(ids)||!ids.length)throw new TypeError("deletion of static entries requires IDs to be set.");_a.label=1;case 1:return _a.trys.push([1,3,,4]),opts={method:"DELETE",url:this.universe.universeBase+"/"+ContactLists.endpoint+"/"+this.contactList.id+"/static_entries"+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{"Content-Type":"application/json; charset=utf-8"},data:ids,responseType:"json"},[4,this.http.getClient()(opts)];case 2:return[2,_a.sent().status];case 3:throw err_6=_a.sent(),new static_entry_1.ContactListStaticEntryDeleteRemoteError(void 0,{error:err_6});case 4:return[2]}}))}))},StaticEntryArray}(Array),ContactListInitializationError=function(_super){function ContactListInitializationError(message,properties){void 0===message&&(message="Could not initialize contact_list.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListInitializationError",Object.setPrototypeOf(_this,ContactListInitializationError.prototype),_this}return tslib_1.__extends(ContactListInitializationError,_super),ContactListInitializationError}(errors_1.BaseError);exports.ContactListInitializationError=ContactListInitializationError;var ContactListFetchRemoteError=function(_super){function ContactListFetchRemoteError(message,properties){void 0===message&&(message="Could not get contact_list.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListFetchRemoteError",Object.setPrototypeOf(_this,ContactListFetchRemoteError.prototype),_this}return tslib_1.__extends(ContactListFetchRemoteError,_super),ContactListFetchRemoteError}(errors_1.BaseError);exports.ContactListFetchRemoteError=ContactListFetchRemoteError;var ContactListsFetchRemoteError=function(_super){function ContactListsFetchRemoteError(message,properties){void 0===message&&(message="Could not get contact_lists.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListsFetchRemoteError",Object.setPrototypeOf(_this,ContactListsFetchRemoteError.prototype),_this}return tslib_1.__extends(ContactListsFetchRemoteError,_super),ContactListsFetchRemoteError}(errors_1.BaseError);exports.ContactListsFetchRemoteError=ContactListsFetchRemoteError;var ContactListsFetchCountRemoteError=function(_super){function ContactListsFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get count of Contact Lists.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListsFetchCountRemoteError",Object.setPrototypeOf(_this,ContactListsFetchCountRemoteError.prototype),_this}return tslib_1.__extends(ContactListsFetchCountRemoteError,_super),ContactListsFetchCountRemoteError}(errors_1.BaseError);exports.ContactListsFetchCountRemoteError=ContactListsFetchCountRemoteError;var ContactListPreviewRemoteError=function(_super){function ContactListPreviewRemoteError(message,properties){void 0===message&&(message="Could not get preview of Contact List.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListPreviewRemoteError",Object.setPrototypeOf(_this,ContactListPreviewRemoteError.prototype),_this}return tslib_1.__extends(ContactListPreviewRemoteError,_super),ContactListPreviewRemoteError}(errors_1.BaseError);exports.ContactListPreviewRemoteError=ContactListPreviewRemoteError},407:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KnowledgeBaseFaqItemsFetchRemoteError=exports.KnowledgeBaseFaqItemFetchRemoteError=exports.KnowledgeBaseFaqItemInitializationError=exports.KnowledgeBaseFaqItems=exports.KnowledgeBaseFaqItem=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),KnowledgeBaseFaqItem=function(_super){function KnowledgeBaseFaqItem(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/knowledge_base_faq_items",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(KnowledgeBaseFaqItem,_super),KnowledgeBaseFaqItem.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.locale=rawPayload.locale,this.question=rawPayload.question,this.answer=rawPayload.answer,this.knowledgeBase=rawPayload.knowledge_base,this.isProxy=rawPayload.is_proxy,this.proxyPayload=rawPayload.proxy_payload,this},KnowledgeBaseFaqItem.create=function(payload,universe,http){return new KnowledgeBaseFaqItem({rawPayload:payload,universe:universe,http:http,initialized:!0})},KnowledgeBaseFaqItem.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,locale:this.locale,question:this.question,answer:this.answer,knowledge_base:this.knowledgeBase,is_proxy:this.isProxy,proxy_payload:this.proxyPayload}},KnowledgeBaseFaqItem.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new KnowledgeBaseFaqItemInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},KnowledgeBaseFaqItem}(_base_1.UniverseEntity);exports.KnowledgeBaseFaqItem=KnowledgeBaseFaqItem;var KnowledgeBaseFaqItems=function(){function KnowledgeBaseFaqItems(){}return KnowledgeBaseFaqItems.endpoint="api/v0/knowledge_base_faq_items",KnowledgeBaseFaqItems}();exports.KnowledgeBaseFaqItems=KnowledgeBaseFaqItems;var KnowledgeBaseFaqItemInitializationError=function(_super){function KnowledgeBaseFaqItemInitializationError(message,properties){void 0===message&&(message="Could not initialize knowledge_base_faq_item.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="KnowledgeBaseFaqItemInitializationError",Object.setPrototypeOf(_this,KnowledgeBaseFaqItemInitializationError.prototype),_this}return tslib_1.__extends(KnowledgeBaseFaqItemInitializationError,_super),KnowledgeBaseFaqItemInitializationError}(errors_1.BaseError);exports.KnowledgeBaseFaqItemInitializationError=KnowledgeBaseFaqItemInitializationError;var KnowledgeBaseFaqItemFetchRemoteError=function(_super){function KnowledgeBaseFaqItemFetchRemoteError(message,properties){void 0===message&&(message="Could not get knowledge_base_faq_item.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="KnowledgeBaseFaqItemFetchRemoteError",Object.setPrototypeOf(_this,KnowledgeBaseFaqItemFetchRemoteError.prototype),_this}return tslib_1.__extends(KnowledgeBaseFaqItemFetchRemoteError,_super),KnowledgeBaseFaqItemFetchRemoteError}(errors_1.BaseError);exports.KnowledgeBaseFaqItemFetchRemoteError=KnowledgeBaseFaqItemFetchRemoteError;var KnowledgeBaseFaqItemsFetchRemoteError=function(_super){function KnowledgeBaseFaqItemsFetchRemoteError(message,properties){void 0===message&&(message="Could not get knowledge_base_faq_items.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="KnowledgeBaseFaqItemsFetchRemoteError",Object.setPrototypeOf(_this,KnowledgeBaseFaqItemsFetchRemoteError.prototype),_this}return tslib_1.__extends(KnowledgeBaseFaqItemsFetchRemoteError,_super),KnowledgeBaseFaqItemsFetchRemoteError}(errors_1.BaseError);exports.KnowledgeBaseFaqItemsFetchRemoteError=KnowledgeBaseFaqItemsFetchRemoteError},408:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageSubscriptionInstanceGetAllRemoteError=exports.MessageSubscriptionInstancesFetchRemoteError=exports.MessageSubscriptionInstanceFetchRemoteError=exports.MessageSubscriptionInstanceInitializationError=exports.MessageSubscriptionInstances=exports.MessageSubscriptionInstance=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),MessageSubscriptionInstance=function(_super){function MessageSubscriptionInstance(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/message_subscription_instances",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(MessageSubscriptionInstance,_super),MessageSubscriptionInstance.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.topic=rawPayload.topic,this.messageSubscription=rawPayload.message_subscription,this.channelUser=rawPayload.channel_user,this.person=rawPayload.person,this.status=rawPayload.status,this.date=rawPayload.date,this.eventRoute=rawPayload.event_route,this},MessageSubscriptionInstance.create=function(payload,universe,http){return new MessageSubscriptionInstance({rawPayload:payload,universe:universe,http:http,initialized:!0})},MessageSubscriptionInstance.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,topic:this.topic,message_subscription:this.messageSubscription,channel_user:this.channelUser,person:this.person,status:this.status,date:this.date,event_route:this.eventRoute}},MessageSubscriptionInstance.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new MessageSubscriptionInstanceInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},MessageSubscriptionInstance}(_base_1.UniverseEntity);exports.MessageSubscriptionInstance=MessageSubscriptionInstance;var MessageSubscriptionInstances=function(){function MessageSubscriptionInstances(){}return MessageSubscriptionInstances.endpoint="api/v0/message_subscription_instances",MessageSubscriptionInstances}();exports.MessageSubscriptionInstances=MessageSubscriptionInstances;var MessageSubscriptionInstanceInitializationError=function(_super){function MessageSubscriptionInstanceInitializationError(message,properties){void 0===message&&(message="Could not initialize message_subscription_instance.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionInstanceInitializationError",Object.setPrototypeOf(_this,MessageSubscriptionInstanceInitializationError.prototype),_this}return tslib_1.__extends(MessageSubscriptionInstanceInitializationError,_super),MessageSubscriptionInstanceInitializationError}(errors_1.BaseError);exports.MessageSubscriptionInstanceInitializationError=MessageSubscriptionInstanceInitializationError;var MessageSubscriptionInstanceFetchRemoteError=function(_super){function MessageSubscriptionInstanceFetchRemoteError(message,properties){void 0===message&&(message="Could not get message_subscription_instance.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionInstanceFetchRemoteError",Object.setPrototypeOf(_this,MessageSubscriptionInstanceFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageSubscriptionInstanceFetchRemoteError,_super),MessageSubscriptionInstanceFetchRemoteError}(errors_1.BaseError);exports.MessageSubscriptionInstanceFetchRemoteError=MessageSubscriptionInstanceFetchRemoteError;var MessageSubscriptionInstancesFetchRemoteError=function(_super){function MessageSubscriptionInstancesFetchRemoteError(message,properties){void 0===message&&(message="Could not get message_subscription_instances.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionInstancesFetchRemoteError",Object.setPrototypeOf(_this,MessageSubscriptionInstancesFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageSubscriptionInstancesFetchRemoteError,_super),MessageSubscriptionInstancesFetchRemoteError}(errors_1.BaseError);exports.MessageSubscriptionInstancesFetchRemoteError=MessageSubscriptionInstancesFetchRemoteError;var MessageSubscriptionInstanceGetAllRemoteError=function(_super){function MessageSubscriptionInstanceGetAllRemoteError(message,properties){void 0===message&&(message="Could not get all message_subscription_instances for message subscription");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionInstanceGetAllRemoteError",Object.setPrototypeOf(_this,MessageSubscriptionInstanceGetAllRemoteError.prototype),_this}return tslib_1.__extends(MessageSubscriptionInstanceGetAllRemoteError,_super),MessageSubscriptionInstanceGetAllRemoteError}(errors_1.BaseError);exports.MessageSubscriptionInstanceGetAllRemoteError=MessageSubscriptionInstanceGetAllRemoteError},414:function(module,exports,__webpack_require__){__webpack_require__(415),__webpack_require__(561),module.exports=__webpack_require__(562)},479:function(module,exports){},562:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(412);module._StorybookPreserveDecorators=!0,Object(_storybook_vue__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(748)],module)}.call(this,__webpack_require__(563)(module))},7:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Charles=exports.CharlesClient=exports.defaultOptions=exports.isEntity=exports.Universe=exports.v0=void 0;var tslib_1=__webpack_require__(0),events_1=tslib_1.__importDefault(__webpack_require__(22)),v0=tslib_1.__importStar(__webpack_require__(763));exports.v0=v0;var errors=tslib_1.__importStar(__webpack_require__(1)),client_1=__webpack_require__(343),environment_1=__webpack_require__(344),universe_1=__webpack_require__(789);Object.defineProperty(exports,"Universe",{enumerable:!0,get:function(){return universe_1.Universe}});var index_1=__webpack_require__(958),entity_1=__webpack_require__(393);Object.defineProperty(exports,"isEntity",{enumerable:!0,get:function(){return entity_1.isEntity}}),exports.defaultOptions={universe:void 0};var CharlesClient=function(_super){function CharlesClient(options){var _this=_super.call(this)||this;return _this.initialized=!1,_this.auth=new v0.Auth({base:exports.defaultOptions.universe,withCredentials:null==options?void 0:options.withCredentials}),options?(_this.handleOptions(options)&&(_this.initialized=!0),_this):_this}return tslib_1.__extends(CharlesClient,_super),CharlesClient.prototype.init=function(options){var _a,_b;if(void 0===options&&(options=exports.defaultOptions),!this.handleOptions(options)){var withCredentials=null!==(_a=options.withCredentials)&&void 0!==_a?_a:!!(null===(_b=this.options)||void 0===_b?void 0:_b.withCredentials),clientOptions={headers:{},withCredentials:withCredentials};options.universe&&(this.auth=new v0.Auth({base:options.universe,withCredentials:withCredentials})),options.responseInterceptors&&(clientOptions.responseInterceptors=options.responseInterceptors),options.requestInterceptors&&(clientOptions.requestInterceptors=options.requestInterceptors),this.http=client_1.Client.getInstance(clientOptions).setDefaults(clientOptions)}},CharlesClient.prototype.destroy=function(){client_1.Client.clearInstance(),this.auth&&this.auth.clearInstance(),this.http=void 0,this.options=void 0,this.user=void 0},CharlesClient.prototype.handleOptions=function(options){var _a,_b;this.options=options,this.user=this.options.user;var withCredentials=null!==(_a=options.withCredentials)&&void 0!==_a?_a:!!(null===(_b=this.options)||void 0===_b?void 0:_b.withCredentials);if(options.credentials){var authOptions={credentials:options.credentials,base:this.options.base,user:this.user,withCredentials:withCredentials},clientOptions={headers:{},responseInterceptors:options.responseInterceptors,withCredentials:withCredentials};return this.auth=new v0.Auth(authOptions),options.credentials.accessToken&&this.auth.setAuthed(options.credentials.accessToken),options.credentials.accessToken&&clientOptions.headers&&(clientOptions.headers.Authorization="Bearer "+options.credentials.accessToken),withCredentials&&this.auth.setAuthed(void 0,withCredentials),this.http=client_1.Client.getInstance(clientOptions).setDefaults(clientOptions),!0}return!1},CharlesClient.prototype.generateAuthenticatedInstance=function(type,maybeOptions){if(!(this.options&&this.options.universe&&this.http&&this.auth&&this.auth.authenticated))throw new errors.UninstantiatedClient;return new type(tslib_1.__assign({user:this.auth.user,universe:this.options.universe},maybeOptions),this.http)},CharlesClient.prototype.universe=function(name,options){if(!this.http||!this.auth||!this.auth.authenticated)throw new errors.UninstantiatedClient("Cannot invoke universe without instantiated http client");var opts={http:this.http,name:name,base:(null==options?void 0:options.base)?options.base:"https://hello-charles.com",universeBase:null==options?void 0:options.universeBase,mqttUniverseBase:null==options?void 0:options.mqttUniverseBase,user:{accessToken:this.auth.accessToken,id:this.options?this.options.user:void 0}};return options&&!0===options.singleton?universe_1.UnviverseSingleton.getInstance(opts):new universe_1.Universe(opts)},CharlesClient.prototype.cloud=function(options){if(!this.http||!this.auth||!this.auth.authenticated)throw new errors.UninstantiatedClient("Cannot invoke universe without instantiated http client");var opts={http:this.http,cloudBase:(null==options?void 0:options.base)?options.base:"https://staging-3.hello-charles.com",user:{accessToken:this.auth.accessToken,id:this.options?this.options.user:void 0}};return options&&!0===options.singleton?index_1.CloudSingleton.getInstance(opts):new index_1.Cloud(opts)},CharlesClient.prototype.messages=function(){return this.generateAuthenticatedInstance(v0.Messages)},CharlesClient.environment=environment_1.environment,CharlesClient}(events_1.default.EventEmitter);exports.CharlesClient=CharlesClient;var Charles=function(_super){function Charles(options){var _this=_super.call(this,options)||this;return _this.on("raw-error",(function(err){_this.listeners("error").length>0&&_this.emit("error",err)})),Charles.instance=_this,_this}return tslib_1.__extends(Charles,_super),Charles.getInstance=function(options){return Charles.instance?Charles.instance:new Charles(options)},Charles}(CharlesClient);exports.Charles=Charles,exports.default=Charles.getInstance({universe:exports.defaultOptions.universe})},748:function(module,exports,__webpack_require__){var map={"./0-Welcome.stories.js":970,"./1-Init.stories.js":750,"./2-Universes.stories.js":964,"./3-Feeds.stories.js":965,"./4-Products.stories.js":967,"./5-Business.stories.js":968,"./6-People.stories.js":969};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=748},750:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Auth",(function(){return Auth}));var _storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_init__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13);__webpack_exports__.default={title:"Initialization",component:_init__WEBPACK_IMPORTED_MODULE_1__.a,parameters:{notes:"Follow this guide for proper initialisation of the SDK."}};var Auth=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_1__.a},template:'\n    <div>\n      <p>\n        Make an auth call and retrieve an access token\n      </p>\n\n      <init @auth-attempt="authAction" @auth-success="authSuccessAction" instructions min-height="400px" store="init-first"></init>\n    </div>\n  ',methods:{authAction:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__.action)("auth-attempt"),authSuccessAction:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__.action)("auth-sucess")}}}},763:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Messages=exports.Auth=void 0;var auth_1=__webpack_require__(764);Object.defineProperty(exports,"Auth",{enumerable:!0,get:function(){return auth_1.Auth}});var messages_1=__webpack_require__(783);Object.defineProperty(exports,"Messages",{enumerable:!0,get:function(){return messages_1.Messages}})},764:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LogoutFailed=exports.LogoutMissingToken=exports.Auth=exports.isOrgAuth=exports.isTokenAuth=exports.isKeyAuth=exports.isUsernameAuth=exports.AuthTypes=void 0;var AuthTypes,tslib_1=__webpack_require__(0),axios_1=tslib_1.__importDefault(__webpack_require__(336)),errors=tslib_1.__importStar(__webpack_require__(1)),client_1=__webpack_require__(343);function isUsernameAuth(object){return"password"in object}function isKeyAuth(object){return"apiKey"in object}function isTokenAuth(object){return"accessToken"in object}function isOrgAuth(object){return"organization"in object}!function(AuthTypes){AuthTypes[AuthTypes.username=1]="username",AuthTypes[AuthTypes.key=2]="key",AuthTypes[AuthTypes.accessToken=3]="accessToken",AuthTypes[AuthTypes.org=4]="org",AuthTypes[AuthTypes.support=5]="support",AuthTypes[AuthTypes.cookie=6]="cookie"}(AuthTypes=exports.AuthTypes||(exports.AuthTypes={})),exports.isUsernameAuth=isUsernameAuth,exports.isKeyAuth=isKeyAuth,exports.isTokenAuth=isTokenAuth,exports.isOrgAuth=isOrgAuth;var Auth=function(){function Auth(options){var _a,_b;this.authenticated=!1,this.options=options,this.options.base=null!==(_a=this.options.base)&&void 0!==_a?_a:"https://hello-charles.com",this.authBaseUrl=null!==(_b=this.options.authBaseUrl)&&void 0!==_b?_b:"https://hello-charles.com",(this.options.credentials||!0===options.withCredentials)&&(this.determineAuthType(),this.options.user&&this.options.type===AuthTypes.accessToken?this.setDefaultHeader(this.options.user,this.options.credentials.accessToken,this.options.withCredentials):options.withCredentials&&this.setDefaultHeader(void 0,void 0,options.withCredentials))}return Auth.prototype.clearInstance=function(){this.authenticated=!1,this.options.credentials=void 0,this.options.accessToken=void 0,this.options.user=void 0,this.options.type=void 0},Auth.prototype.determineAuthType=function(){this.options.credentials||!this.options.withCredentials?(isUsernameAuth(this.options.credentials)&&(this.options.type=AuthTypes.username),isKeyAuth(this.options.credentials)&&(this.options.type=AuthTypes.key),isTokenAuth(this.options.credentials)&&(this.options.type=AuthTypes.accessToken),isOrgAuth(this.options.credentials)&&(this.options.type=AuthTypes.org)):this.options.type=AuthTypes.cookie},Auth.prototype.authenticate=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return this.options.type!==AuthTypes.username?[3,2]:[4,this.loginUsername(this.options.credentials)];case 1:return[2,_a.sent()];case 2:throw new errors.AuthenticationFailed("No auth data was provided")}}))}))},Auth.prototype.loginUsername=function(authData){var _a,_b;return void 0===authData&&(authData={}),tslib_1.__awaiter(this,void 0,void 0,(function(){var username,password,withCredentials,response,err_1;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(this.options.credentials&&this.options.credentials.username&&this.options.credentials.password)username=this.options.credentials.username,password=this.options.credentials.password;else{if(!((null==authData?void 0:authData.username)&&authData.password))throw new errors.UninstantiatedClient;username=authData.username,password=authData.password}withCredentials=null!==(_a=authData.withCredentials)&&void 0!==_a?_a:!!this.options.credentials,_c.label=1;case 1:return _c.trys.push([1,3,,4]),[4,axios_1.default.post((null!==(_b=authData.authBaseUrl)&&void 0!==_b?_b:this.authBaseUrl)+"/api/v0/users/auth/login",{email:username,password:password,recaptcha_token:authData.recaptcha_token},{withCredentials:withCredentials})];case 2:return response=_c.sent(),this.setDefaultHeader(response.data.data.id,response.data.data.access_token,withCredentials),[2,{id:response.data.data.id,access_token:response.data.data.access_token,user:response.data.data.id,email:response.data.data.email,name:response.data.data.name,permissions:response.data.data.permissions||[],roles:response.data.data.roles}];case 3:throw err_1=_c.sent(),new errors.AuthenticationFailed(void 0,{error:err_1,body:err_1.response&&err_1.response.data?err_1.response.data:null});case 4:return[2]}}))}))},Auth.prototype.requestPasswordReset=function(target){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_2;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,axios_1.default.post(this.authBaseUrl+"/api/v0/users/auth/login/password_reset",{email:target.email})];case 1:return[2,{msg:_a.sent().data.msg}];case 2:throw err_2=_a.sent(),new errors.PasswordResetRequestFailed(void 0,{error:err_2});case 3:return[2]}}))}))},Auth.prototype.setNewPassword=function(nonce){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_3;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,axios_1.default.post(this.authBaseUrl+"/api/v0/users/auth/login/password_set",{password:nonce.password,password_reset_id:nonce.password_reset_id})];case 1:return[2,{msg:_a.sent().data.msg}];case 2:throw err_3=_a.sent(),new errors.PasswordSetRequestFailed(void 0,{error:err_3});case 3:return[2]}}))}))},Auth.prototype.setDefaultHeader=function(user,token,withCredentials){var clientOptions={headers:{},withCredentials:null!=withCredentials?withCredentials:!!this.options.credentials};token&&(null==clientOptions?void 0:clientOptions.headers)&&(clientOptions.headers.Authorization="Bearer "+token),user&&(null==clientOptions?void 0:clientOptions.headers)&&(clientOptions.headers["X-Client-ID"]=user),this.setAuthed(token,withCredentials),this.user=user,client_1.Client.getInstance(clientOptions).setDefaults(clientOptions)},Auth.prototype.logout=function(options,token){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var withCredentials,opts,err_4;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(!(withCredentials=null!==(_a=null==options?void 0:options.withCredentials)&&void 0!==_a?_a:!!this.options.withCredentials)&&!token&&!this.accessToken)throw new LogoutMissingToken;_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:(null!==(_b=null==options?void 0:options.authBaseUrl)&&void 0!==_b?_b:this.authBaseUrl)+"/api/v0/users/auth/logout",headers:{},withCredentials:withCredentials},!withCredentials&&(null!=token?token:this.accessToken)&&(opts.headers.Authorization="Bearer "+(null!=token?token:this.accessToken)),[4,axios_1.default(opts)];case 2:return[2,{msg:_c.sent().data.msg}];case 3:throw err_4=_c.sent(),new LogoutFailed(void 0,{error:err_4});case 4:return[2]}}))}))},Auth.prototype.setAuthed=function(accessToken,withCredentials){if(!accessToken&&!0!==withCredentials)throw new TypeError("setting authed requires access token");return accessToken?(this.accessToken=accessToken,this.authenticated=!0):!0===withCredentials&&(this.authenticated=!0),this},Auth}();exports.Auth=Auth;var LogoutMissingToken=function(_super){function LogoutMissingToken(message,properties){void 0===message&&(message="Could not log out due to missing token.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="LogoutMissingToken",_this}return tslib_1.__extends(LogoutMissingToken,_super),LogoutMissingToken}(errors.BaseError);exports.LogoutMissingToken=LogoutMissingToken;var LogoutFailed=function(_super){function LogoutFailed(message,properties){void 0===message&&(message="Could not log out.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="LogoutFailed",_this}return tslib_1.__extends(LogoutFailed,_super),LogoutFailed}(errors.BaseError);exports.LogoutFailed=LogoutFailed},783:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessagesFetchFailed=exports.MessageUpdateFailed=exports.Messages=void 0;var tslib_1=__webpack_require__(0),base_error_1=__webpack_require__(342),Messages=function(_super){function Messages(options,http){var _a,_this=_super.call(this,http,{endpoint:Messages.baseEndpoint,base:null!==(_a=options.base)&&void 0!==_a?_a:"https://"+options.universe+".hello-charles.com"})||this;return _this.options=options,_this.http=http,_this.endpoint=Messages.baseEndpoint,_this.universe=options.universe,_this}return tslib_1.__extends(Messages,_super),Messages.prototype.getAll=function(query){return tslib_1.__awaiter(this,void 0,void 0,(function(){var _this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,new Promise((function(resolve,reject){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var uri,response,err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),uri=this.getURI({endpoint:this.endpoint,query:query}),[4,this.http.getClient().get(uri)];case 1:return 200!==(response=_a.sent()).status?[2,reject(new MessagesFetchFailed)]:[2,resolve({data:response.data.data,metadata:{count:response.data.count}})];case 2:return err_1=_a.sent(),[2,reject(new MessagesFetchFailed(void 0,{error:err_1}))];case 3:return[2]}}))}))}))];case 1:return[2,_a.sent()]}}))}))},Messages.prototype.update=function(messageId,messageRequest){return tslib_1.__awaiter(this,void 0,void 0,(function(){var _this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,new Promise((function(resolve,reject){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var uri,response,err_2;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),uri=this.getURI({endpoint:this.endpoint,params:[messageId]}),[4,this.http.getClient().put(uri,messageRequest)];case 1:return 200!==(response=_a.sent()).status?[2,reject(new MessageUpdateFailed)]:[2,resolve({data:response.data.data[0],metadata:{count:response.data.count}})];case 2:return err_2=_a.sent(),[2,reject(new MessageUpdateFailed(void 0,{error:err_2}))];case 3:return[2]}}))}))}))];case 1:return[2,_a.sent()]}}))}))},Messages.baseEndpoint="/api/v0/messages",Messages}(__webpack_require__(784).CharlesBaseHandler);exports.Messages=Messages;var MessageUpdateFailed=function(_super){function MessageUpdateFailed(message,properties){void 0===message&&(message="Could not update message");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageUpdateFailed",_this}return tslib_1.__extends(MessageUpdateFailed,_super),MessageUpdateFailed}(base_error_1.BaseError);exports.MessageUpdateFailed=MessageUpdateFailed;var MessagesFetchFailed=function(_super){function MessagesFetchFailed(message,properties){void 0===message&&(message="Could not fetch messages");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessagesFetchFailed",_this}return tslib_1.__extends(MessagesFetchFailed,_super),MessagesFetchFailed}(base_error_1.BaseError);exports.MessagesFetchFailed=MessagesFetchFailed},784:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharlesBaseRequest=exports.CharlesBaseHandler=void 0;var handler_1=__webpack_require__(785);Object.defineProperty(exports,"CharlesBaseHandler",{enumerable:!0,get:function(){return handler_1.CharlesBaseHandler}});var request_1=__webpack_require__(788);Object.defineProperty(exports,"CharlesBaseRequest",{enumerable:!0,get:function(){return request_1.CharlesBaseRequest}})},785:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharlesBaseHandler=void 0;var qs_1=__webpack_require__(0).__importDefault(__webpack_require__(58)),CharlesBaseHandler=function(){function CharlesBaseHandler(http,handlerOptions){this.client=http,this.handlerOptions=handlerOptions}return CharlesBaseHandler.prototype.getURI=function(options){var queryString="";options.query&&(queryString=qs_1.default.stringify(options.query,{addQueryPrefix:!0}));var params="";return Array.isArray(options.params)&&(params="/"+options.params.map((function(item){return item})).join("/")),""+this.handlerOptions.base+options.endpoint+params+queryString},CharlesBaseHandler}();exports.CharlesBaseHandler=CharlesBaseHandler},788:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharlesBaseRequest=void 0;var CharlesBaseRequest=function CharlesBaseRequest(http){this.client=http};exports.CharlesBaseRequest=CharlesBaseRequest},789:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniverseHealthzError=exports.UniverseSelfError=exports.UniverseVersionsError=exports.UniverseApiRequestError=exports.UniverseSearchError=exports.UniverseInitializationError=exports.UnviverseSingleton=exports.Universe=exports.UniverseMeError=exports.UniverseUnauthenticatedError=void 0;var tslib_1=__webpack_require__(0),qs_1=tslib_1.__importDefault(__webpack_require__(58)),status_1=__webpack_require__(790),base_1=__webpack_require__(346),feed_1=__webpack_require__(100),realtime=tslib_1.__importStar(__webpack_require__(224)),errors_1=__webpack_require__(1),topics_1=tslib_1.__importDefault(__webpack_require__(223)),messaging_1=__webpack_require__(927),uuid=tslib_1.__importStar(__webpack_require__(391)),analytics_1=__webpack_require__(928),staff=tslib_1.__importStar(__webpack_require__(929)),track=tslib_1.__importStar(__webpack_require__(930)),asset=tslib_1.__importStar(__webpack_require__(236)),person=tslib_1.__importStar(__webpack_require__(395)),channelUser=tslib_1.__importStar(__webpack_require__(396)),email=tslib_1.__importStar(__webpack_require__(397)),product=tslib_1.__importStar(__webpack_require__(403)),ticket=tslib_1.__importStar(__webpack_require__(932)),cart=tslib_1.__importStar(__webpack_require__(398)),order=tslib_1.__importStar(__webpack_require__(234)),discount=tslib_1.__importStar(__webpack_require__(933)),messageTemplate=tslib_1.__importStar(__webpack_require__(934)),product_1=__webpack_require__(403),event_1=__webpack_require__(81),productCategory=tslib_1.__importStar(__webpack_require__(935)),productCategoryTree=tslib_1.__importStar(__webpack_require__(936)),messageTemplateCategory=tslib_1.__importStar(__webpack_require__(937)),messageTemplateCategoryTree=tslib_1.__importStar(__webpack_require__(938)),customProperty=tslib_1.__importStar(__webpack_require__(939)),tag=tslib_1.__importStar(__webpack_require__(940)),tagGroup=tslib_1.__importStar(__webpack_require__(941)),configuration=tslib_1.__importStar(__webpack_require__(942)),inventory=tslib_1.__importStar(__webpack_require__(404)),integration=tslib_1.__importStar(__webpack_require__(943)),messageBroker=tslib_1.__importStar(__webpack_require__(944)),storefront=tslib_1.__importStar(__webpack_require__(946)),shippingMethod=tslib_1.__importStar(__webpack_require__(947)),route=tslib_1.__importStar(__webpack_require__(405)),thing=tslib_1.__importStar(__webpack_require__(948)),nlu=tslib_1.__importStar(__webpack_require__(949)),intent=tslib_1.__importStar(__webpack_require__(950)),message=tslib_1.__importStar(__webpack_require__(232)),location=tslib_1.__importStar(__webpack_require__(951)),contactList=tslib_1.__importStar(__webpack_require__(406)),notificationCampaign=tslib_1.__importStar(__webpack_require__(953)),favorite=tslib_1.__importStar(__webpack_require__(954)),knowledgeBase=tslib_1.__importStar(__webpack_require__(955)),knowledgeBaseFaqItem=tslib_1.__importStar(__webpack_require__(407)),crm=tslib_1.__importStar(__webpack_require__(400)),deal=tslib_1.__importStar(__webpack_require__(399)),pipeline=tslib_1.__importStar(__webpack_require__(401)),pipelineStage=tslib_1.__importStar(__webpack_require__(235)),dealEvent=tslib_1.__importStar(__webpack_require__(956)),messageSubscription=tslib_1.__importStar(__webpack_require__(957)),messageSubscriptionInstance=tslib_1.__importStar(__webpack_require__(408)),peopleOrganization=tslib_1.__importStar(__webpack_require__(402)),UniverseUnauthenticatedError=function(_super){function UniverseUnauthenticatedError(message,properties){void 0===message&&(message="Invalid or expired session.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseUnauthenticatedError",Object.setPrototypeOf(_this,UniverseUnauthenticatedError.prototype),_this}return tslib_1.__extends(UniverseUnauthenticatedError,_super),UniverseUnauthenticatedError}(errors_1.BaseError);exports.UniverseUnauthenticatedError=UniverseUnauthenticatedError;var UniverseMeError=function(_super){function UniverseMeError(message,properties){void 0===message&&(message="Unexptected error fetching me data");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseMeError",Object.setPrototypeOf(_this,UniverseMeError.prototype),_this}return tslib_1.__extends(UniverseMeError,_super),UniverseMeError}(errors_1.BaseError);exports.UniverseMeError=UniverseMeError;var Universe=function(_super){function Universe(options){var _a,_b,_c,_d,_this=_super.call(this,{injectables:{base:null!==(_a=options.universeBase)&&void 0!==_a?_a:"https://"+options.name+".hello-charles.com"}})||this;return _this.initialized=!1,_this.payload=null,_this.mqtt=null,_this.options=options,_this.name=options.name,_this.user=options.user,_this.base=null!==(_b=_this.options.base)&&void 0!==_b?_b:"https://hello-charles.com",_this.universeBase=null!==(_c=options.universeBase)&&void 0!==_c?_c:"https://"+_this.name+".hello-charles.com",_this.mqttUniverseBase=null!==(_d=options.mqttUniverseBase)&&void 0!==_d?_d:"wss://"+_this.name+".hello-charles.com",_this.status=new status_1.UniverseStatus({universe:_this}),_this.health=new status_1.UniverseHealth({universe:_this}),_this.http=options.http,_this}return tslib_1.__extends(Universe,_super),Universe.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_1,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.base+"/"+Universe.endpoint+"/"+this.name)];case 1:return res=_a.sent(),this.setInitialized(res.data.data[0]),this.setMqttClient(),this.getMqttClient().on("error",(function(error){_this.handleError(error)})),[2,this];case 2:throw err_1=_a.sent(),new UniverseInitializationError(void 0,{error:err_1});case 3:return[2]}}))}))},Object.defineProperty(Universe,"errors",{get:function(){return{UniverseUnauthenticatedError:UniverseUnauthenticatedError,UniverseMeError:UniverseMeError}},enumerable:!1,configurable:!0}),Object.defineProperty(Universe.prototype,"errors",{get:function(){return Universe.errors},enumerable:!1,configurable:!0}),Universe.parsePayload=function(payload){var _a,_b;return{createdAt:null!==(_a=new Date(payload.created_at))&&void 0!==_a?_a:null,updatedAt:null!==(_b=new Date(payload.updated_at))&&void 0!==_b?_b:null,id:payload.id,organization:payload.organization,active:payload.active,deleted:payload.deleted,configuration:payload.configuration,name:payload.name}},Universe.prototype.setInitialized=function(payload){return this.payload=Universe.parsePayload(payload),this.initialized=!0,this},Universe.prototype.setMqttClient=function(){var _a,_this=this,realtimeOpts={base:this.mqttUniverseBase,username:null!==(_a=this.user.id)&&void 0!==_a?_a:"charles-browser-sdk",password:this.user.accessToken};this.mqtt=new realtime.RealtimeClient(realtimeOpts),this.mqtt.on("message",(function(msg){_this.handleMessage(msg)})),this.subscribeDefaults()},Object.defineProperty(Universe.prototype,"defaultSubscriptions",{get:function(){return[topics_1.default.api.message.generateTopic(),topics_1.default.api.feeds.generateTopic(),topics_1.default.api.feedsActivities.generateTopic(),topics_1.default.api.feedsMessages.generateTopic(),topics_1.default.api.feedsEvents.generateTopic(),topics_1.default.api.people.generateTopic()]},enumerable:!1,configurable:!0}),Universe.prototype.subscribeDefaults=function(){this.getMqttClient().subscribe(this.defaultSubscriptions)},Universe.prototype.subscribe=function(topic){return this.getMqttClient().subscribe(topic),this},Universe.prototype.unsubscribe=function(topic){return this.getMqttClient().unsubscribe(topic),this},Universe.prototype.handleMessage=function(msg){if(this.emit("message",msg),topics_1.default.api.clients.arm.isTopic(msg.topic))return this.emit("armed",msg),void this.getMqttClient().unsubscribe(msg.topic);var message_1;if(topics_1.default.api.message.isTopic(msg.topic))return msg.payload.message&&(message_1=messaging_1.Message.deserialize(msg.payload.message,this,this.http)),void this.emit("universe:message",tslib_1.__assign(tslib_1.__assign({},msg),{message:message_1}));if(topics_1.default.api.feedsEvents.isTopic(msg.topic)){var event_2,feed=void 0;if(msg.payload.event){var feedPayload={id:msg.payload.event.feed};feed=feed_1.Feed.create(feedPayload,this,this.http,this.mqtt),event_2=event_1.Event.create(msg.payload.event,feed,this,this.http)}this.emit("universe:feeds:events",tslib_1.__assign(tslib_1.__assign({},msg),{event:event_2,feed:feed}))}if(topics_1.default.api.feedsMessages.isTopic(msg.topic)){var message_2;feed=void 0;return msg.payload.message&&(message_2=messaging_1.Message.deserialize(msg.payload.message,this,this.http),feed=feed_1.Feed.create(msg.payload.feed,this,this.http,this.mqtt)),void this.emit("universe:feeds:messages",tslib_1.__assign(tslib_1.__assign({},msg),{message:message_2,feed:feed}))}if(topics_1.default.api.feeds.isTopic(msg.topic)){feed=void 0;return msg.payload.feed&&(feed=feed_1.Feed.create(msg.payload.feed,this,this.http,this.mqtt)),void this.emit("universe:feeds",tslib_1.__assign(tslib_1.__assign({},msg),{feed:feed,action:msg.payload.action}))}if(topics_1.default.api.people.isTopic(msg.topic)){var _person=void 0;return msg.payload.person&&(_person=person.Person.create(msg.payload.person,this,this.http)),void this.emit("universe:people",tslib_1.__assign(tslib_1.__assign({},msg),{_person:_person}))}},Universe.prototype.getMqttClient=function(){if(this.mqtt)return this.mqtt;throw new realtime.UninstantiatedRealtimeClient},Universe.prototype.create=function(options){return new Universe(options)},Universe.prototype.deinitialize=function(){this.removeAllListeners();var client=this.getMqttClient();client.unsubscribe(this.defaultSubscriptions,(function(){client.destroy()}))},Object.defineProperty(Universe.prototype,"ready",{get:function(){return!1},enumerable:!1,configurable:!0}),Universe.prototype.isReady=function(){return!1},Object.defineProperty(Universe.prototype,"connected",{get:function(){return!1},enumerable:!1,configurable:!0}),Universe.prototype.isConnected=function(){return!1},Universe.prototype.handleError=function(err){this.listeners("error").length>0&&this.emit("error",err)},Universe.prototype.baseResourceFactory=function(proto,payload){return proto.create(payload,this,this.http)},Universe.prototype.feed=function(payload){return feed_1.Feed.create(payload,this,this.http,this.mqtt)},Universe.prototype.product=function(payload){return product.Product.create(payload,this,this.http)},Universe.prototype.staff=function(payload){return staff.Staff.create(payload,this,this.http)},Universe.prototype.track=function(payload){return track.Track.create(payload,this,this.http)},Universe.prototype.asset=function(payload){return asset.Asset.create(payload,this,this.http)},Universe.prototype.cart=function(payload){return cart.Cart.create(payload,this,this.http)},Universe.prototype.order=function(payload){return order.Order.create(payload,this,this.http)},Universe.prototype.person=function(payload){return person.Person.create(payload,this,this.http,this.mqtt)},Universe.prototype.address=function(payload){return person.Address.create(payload,this,this.http)},Universe.prototype.phonenumber=function(payload){return person.Phonenumber.create(payload,this,this.http)},Universe.prototype.channelUser=function(payload){return channelUser.ChannelUser.create(payload,this,this.http)},Universe.prototype.email=function(payload){return email.Email.create(payload,this,this.http)},Universe.prototype.ticket=function(payload){return ticket.Ticket.create(payload,this,this.http)},Universe.prototype.discount=function(payload){return discount.Discount.create(payload,this,this.http)},Universe.prototype.messageTemplate=function(payload){return messageTemplate.MessageTemplate.create(payload,this,this.http)},Universe.prototype.productCategory=function(payload){return productCategory.ProductCategory.create(payload,this,this.http)},Universe.prototype.productCategoryTree=function(payload){return productCategoryTree.ProductCategoryTree.create(payload,this,this.http)},Universe.prototype.messageTemplateCategory=function(payload){return messageTemplateCategory.MessageTemplateCategory.create(payload,this,this.http)},Universe.prototype.messageTemplateCategoryTree=function(payload){return messageTemplateCategoryTree.MessageTemplateCategoryTree.create(payload,this,this.http)},Universe.prototype.customProperty=function(payload){return customProperty.CustomProperty.create(payload,this,this.http)},Universe.prototype.tag=function(payload){return tag.Tag.create(payload,this,this.http)},Universe.prototype.tagGroup=function(payload){return tagGroup.TagGroup.create(payload,this,this.http)},Universe.prototype.configuration=function(payload){return configuration.Configuration.create(payload,this,this.http)},Universe.prototype.inventory=function(payload){return inventory.Inventory.create(payload,this,this.http)},Universe.prototype.integration=function(payload){return integration.Integration.create(payload,this,this.http)},Universe.prototype.messageBroker=function(payload){return messageBroker.MessageBroker.create(payload,this,this.http)},Universe.prototype.storefront=function(payload){return storefront.Storefront.create(payload,this,this.http)},Universe.prototype.shippingMethod=function(payload){return shippingMethod.ShippingMethod.create(payload,this,this.http)},Universe.prototype.route=function(payload){return route.Route.create(payload,this,this.http)},Universe.prototype.thing=function(payload){return thing.Thing.create(payload,this,this.http)},Universe.prototype.nlu=function(payload){return nlu.Nlu.create(payload,this,this.http)},Universe.prototype.intent=function(payload){return intent.Intent.create(payload,this,this.http)},Universe.prototype.location=function(payload){return location.Location.create(payload,this,this.http)},Universe.prototype.message=function(payload){return message.Message.create(payload,this,this.http)},Universe.prototype.contactList=function(payload){return contactList.ContactList.create(payload,this,this.http)},Universe.prototype.notificationCampaign=function(payload){return notificationCampaign.NotificationCampaign.create(payload,this,this.http)},Universe.prototype.favorite=function(payload){return favorite.Favorite.create(payload,this,this.http)},Universe.prototype.knowledgeBase=function(payload){return knowledgeBase.KnowledgeBase.create(payload,this,this.http)},Universe.prototype.knowledgeBaseFaqItem=function(payload){return knowledgeBaseFaqItem.KnowledgeBaseFaqItem.create(payload,this,this.http)},Universe.prototype.crm=function(payload){return crm.CRM.create(payload,this,this.http)},Universe.prototype.deal=function(payload){return deal.Deal.create(payload,this,this.http)},Universe.prototype.pipeline=function(payload){return pipeline.Pipeline.create(payload,this,this.http)},Universe.prototype.pipelineStage=function(payload){return pipelineStage.PipelineStage.create(payload,this,this.http)},Universe.prototype.dealEvent=function(payload){return dealEvent.DealEvent.create(payload,this,this.http)},Universe.prototype.messageSubscription=function(payload){return messageSubscription.MessageSubscription.create(payload,this,this.http)},Universe.prototype.messageSubscriptionInstance=function(payload){return messageSubscriptionInstance.MessageSubscriptionInstance.create(payload,this,this.http)},Universe.prototype.peopleOrganization=function(payload){return peopleOrganization.PeopleOrganization.create(payload,this,this.http)},Universe.prototype.apiRequest=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_2;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:opts={method:options.method,path:""+options.path+(options.query?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),data:null!==(_a=options.data)&&void 0!==_a?_a:void 0},_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,this.http.getClient()(opts)];case 2:return[2,_b.sent().data.data];case 3:throw err_2=_b.sent(),new UniverseApiRequestError(void 0,{error:err_2});case 4:return[2]}}))}))},Universe.prototype.setCachedMeData=function(data){return this._cachedMeData=data?Object.assign({},data):void 0,this},Object.defineProperty(Universe.prototype,"authData",{get:function(){return{me:this._cachedMeData}},enumerable:!1,configurable:!0}),Universe.prototype.me=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_3;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/api/v0/me"},[4,this.http.getClient()(opts)];case 1:return response=_b.sent(),this.setCachedMeData(response.data.data),[2,response.data.data];case 2:if(err_3=_b.sent(),401===(null===(_a=null==err_3?void 0:err_3.response)||void 0===_a?void 0:_a.status))throw new UniverseUnauthenticatedError(void 0,{error:err_3});throw new UniverseMeError(void 0,{error:err_3});case 3:return[2]}}))}))},Universe.prototype.makeAnalyticsRequest=function(endpointSlug,options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_4;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+analytics_1.ANALYTICS_ENDPOINT+endpointSlug,params:options},[4,this.http.getClient()(opts)];case 1:return[2,_a.sent().data.data];case 2:throw err_4=_a.sent(),new analytics_1.AnalyticsFetchRemoteError(void 0,{error:err_4});case 3:return[2]}}))}))},Object.defineProperty(Universe.prototype,"analytics",{get:function(){var _this=this;return{orders:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeAnalyticsRequest("/commerce/orders/distribution/count",options)];case 1:return[2,_a.sent()]}}))}))},revenues:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeAnalyticsRequest("/commerce/revenues/distribution",options)];case 1:return[2,_a.sent()]}}))}))},xau:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeAnalyticsRequest("/messages/xau/count",options)];case 1:return[2,_a.sent()]}}))}))},peopleMessagingChannelParticipationDistribution:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeAnalyticsRequest("/people/channel_participation/distribution",options)];case 1:return[2,_a.sent()]}}))}))},feedOpenedClosed:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeAnalyticsRequest("/feeds/open_close/distribution/count",options)];case 1:return[2,_a.sent()]}}))}))},feedConversion:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeAnalyticsRequest("/feeds/conversion/counts",options)];case 1:return[2,_a.sent()]}}))}))}}},enumerable:!1,configurable:!0}),Object.defineProperty(Universe.prototype,"feeds",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return feed_1.Feed.create(item,_this,_this.http,_this.mqtt)}))},toJson:function(feeds){return feeds.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,feeds,err_5,_a,_b,_c,_this=this;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:return _d.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+feed_1.Feeds.endpoint,params:tslib_1.__assign(tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{}),{embed:null!==(_c=null===(_b=null==options?void 0:options.query)||void 0===_b?void 0:_b.embed)&&void 0!==_c?_c:["participants","participants.channel_users","top_latest_events","top_latest_messages"]})},[4,this.http.getClient()(opts)];case 1:return res=_d.sent(),feeds=res.data.data,options&&!0===options.raw?[2,feeds]:[2,feeds.map((function(feed){return feed_1.Feed.create(feed,_this,_this.http,_this.mqtt)}))];case 2:throw err_5=_d.sent(),new feed_1.FeedsFetchRemoteError(void 0,{error:err_5});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_6,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+feed_1.Feeds.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_6=_b.sent(),new feed_1.FeedFetchCountRemoteError(void 0,{error:err_6});case 3:return[2]}}))}))},stream:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,new feed_1.Feeds({universe:this,http:this.http,mqtt:this.mqtt}).getStream(options)];case 1:return[2,_a.sent()]}}))}))}}},enumerable:!1,configurable:!0}),Object.defineProperty(Universe.prototype,"people",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return person.Person.create(item,_this,_this.http)}))},toJson:function(people){return people.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,resources,err_7,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+person.People.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return person.Person.create(resource,_this,_this.http)}))];case 2:throw err_7=_b.sent(),new person.PeopleFetchRemoteError(void 0,{error:err_7});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_8,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+person.People.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_8=_b.sent(),new person.PeopleFetchCountRemoteError(void 0,{error:err_8});case 3:return[2]}}))}))},stream:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,new person.People({universe:this,http:this.http}).getStream(options)];case 1:return[2,_a.sent()]}}))}))},export:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,new person.People({universe:this,http:this.http}).exportCsv(options)];case 1:return[2,_a.sent()]}}))}))}}},enumerable:!1,configurable:!0}),Universe.prototype.staffs=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_9,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+staff.Staffs.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return staff.Staff.create(resource,_this,_this.http)}))];case 2:throw err_9=_b.sent(),new staff.StaffsFetchRemoteError(void 0,{error:err_9});case 3:return[2]}}))}))},Object.defineProperty(Universe.prototype,"tracks",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return track.Track.create(item,_this,_this.http)}))},toJson:function(products){return products.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var res,resources,err_10,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+track.Tracks.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return track.Track.create(resource,_this,_this.http)}))];case 2:throw err_10=_b.sent(),new track.TracksFetchRemoteError(void 0,{error:err_10});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_11,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+track.Tracks.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_11=_b.sent(),new track.TracksFetchRemoteError(void 0,{error:err_11});case 3:return[2]}}))}))},current:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var res,resources,err_12,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+track.Tracks.currentEndpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return track.Track.create(resource,_this,_this.http)}))];case 2:throw err_12=_b.sent(),new track.TracksFetchRemoteError(void 0,{error:err_12});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Universe.prototype.assets=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_13,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+asset.Assets.endpoint)];case 1:return res=_a.sent(),[2,res.data.data.map((function(resource){return asset.Asset.create(resource,_this,_this.http)}))];case 2:throw err_13=_a.sent(),new asset.AssetsFetchRemoteError(void 0,{error:err_13});case 3:return[2]}}))}))},Object.defineProperty(Universe.prototype,"products",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return product_1.Product.create(item,_this,_this.http)}))},toJson:function(products){return products.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,resources,err_14,_a,_b,_c,_this=this;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:return _d.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+product.Products.endpoint,params:tslib_1.__assign(tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{}),{embed:null!==(_c=null===(_b=null==options?void 0:options.query)||void 0===_b?void 0:_b.embed)&&void 0!==_c?_c:"options"})},[4,this.http.getClient()(opts)];case 1:return res=_d.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return product.Product.create(resource,_this,_this.http)}))];case 2:throw err_14=_d.sent(),new product.ProductsFetchRemoteError(void 0,{error:err_14});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_15,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+product.Products.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_15=_b.sent(),new product.ProductsFetchCountRemoteError(void 0,{error:err_15});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Universe.prototype.tickets=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_16,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+ticket.Tickets.endpoint)];case 1:return res=_a.sent(),[2,res.data.data.map((function(resource){return ticket.Ticket.create(resource,_this,_this.http)}))];case 2:throw err_16=_a.sent(),new ticket.TicketsFetchRemoteError(void 0,{error:err_16});case 3:return[2]}}))}))},Object.defineProperty(Universe.prototype,"carts",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return cart.Cart.create(item,_this,_this.http)}))},toJson:function(carts){return carts.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,resources,err_17,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+cart.Carts.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return cart.Cart.create(resource,_this,_this.http)}))];case 2:throw err_17=_b.sent(),new cart.CartsFetchRemoteError(void 0,{error:err_17});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_18,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+cart.Carts.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_18=_b.sent(),new cart.CartsFetchCountRemoteError(void 0,{error:err_18});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Object.defineProperty(Universe.prototype,"orders",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return order.Order.create(item,_this,_this.http)}))},toJson:function(orders){return orders.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,resources,err_19,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+order.Orders.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return order.Order.create(resource,_this,_this.http)}))];case 2:throw err_19=_b.sent(),new order.OrdersFetchRemoteError(void 0,{error:err_19});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_20,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+order.Orders.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_20=_b.sent(),new order.OrdersFetchCountRemoteError(void 0,{error:err_20});case 3:return[2]}}))}))},export:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,new order.Orders({universe:this,http:this.http}).exportCsv(options)];case 1:return[2,_a.sent()]}}))}))}}},enumerable:!1,configurable:!0}),Universe.prototype.discounts=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_21,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+discount.Discounts.endpoint)];case 1:return res=_a.sent(),[2,res.data.data.map((function(resource){return discount.Discount.create(resource,_this,_this.http)}))];case 2:throw err_21=_a.sent(),new discount.DiscountsFetchRemoteError(void 0,{error:err_21});case 3:return[2]}}))}))},Universe.prototype.messageTemplates=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_22,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+messageTemplate.MessageTemplates.endpoint)];case 1:return res=_a.sent(),[2,res.data.data.map((function(resource){return messageTemplate.MessageTemplate.create(resource,_this,_this.http)}))];case 2:throw err_22=_a.sent(),new messageTemplate.MessageTemplatesFetchRemoteError(void 0,{error:err_22});case 3:return[2]}}))}))},Universe.prototype.productCategories=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_23,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+productCategory.ProductCategories.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return productCategory.ProductCategory.create(resource,_this,_this.http)}))];case 2:throw err_23=_b.sent(),new productCategory.ProductCategoriesFetchRemoteError(void 0,{error:err_23});case 3:return[2]}}))}))},Universe.prototype.productCategoryTrees=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_24,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+productCategoryTree.ProductCategoryTrees.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return productCategoryTree.ProductCategoryTree.create(resource,_this,_this.http)}))];case 2:throw err_24=_b.sent(),new productCategoryTree.ProductCategoryTreesFetchRemoteError(void 0,{error:err_24});case 3:return[2]}}))}))},Universe.prototype.messageTemplateCategories=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_25,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+messageTemplateCategory.MessageTemplateCategories.endpoint)];case 1:return res=_a.sent(),[2,res.data.data.map((function(resource){return messageTemplateCategory.MessageTemplateCategory.create(resource,_this,_this.http)}))];case 2:throw err_25=_a.sent(),new messageTemplateCategory.MessageTemplateCategoriesFetchRemoteError(void 0,{error:err_25});case 3:return[2]}}))}))},Universe.prototype.messageTemplateCategoryTrees=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_26,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+messageTemplateCategoryTree.MessageTemplateCategoryTrees.endpoint)];case 1:return res=_a.sent(),[2,res.data.data.map((function(resource){return messageTemplateCategoryTree.MessageTemplateCategoryTree.create(resource,_this,_this.http)}))];case 2:throw err_26=_a.sent(),new messageTemplateCategoryTree.MessageTemplateCategoryTreesFetchRemoteError(void 0,{error:err_26});case 3:return[2]}}))}))},Universe.prototype.customProperties=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_27,_this=this;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+customProperty.CustomProperties.endpoint)];case 1:return res=_a.sent(),[2,res.data.data.map((function(resource){return customProperty.CustomProperty.create(resource,_this,_this.http)}))];case 2:throw err_27=_a.sent(),new customProperty.CustomPropertiesFetchRemoteError(void 0,{error:err_27});case 3:return[2]}}))}))},Universe.prototype.makeBaseResourceListRequest=function(proto,listProto,errorProto,options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_28,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+listProto.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return proto.create(resource,_this,_this.http)}))];case 2:throw err_28=_b.sent(),new errorProto(void 0,{error:err_28});case 3:return[2]}}))}))},Universe.prototype.tags=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(tag.Tag,tag.Tags,tag.TagsFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.tagGroups=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(tagGroup.TagGroup,tagGroup.TagGroups,tagGroup.TagGroupsFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.configurations=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(configuration.Configuration,configuration.Configurations,configuration.ConfigurationsFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.uiConfigurations=function(_a){var _b=_a.query.owner,owner=void 0===_b?"self":_b,rest=tslib_1.__rest(_a,["query"]);return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return opts=tslib_1.__assign({query:{owner:owner,field:["ui"]}},rest),[4,this.makeBaseResourceListRequest(configuration.Configuration,configuration.Configurations,configuration.ConfigurationsFetchRemoteError,opts)];case 1:return[2,_c.sent()]}}))}))},Universe.prototype.dashboardConfigurations=function(_a){var _b=_a.query.owner,owner=void 0===_b?"self":_b,rest=tslib_1.__rest(_a,["query"]);return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return opts=tslib_1.__assign({query:{owner:owner,field:["dashboard"]}},rest),[4,this.makeBaseResourceListRequest(configuration.Configuration,configuration.Configurations,configuration.ConfigurationsFetchRemoteError,opts)];case 1:return[2,_c.sent()]}}))}))},Universe.prototype.inventories=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_29,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+inventory.Inventories.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return inventory.Inventory.create(resource,_this,_this.http)}))];case 2:throw err_29=_b.sent(),new inventory.InventoriesFetchRemoteError(void 0,{error:err_29});case 3:return[2]}}))}))},Universe.prototype.integrations=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_30,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+integration.Integrations.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return integration.Integration.create(resource,_this,_this.http)}))];case 2:throw err_30=_b.sent(),new integration.IntegrationsFetchRemoteError(void 0,{error:err_30});case 3:return[2]}}))}))},Universe.prototype.availableIntegrations=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_31;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+integration.Integrations.endpoint+"/available",{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),[2,res.data.data];case 2:throw err_31=_b.sent(),new integration.AvailableIntegrationsFetchRemoteError(void 0,{error:err_31});case 3:return[2]}}))}))},Universe.prototype.setupIntegration=function(payload,setupEndpoint){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_32;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"POST",url:this.universeBase+"/"+integration.Integrations.endpoint+"/setup/"+setupEndpoint,headers:{"Content-Type":"application/json; charset=utf-8"},data:{payload:payload},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 1:return[2,_b.sent().status];case 2:throw err_32=_b.sent(),new integration.IntegrationsSetupRemoteError(void 0,{error:err_32});case 3:return[2]}}))}))},Universe.prototype.messageBrokers=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_33,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+messageBroker.MessageBrokers.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return messageBroker.MessageBroker.create(resource,_this,_this.http)}))];case 2:throw err_33=_b.sent(),new messageBroker.MessageBrokersFetchRemoteError(void 0,{error:err_33});case 3:return[2]}}))}))},Universe.prototype.storefronts=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_34,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+storefront.Storefronts.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return storefront.Storefront.create(resource,_this,_this.http)}))];case 2:throw err_34=_b.sent(),new storefront.StorefrontsFetchRemoteError(void 0,{error:err_34});case 3:return[2]}}))}))},Universe.prototype.shippingMethods=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_35,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+shippingMethod.ShippingMethods.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return shippingMethod.ShippingMethod.create(resource,_this,_this.http)}))];case 2:throw err_35=_b.sent(),new shippingMethod.ShippingMethodsFetchRemoteError(void 0,{error:err_35});case 3:return[2]}}))}))},Universe.prototype.routes=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_36,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+route.Routes.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return route.Route.create(resource,_this,_this.http)}))];case 2:throw err_36=_b.sent(),new route.RoutesFetchRemoteError(void 0,{error:err_36});case 3:return[2]}}))}))},Universe.prototype.things=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_37,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+thing.Things.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return thing.Thing.create(resource,_this,_this.http)}))];case 2:throw err_37=_b.sent(),new thing.ThingsFetchRemoteError(void 0,{error:err_37});case 3:return[2]}}))}))},Universe.prototype.nlus=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_38,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+nlu.Nlus.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return nlu.Nlu.create(resource,_this,_this.http)}))];case 2:throw err_38=_b.sent(),new nlu.NlusFetchRemoteError(void 0,{error:err_38});case 3:return[2]}}))}))},Universe.prototype.intents=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_39,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+intent.Intents.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return intent.Intent.create(resource,_this,_this.http)}))];case 2:throw err_39=_b.sent(),new intent.IntentsFetchRemoteError(void 0,{error:err_39});case 3:return[2]}}))}))},Universe.prototype.locations=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_40,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+location.Locations.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return location.Location.create(resource,_this,_this.http)}))];case 2:throw err_40=_b.sent(),new location.LocationsFetchRemoteError(void 0,{error:err_40});case 3:return[2]}}))}))},Object.defineProperty(Universe.prototype,"contactLists",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return contactList.ContactList.create(item,_this,_this.http)}))},toJson:function(contactLists){return contactLists.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,resources,err_41,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+contactList.ContactLists.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return contactList.ContactList.create(resource,_this,_this.http)}))];case 2:throw err_41=_b.sent(),new contactList.ContactListsFetchRemoteError(void 0,{error:err_41});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_42,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+contactList.ContactLists.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_42=_b.sent(),new contactList.ContactListsFetchCountRemoteError(void 0,{error:err_42});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Object.defineProperty(Universe.prototype,"notificationCampaigns",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return notificationCampaign.NotificationCampaign.create(item,_this,_this.http)}))},toJson:function(contactLists){return contactLists.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,resources,err_43,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+notificationCampaign.NotificationCampaigns.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return notificationCampaign.NotificationCampaign.create(resource,_this,_this.http)}))];case 2:throw err_43=_b.sent(),new notificationCampaign.NotificationCampaignsFetchRemoteError(void 0,{error:err_43});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_44,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+notificationCampaign.NotificationCampaigns.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_44=_b.sent(),new notificationCampaign.NotificationCampaignsFetchCountRemoteError(void 0,{error:err_44});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Universe.prototype.favorites=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(favorite.Favorite,favorite.Favorites,favorite.FavoritesFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.knowledgeBases=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(knowledgeBase.KnowledgeBase,knowledgeBase.KnowledgeBases,knowledgeBase.KnowledgeBasesFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.crms=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(crm.CRM,crm.CRMs,crm.CRMsFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Object.defineProperty(Universe.prototype,"deals",{get:function(){var _this=this;return{fromJson:function(payloads){return payloads.map((function(item){return deal.Deal.create(item,_this,_this.http)}))},toJson:function(payloads){return payloads.map((function(item){return item.serialize()}))},fetch:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,resources,err_45,_a,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"GET",url:this.universeBase+"/"+deal.Deals.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return deal.Deal.create(resource,_this,_this.http)}))];case 2:throw err_45=_b.sent(),new deal.DealsFetchRemoteError(void 0,{error:err_45});case 3:return[2]}}))}))},fetchCount:function(options){return tslib_1.__awaiter(_this,void 0,void 0,(function(){var opts,res,err_46,_a;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"HEAD",url:this.universeBase+"/"+deal.Deals.endpoint,params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),[2,{count:Number(res.headers["X-Resource-Count"]||res.headers["x-resource-count"])}];case 2:throw err_46=_b.sent(),new deal.DealsFetchCountRemoteError(void 0,{error:err_46});case 3:return[2]}}))}))}}},enumerable:!1,configurable:!0}),Universe.prototype.messageSubscriptions=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(messageSubscription.MessageSubscription,messageSubscription.MessageSubscriptions,messageSubscription.MessageSubscriptionsFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.messageSubscriptionInstances=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(messageSubscriptionInstance.MessageSubscriptionInstance,messageSubscriptionInstance.MessageSubscriptionInstances,messageSubscriptionInstance.MessageSubscriptionInstancesFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.peopleOrganizations=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(peopleOrganization.PeopleOrganization,peopleOrganization.PeopleOrganizations,peopleOrganization.PeopleOrganizationsFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Universe.prototype.arm=function(){var _this=this,mqtt=this.getMqttClient(),topicString=topics_1.default.api.clients.arm.generateTopic({client:uuid.v4()});return mqtt.subscribe(topicString,(function(err){if(err)return _this.handleError(err);mqtt.publish(topicString)})),this},Universe.prototype.versions=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_47;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/api/versions")];case 1:return res=_b.sent(),[2,{universe:null===(_a=res.data)||void 0===_a?void 0:_a.universe}];case 2:throw err_47=_b.sent(),new UniverseVersionsError(void 0,{error:err_47});case 3:return[2]}}))}))},Universe.prototype.selfV0=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_48;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/api/self")];case 1:return res=_b.sent(),[2,{universe:null===(_a=res.data)||void 0===_a?void 0:_a.universe}];case 2:throw err_48=_b.sent(),new UniverseSelfError(void 0,{error:err_48});case 3:return[2]}}))}))},Universe.prototype.self=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_49;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/api/v1/self")];case 1:return res=_b.sent(),[2,null===(_a=res.data)||void 0===_a?void 0:_a.data];case 2:throw err_49=_b.sent(),new UniverseSelfError(void 0,{error:err_49});case 3:return[2]}}))}))},Universe.prototype.healthz=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_50;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/api/healthz")];case 1:return res=_b.sent(),[2,{message:null===(_a=res.data)||void 0===_a?void 0:_a.msg}];case 2:throw err_50=_b.sent(),new UniverseHealthzError(void 0,{error:err_50});case 3:return[2]}}))}))},Object.defineProperty(Universe.prototype,"search",{get:function(){var _this=this;return{people:function(q,query){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.searchEntity(person.People.endpoint,q,query)];case 1:return[2,_a.sent()]}}))}))},products:function(q,query){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.searchEntity(product.Products.endpoint,q,query)];case 1:return[2,_a.sent()]}}))}))},feeds:function(q,query){return tslib_1.__awaiter(_this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.searchEntity(feed_1.Feeds.endpoint,q,query)];case 1:return[2,_a.sent()]}}))}))}}},enumerable:!1,configurable:!0}),Universe.prototype.searchEntity=function(endpoint,q,query){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_51;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universeBase+"/"+endpoint+"/search"+qs_1.default.stringify(tslib_1.__assign({q:q},null!=query?query:{}),{addQueryPrefix:!0}))];case 1:return[2,_a.sent().data.data];case 2:throw err_51=_a.sent(),new UniverseSearchError(void 0,{error:err_51});case 3:return[2]}}))}))},Universe.endpoint="api/v0/universes",Universe}(base_1.APICarrier);exports.Universe=Universe;var UnviverseSingleton=function(_super){function UnviverseSingleton(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(UnviverseSingleton,_super),UnviverseSingleton.getInstance=function(options){return UnviverseSingleton.instance||(UnviverseSingleton.instance=new UnviverseSingleton(options)),UnviverseSingleton.instance},UnviverseSingleton.clearInstance=function(){UnviverseSingleton.instance.deinitialize()},UnviverseSingleton}(Universe);exports.UnviverseSingleton=UnviverseSingleton;var UniverseInitializationError=function(_super){function UniverseInitializationError(message,properties){void 0===message&&(message="Could not initialize universe.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseInitializationError",_this}return tslib_1.__extends(UniverseInitializationError,_super),UniverseInitializationError}(errors_1.BaseError);exports.UniverseInitializationError=UniverseInitializationError;var UniverseSearchError=function(_super){function UniverseSearchError(message,properties){void 0===message&&(message="Could not fulfill search unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseSearchError",_this}return tslib_1.__extends(UniverseSearchError,_super),UniverseSearchError}(errors_1.BaseError);exports.UniverseSearchError=UniverseSearchError;var UniverseApiRequestError=function(_super){function UniverseApiRequestError(message,properties){void 0===message&&(message="Unexptected error making api request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseApiRequestError",Object.setPrototypeOf(_this,UniverseApiRequestError.prototype),_this}return tslib_1.__extends(UniverseApiRequestError,_super),UniverseApiRequestError}(errors_1.BaseError);exports.UniverseApiRequestError=UniverseApiRequestError;var UniverseVersionsError=function(_super){function UniverseVersionsError(message,properties){void 0===message&&(message="Unexptected response making versions request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseVersionsError",Object.setPrototypeOf(_this,UniverseVersionsError.prototype),_this}return tslib_1.__extends(UniverseVersionsError,_super),UniverseVersionsError}(errors_1.BaseError);exports.UniverseVersionsError=UniverseVersionsError;var UniverseSelfError=function(_super){function UniverseSelfError(message,properties){void 0===message&&(message="Unexptected response making self request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseSelfError",Object.setPrototypeOf(_this,UniverseSelfError.prototype),_this}return tslib_1.__extends(UniverseSelfError,_super),UniverseSelfError}(errors_1.BaseError);exports.UniverseSelfError=UniverseSelfError;var UniverseHealthzError=function(_super){function UniverseHealthzError(message,properties){void 0===message&&(message="Unexptected response making health request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="UniverseHealthzError",Object.setPrototypeOf(_this,UniverseHealthzError.prototype),_this}return tslib_1.__extends(UniverseHealthzError,_super),UniverseHealthzError}(errors_1.BaseError);exports.UniverseHealthzError=UniverseHealthzError},790:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UniverseStatus=exports.UniverseHealth=void 0;var tslib_1=__webpack_require__(0),events_1=__webpack_require__(22),UniverseHealth=function(_super){function UniverseHealth(opts){var _this=_super.call(this)||this;return _this.options=opts,_this.universe=_this.options.universe,_this}return tslib_1.__extends(UniverseHealth,_super),UniverseHealth}(events_1.EventEmitter);exports.UniverseHealth=UniverseHealth;var UniverseStatus=function(_super){function UniverseStatus(opts){var _this=_super.call(this)||this;return _this.options=opts,_this.universe=_this.options.universe,_this}return tslib_1.__extends(UniverseStatus,_super),UniverseStatus}(events_1.EventEmitter);exports.UniverseStatus=UniverseStatus},794:function(module,exports){},796:function(module,exports){},806:function(module,exports){},808:function(module,exports){},81:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventUnflagRemoteError=exports.EventUnarkRemoteError=exports.EventUnmarkRemoteError=exports.EventMarkRemoteError=exports.EventFetchRemoteError=exports.EventInitializationError=exports.Event=exports.EventResourcesTypesEnum=exports.EventTypesEnum=void 0;var EventTypesEnum,tslib_1=__webpack_require__(0),events_1=__webpack_require__(22),errors_1=__webpack_require__(1);!function(EventTypesEnum){EventTypesEnum.resource="resource",EventTypesEnum.followUp="follow_up",EventTypesEnum.personFeedbackPending="person:feedback_pending",EventTypesEnum.conversationCompleted="conversation:completed",EventTypesEnum.agentView="agent:view"}(EventTypesEnum=exports.EventTypesEnum||(exports.EventTypesEnum={})),function(EventResourcesTypesEnum){EventResourcesTypesEnum.message="message",EventResourcesTypesEnum.merge="merge",EventResourcesTypesEnum.order="order",EventResourcesTypesEnum.cart="cart"}(exports.EventResourcesTypesEnum||(exports.EventResourcesTypesEnum={}));var Event=function(_super){function Event(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this._feed=options.feed,_this.endpoint=_this._feed.id+"/events",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Event,_super),Event.prototype.deserialize=function(rawPayload){return this.id||(this.id=rawPayload.id),this.id=rawPayload.id,this.resource=rawPayload.resource,this.resourceType=rawPayload.resource_type,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.type=rawPayload.type,this.marked=rawPayload.marked,this.flagged=rawPayload.flagged,this.annotations=rawPayload.annotations,this.suggestions=rawPayload.suggestions,this.context=rawPayload.context,this.feed=rawPayload.feed,this.payload&&!rawPayload.payload||(this.payload=rawPayload.payload),this},Event.create=function(payload,feed,universe,http){return new Event({rawPayload:payload,universe:universe,http:http,initialized:!0,feed:feed})},Event.createUninitialized=function(payload,feed,universe,http){return new Event({rawPayload:payload,universe:universe,http:http,initialized:!1,feed:feed})},Event.prototype.serialize=function(){return{id:this.id,resource:this.resource,resource_type:this.resourceType,payload:this.payload,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,type:this.type,flagged:this.flagged,marked:this.marked,annotations:this.annotations,suggestions:this.suggestions,context:this.context,feed:this.feed}},Event.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new EventInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Event.prototype.fetch=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_2;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universe.universeBase+"/"+this.endpoint+"/"+this.id)];case 1:return res=_a.sent(),this.deserialize(res.data.data[0]),[2,this];case 2:throw err_2=_a.sent(),this.handleError(new EventFetchRemoteError(void 0,{error:err_2}));case 3:return[2]}}))}))},Event.prototype.mark=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_3;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/mark")];case 1:return res=_a.sent(),this.deserialize(res.data.data[0]),[2,this];case 2:throw err_3=_a.sent(),this.handleError(new EventMarkRemoteError(void 0,{error:err_3}));case 3:return[2]}}))}))},Event.prototype.unmark=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_4;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/unmark")];case 1:return res=_a.sent(),this.deserialize(res.data.data[0]),[2,this];case 2:throw err_4=_a.sent(),this.handleError(new EventUnmarkRemoteError(void 0,{error:err_4}));case 3:return[2]}}))}))},Event.prototype.flag=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_5;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/flag")];case 1:return res=_a.sent(),this.deserialize(res.data.data[0]),[2,this];case 2:throw err_5=_a.sent(),this.handleError(new EventUnarkRemoteError(void 0,{error:err_5}));case 3:return[2]}}))}))},Event.prototype.unflag=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_6;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/unflag")];case 1:return res=_a.sent(),this.deserialize(res.data.data[0]),[2,this];case 2:throw err_6=_a.sent(),this.handleError(new EventUnflagRemoteError(void 0,{error:err_6}));case 3:return[2]}}))}))},Event.prototype.handleError=function(err){return this.listeners("error").length>0&&this.emit("error",err),err},Event.eventTypes=EventTypesEnum,Event}(events_1.EventEmitter);exports.Event=Event;var EventInitializationError=function(_super){function EventInitializationError(message,properties){void 0===message&&(message="Could not initialize event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EventInitializationError",_this}return tslib_1.__extends(EventInitializationError,_super),EventInitializationError}(errors_1.BaseError);exports.EventInitializationError=EventInitializationError;var EventFetchRemoteError=function(_super){function EventFetchRemoteError(message,properties){void 0===message&&(message="Could not get event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EventFetchRemoteError",_this}return tslib_1.__extends(EventFetchRemoteError,_super),EventFetchRemoteError}(errors_1.BaseError);exports.EventFetchRemoteError=EventFetchRemoteError;var EventMarkRemoteError=function(_super){function EventMarkRemoteError(message,properties){void 0===message&&(message="Could not mark event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EventMarkRemoteError",_this}return tslib_1.__extends(EventMarkRemoteError,_super),EventMarkRemoteError}(errors_1.BaseError);exports.EventMarkRemoteError=EventMarkRemoteError;var EventUnmarkRemoteError=function(_super){function EventUnmarkRemoteError(message,properties){void 0===message&&(message="Could not unmark event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EventUnmarkRemoteError",_this}return tslib_1.__extends(EventUnmarkRemoteError,_super),EventUnmarkRemoteError}(errors_1.BaseError);exports.EventUnmarkRemoteError=EventUnmarkRemoteError;var EventUnarkRemoteError=function(_super){function EventUnarkRemoteError(message,properties){void 0===message&&(message="Could not flag event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EventUnarkRemoteError",_this}return tslib_1.__extends(EventUnarkRemoteError,_super),EventUnarkRemoteError}(errors_1.BaseError);exports.EventUnarkRemoteError=EventUnarkRemoteError;var EventUnflagRemoteError=function(_super){function EventUnflagRemoteError(message,properties){void 0===message&&(message="Could not unflag event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="EventUnflagRemoteError",_this}return tslib_1.__extends(EventUnflagRemoteError,_super),EventUnflagRemoteError}(errors_1.BaseError);exports.EventUnflagRemoteError=EventUnflagRemoteError},870:function(module,exports){},872:function(module,exports){},888:function(module,exports){},889:function(module,exports){},891:function(module,exports){},893:function(module,exports){},902:function(module,exports){},904:function(module,exports){},919:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ndjsonStream=void 0;var tslib_1=__webpack_require__(0);exports.ndjsonStream=function ndjsonStream(response){var isReader,cancellationRequest=!1;return new ReadableStream({start:function(controller){var reader=response.getReader();isReader=reader;var decoder=new TextDecoder,dataBuf="";reader.read().then((function processResult(result){return tslib_1.__awaiter(this,void 0,void 0,(function(){var dataL,data,lines,i,l,dataLine;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(result.done){if(cancellationRequest)return[2];if(0!==(dataBuf=dataBuf.trim()).length)try{dataL=JSON.parse(dataBuf),controller.enqueue(dataL)}catch(e){return controller.error(e),[2]}return controller.close(),[2]}for(data=decoder.decode(result.value,{stream:!0}),lines=(dataBuf+=data).split("\n"),i=0;i<lines.length-1;++i)if((l=lines[i].trim()).length>0)try{dataLine=JSON.parse(l),controller.enqueue(dataLine)}catch(e){return controller.error(e),cancellationRequest=!0,reader.cancel().catch((function(err){throw err})),[2]}return dataBuf=lines[lines.length-1],[4,reader.read().then(processResult)];case 1:return[2,_a.sent()]}}))}))})).catch((function(err){throw err}))},cancel:function(reason){console.log("Cancel registered due to ",reason),cancellationRequest=!0,isReader.cancel().catch((function(err){throw err}))}})}},921:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Analytics=void 0;var Analytics=function(){function Analytics(options){var _a;this.universe=options.universe,this.apiCarrier=options.universe,this.http=options.http,this.options=options,this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&this.deserialize(options.rawPayload)}return Analytics.prototype.deserialize=function(rawPayload){return this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.person=rawPayload.person,this.clv=rawPayload.clv,this.ordersCount=rawPayload.orders_count,this.ordersAmountTotalGrossSum=rawPayload.orders_amount_total_gross_sum,this.ordersAmountTotalGrossAggregateSum=rawPayload.orders_amount_total_gross_aggregate_sum,this},Analytics.create=function(payload,universe,http){return new Analytics({rawPayload:payload,universe:universe,http:http,initialized:!0})},Analytics.createUninitialized=function(payload,universe,http){return new Analytics({rawPayload:payload,universe:universe,http:http,initialized:!1})},Analytics.prototype.serialize=function(){return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,person:this.person,clv:this.clv,orders_count:this.ordersCount,orders_amount_total_gross_sum:this.ordersAmountTotalGrossSum,orders_amount_total_gross_aggregate_sum:this.ordersAmountTotalGrossAggregateSum}},Analytics}();exports.Analytics=Analytics},922:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PipelineStageFetchRemoteError=exports.PipelineStage=exports.PipelinesFetchRemoteError=exports.Pipeline=exports.CRMsFetchRemoteError=exports.CRMs=exports.CRM=void 0;var crm_1=__webpack_require__(400);Object.defineProperty(exports,"CRM",{enumerable:!0,get:function(){return crm_1.CRM}}),Object.defineProperty(exports,"CRMs",{enumerable:!0,get:function(){return crm_1.CRMs}}),Object.defineProperty(exports,"CRMsFetchRemoteError",{enumerable:!0,get:function(){return crm_1.CRMsFetchRemoteError}});var pipeline_1=__webpack_require__(401);Object.defineProperty(exports,"Pipeline",{enumerable:!0,get:function(){return pipeline_1.Pipeline}}),Object.defineProperty(exports,"PipelinesFetchRemoteError",{enumerable:!0,get:function(){return pipeline_1.PipelinesFetchRemoteError}});var pipeline_stage_1=__webpack_require__(235);Object.defineProperty(exports,"PipelineStage",{enumerable:!0,get:function(){return pipeline_stage_1.PipelineStage}}),Object.defineProperty(exports,"PipelineStageFetchRemoteError",{enumerable:!0,get:function(){return pipeline_stage_1.PipelineStageFetchRemoteError}})},923:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PeopleOrganizationsFetchRemoteError=exports.PeopleOrganizations=exports.PeopleOrganization=void 0;var people_organization_1=__webpack_require__(402);Object.defineProperty(exports,"PeopleOrganization",{enumerable:!0,get:function(){return people_organization_1.PeopleOrganization}}),Object.defineProperty(exports,"PeopleOrganizations",{enumerable:!0,get:function(){return people_organization_1.PeopleOrganizations}}),Object.defineProperty(exports,"PeopleOrganizationsFetchRemoteError",{enumerable:!0,get:function(){return people_organization_1.PeopleOrganizationsFetchRemoteError}})},924:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AssetsFetchRemoteError=exports.Assets=exports.Asset=void 0;var asset_1=__webpack_require__(236);Object.defineProperty(exports,"Asset",{enumerable:!0,get:function(){return asset_1.Asset}}),Object.defineProperty(exports,"Assets",{enumerable:!0,get:function(){return asset_1.Assets}}),Object.defineProperty(exports,"AssetsFetchRemoteError",{enumerable:!0,get:function(){return asset_1.AssetsFetchRemoteError}})},925:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OrdersFetchRemoteError=exports.Orders=exports.Order=void 0;var order_1=__webpack_require__(234);Object.defineProperty(exports,"Order",{enumerable:!0,get:function(){return order_1.Order}}),Object.defineProperty(exports,"Orders",{enumerable:!0,get:function(){return order_1.Orders}}),Object.defineProperty(exports,"OrdersFetchRemoteError",{enumerable:!0,get:function(){return order_1.OrdersFetchRemoteError}})},926:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Comment=void 0;var tslib_1=__webpack_require__(0),Comment=function(_super){function Comment(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.feed=options.feed,_this.endpoint=_this.feed.id+"/comments",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Comment,_super),Comment.prototype.deserialize=function(rawPayload){var _a;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.content=rawPayload.content,this},Comment.create=function(payload,feed,universe,http){return new Comment({rawPayload:payload,universe:universe,http:http,initialized:!0,feed:feed})},Comment.createUninitialized=function(payload,feed,universe,http){return new Comment({rawPayload:payload,universe:universe,http:http,initialized:!1,feed:feed})},Comment.prototype.serialize=function(){return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:this.deleted,content:this.content}},Comment}(__webpack_require__(4).UniverseEntity);exports.Comment=Comment},927:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Message=void 0;var message_1=__webpack_require__(232);Object.defineProperty(exports,"Message",{enumerable:!0,get:function(){return message_1.Message}})},928:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnalyticsFetchRemoteError=exports.ANALYTICS_ENDPOINT=void 0;var tslib_1=__webpack_require__(0),errors_1=__webpack_require__(1);exports.ANALYTICS_ENDPOINT="api/v0/analytics/reports";var AnalyticsFetchRemoteError=function(_super){function AnalyticsFetchRemoteError(message,properties){void 0===message&&(message="Could not get analytics.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AnalyticsFetchRemoteError",Object.setPrototypeOf(_this,AnalyticsFetchRemoteError.prototype),_this}return tslib_1.__extends(AnalyticsFetchRemoteError,_super),AnalyticsFetchRemoteError}(errors_1.BaseError);exports.AnalyticsFetchRemoteError=AnalyticsFetchRemoteError},929:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StaffInviteError=exports.StaffsFetchRemoteError=exports.StaffFetchRemoteError=exports.StaffInitializationError=exports.Staffs=exports.Staff=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Staff=function(_super){function Staff(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/staff",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Staff,_super),Staff.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.firstName=rawPayload.first_name,this.middleName=rawPayload.middle_name,this.lastName=rawPayload.last_name,this.comment=rawPayload.comment,this.type=rawPayload.type,this.gender=rawPayload.gender,this.user=rawPayload.user,this.roles=rawPayload.roles,this.permissions=rawPayload.permissions,this.invite=rawPayload.invite,this},Staff.create=function(payload,universe,http){return new Staff({rawPayload:payload,universe:universe,http:http,initialized:!0})},Staff.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,first_name:this.firstName,middle_name:this.middleName,last_name:this.lastName,comment:this.comment,type:this.type,gender:this.gender,user:this.user,roles:this.roles,permissions:this.permissions,invite:this.invite}},Staff.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new StaffInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Staff.prototype.inviteUser=function(userEmail,userFirstName){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_2;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/invite",data:{email:null!=userEmail?userEmail:void 0,first_name:null!=userFirstName?userFirstName:void 0}},[4,this.http.getClient()(opts)];case 1:return response=_a.sent(),this.deserialize(response.data.data[0]),[2,this];case 2:throw err_2=_a.sent(),this.handleError(new StaffInviteError(void 0,{error:err_2}));case 3:return[2]}}))}))},Staff}(_base_1.UniverseEntity);exports.Staff=Staff;var Staffs=function(){function Staffs(){}return Staffs.endpoint="api/v0/staff",Staffs}();exports.Staffs=Staffs;var StaffInitializationError=function(_super){function StaffInitializationError(message,properties){void 0===message&&(message="Could not initialize staff.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StaffInitializationError",_this}return tslib_1.__extends(StaffInitializationError,_super),StaffInitializationError}(errors_1.BaseError);exports.StaffInitializationError=StaffInitializationError;var StaffFetchRemoteError=function(_super){function StaffFetchRemoteError(message,properties){void 0===message&&(message="Could not get staff.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StaffFetchRemoteError",_this}return tslib_1.__extends(StaffFetchRemoteError,_super),StaffFetchRemoteError}(errors_1.BaseError);exports.StaffFetchRemoteError=StaffFetchRemoteError;var StaffsFetchRemoteError=function(_super){function StaffsFetchRemoteError(message,properties){void 0===message&&(message="Could not get staffs.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StaffsFetchRemoteError",_this}return tslib_1.__extends(StaffsFetchRemoteError,_super),StaffsFetchRemoteError}(errors_1.BaseError);exports.StaffsFetchRemoteError=StaffsFetchRemoteError;var StaffInviteError=function(_super){function StaffInviteError(message,properties){void 0===message&&(message="Could not invite user unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StaffInviteError",_this}return tslib_1.__extends(StaffInviteError,_super),StaffInviteError}(errors_1.BaseError);exports.StaffInviteError=StaffInviteError},930:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TracksFetchRemoteError=exports.TrackFetchRemoteError=exports.TrackInitializationError=exports.Tracks=exports.Track=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Track=function(_super){function Track(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/universe_tracks",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Track,_super),Track.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.completed=rawPayload.completed,this.completed_at=rawPayload.completed_at?new Date(rawPayload.completed_at):void 0,this.scope=rawPayload.scope,this.assignee=rawPayload.assignee,this.milestones=rawPayload.milestones,this},Track.create=function(payload,universe,http){return new Track({rawPayload:payload,universe:universe,http:http,initialized:!0})},Track.prototype.serialize=function(){var _a,_b,_c;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,completed:null!==(_c=this.completed)&&void 0!==_c&&_c,completed_at:this.completed_at?this.completed_at.toISOString():void 0,scope:this.scope,assignee:this.assignee,milestones:this.milestones}},Track.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new TrackInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Track}(_base_1.UniverseEntity);exports.Track=Track;var Tracks=function(){function Tracks(){}return Tracks.endpoint="api/v0/universe_tracks",Tracks.currentEndpoint="api/v0/universe_tracks/current",Tracks}();exports.Tracks=Tracks;var TrackInitializationError=function(_super){function TrackInitializationError(message,properties){void 0===message&&(message="Could not initialize track.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TrackInitializationError",_this}return tslib_1.__extends(TrackInitializationError,_super),TrackInitializationError}(errors_1.BaseError);exports.TrackInitializationError=TrackInitializationError;var TrackFetchRemoteError=function(_super){function TrackFetchRemoteError(message,properties){void 0===message&&(message="Could not get track.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TrackFetchRemoteError",_this}return tslib_1.__extends(TrackFetchRemoteError,_super),TrackFetchRemoteError}(errors_1.BaseError);exports.TrackFetchRemoteError=TrackFetchRemoteError;var TracksFetchRemoteError=function(_super){function TracksFetchRemoteError(message,properties){void 0===message&&(message="Could not get tracks.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TracksFetchRemoteError",_this}return tslib_1.__extends(TracksFetchRemoteError,_super),TracksFetchRemoteError}(errors_1.BaseError);exports.TracksFetchRemoteError=TracksFetchRemoteError},931:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InventoriesFetchRemoteError=exports.Inventories=exports.Inventory=void 0;var inventory_1=__webpack_require__(404);Object.defineProperty(exports,"Inventory",{enumerable:!0,get:function(){return inventory_1.Inventory}}),Object.defineProperty(exports,"Inventories",{enumerable:!0,get:function(){return inventory_1.Inventories}}),Object.defineProperty(exports,"InventoriesFetchRemoteError",{enumerable:!0,get:function(){return inventory_1.InventoriesFetchRemoteError}})},932:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TicketsFetchRemoteError=exports.TicketFetchRemoteError=exports.TicketInitializationError=exports.Tickets=exports.Ticket=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Ticket=function(_super){function Ticket(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/tickets",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Ticket,_super),Ticket.prototype.deserialize=function(rawPayload){var _a,_b,_c;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.dueAt=rawPayload.due_at?new Date(rawPayload.due_at):void 0,this.closureAt=rawPayload.closure_at?new Date(rawPayload.closure_at):void 0,this.flagged=null!==(_c=rawPayload.flagged)&&void 0!==_c&&_c,this.author=rawPayload.author,this.status=rawPayload.status,this.assignee=rawPayload.assignee,this.title=rawPayload.title,this.description=rawPayload.description,this.priority=rawPayload.priority,this.attachments=rawPayload.attachments,this.attachedResource=rawPayload.attached_resource,this.attachedResourceType=rawPayload.attached_resource_type,this.tags=rawPayload.tags,this.linked=rawPayload.linked,this},Ticket.create=function(payload,universe,http){return new Ticket({rawPayload:payload,universe:universe,http:http,initialized:!0})},Ticket.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,due_at:this.dueAt?this.dueAt.toISOString():void 0,closure_at:this.closureAt?this.closureAt.toISOString():void 0,flagged:this.flagged,author:this.author,status:this.status,assignee:this.assignee,title:this.title,description:this.description,priority:this.priority,attachments:this.attachments,attached_resource:this.attachedResource,attached_resource_type:this.attachedResourceType,tags:this.tags,linked:this.linked}},Ticket.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new TicketInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Ticket}(_base_1.UniverseEntity);exports.Ticket=Ticket;var Tickets=function(){function Tickets(){}return Tickets.endpoint="api/v0/tickets",Tickets}();exports.Tickets=Tickets;var TicketInitializationError=function(_super){function TicketInitializationError(message,properties){void 0===message&&(message="Could not initialize ticket.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TicketInitializationError",_this}return tslib_1.__extends(TicketInitializationError,_super),TicketInitializationError}(errors_1.BaseError);exports.TicketInitializationError=TicketInitializationError;var TicketFetchRemoteError=function(_super){function TicketFetchRemoteError(message,properties){void 0===message&&(message="Could not get ticket.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TicketFetchRemoteError",_this}return tslib_1.__extends(TicketFetchRemoteError,_super),TicketFetchRemoteError}(errors_1.BaseError);exports.TicketFetchRemoteError=TicketFetchRemoteError;var TicketsFetchRemoteError=function(_super){function TicketsFetchRemoteError(message,properties){void 0===message&&(message="Could not get tickets.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TicketsFetchRemoteError",_this}return tslib_1.__extends(TicketsFetchRemoteError,_super),TicketsFetchRemoteError}(errors_1.BaseError);exports.TicketsFetchRemoteError=TicketsFetchRemoteError},933:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DiscountsFetchRemoteError=exports.DiscountFetchRemoteError=exports.DiscountInitializationError=exports.Discounts=exports.Discount=exports.DiscountTypesEnum=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1);!function(DiscountTypesEnum){DiscountTypesEnum.rate="rate",DiscountTypesEnum.value="value"}(exports.DiscountTypesEnum||(exports.DiscountTypesEnum={}));var Discount=function(_super){function Discount(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/discounts",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Discount,_super),Discount.prototype.deserialize=function(rawPayload){var _a,_b;return this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.type=rawPayload.type,this.value=rawPayload.value,this.name=rawPayload.name,this.i18n=rawPayload.i18n,this},Discount.create=function(payload,universe,http){return new Discount({rawPayload:payload,universe:universe,http:http,initialized:!0})},Discount.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,type:this.type,value:this.value,name:this.name,i18n:this.i18n}},Discount.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new DiscountInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Discount}(_base_1.UniverseEntity);exports.Discount=Discount;var Discounts=function(){function Discounts(){}return Discounts.endpoint="api/v0/discounts",Discounts}();exports.Discounts=Discounts;var DiscountInitializationError=function(_super){function DiscountInitializationError(message,properties){void 0===message&&(message="Could not initialize discount.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DiscountInitializationError",_this}return tslib_1.__extends(DiscountInitializationError,_super),DiscountInitializationError}(errors_1.BaseError);exports.DiscountInitializationError=DiscountInitializationError;var DiscountFetchRemoteError=function(_super){function DiscountFetchRemoteError(message,properties){void 0===message&&(message="Could not get discount.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DiscountFetchRemoteError",_this}return tslib_1.__extends(DiscountFetchRemoteError,_super),DiscountFetchRemoteError}(errors_1.BaseError);exports.DiscountFetchRemoteError=DiscountFetchRemoteError;var DiscountsFetchRemoteError=function(_super){function DiscountsFetchRemoteError(message,properties){void 0===message&&(message="Could not get discounts.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DiscountsFetchRemoteError",_this}return tslib_1.__extends(DiscountsFetchRemoteError,_super),DiscountsFetchRemoteError}(errors_1.BaseError);exports.DiscountsFetchRemoteError=DiscountsFetchRemoteError},934:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageTemplatePreviewRemoteError=exports.MessageTemplateSubmitRemoteError=exports.MessageTemplatesFetchRemoteError=exports.MessageTemplateFetchRemoteError=exports.MessageTemplateInitializationError=exports.MessageTemplates=exports.MessageTemplate=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),event_1=__webpack_require__(81),qs_1=tslib_1.__importDefault(__webpack_require__(58)),feed_1=__webpack_require__(100),MessageTemplate=function(_super){function MessageTemplate(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/message_templates",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(MessageTemplate,_super),MessageTemplate.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.isProxy=rawPayload.is_proxy,this.approved=rawPayload.approved,this.name=rawPayload.name,this.comment=rawPayload.comment,this.proxyVendor=rawPayload.proxy_vendor,this.categories=rawPayload.categories,this.parametersTemplate=rawPayload.parameters_template,this.content=rawPayload.content,this.configuration=rawPayload.configuration,this.payload=rawPayload.payload,this.metadata=rawPayload.metadata,this.notification=rawPayload.notification,this.contentCategory=rawPayload.content_category,this},MessageTemplate.create=function(payload,universe,http){return new MessageTemplate({rawPayload:payload,universe:universe,http:http,initialized:!0})},MessageTemplate.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,is_proxy:this.isProxy,approved:this.approved,name:this.name,comment:this.comment,proxy_vendor:this.proxyVendor,categories:this.categories,parameters_template:this.parametersTemplate,content:this.content,configuration:this.configuration,payload:this.payload,metadata:this.metadata,notification:this.notification,content_category:this.contentCategory}},MessageTemplate.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new MessageTemplateInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},MessageTemplate.prototype.submit=function(payload){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resource,err_2;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/submit",headers:{"Content-Type":"application/json; charset=utf-8"},data:payload,responseType:"json"},[4,this.http.getClient()(opts)];case 1:return res=_b.sent(),resource=res.data.data,[2,MessageTemplate.create(resource,this.universe,this.http)];case 2:throw err_2=_b.sent(),new MessageTemplateSubmitRemoteError(void 0,{error:err_2});case 3:return[2]}}))}))},MessageTemplate.prototype.preview=function(language,payload,options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resources,_feed_1,err_3,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(!language)throw new TypeError("message template preview requires language to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/preview"+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),data:tslib_1.__assign({language:language},payload)},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return res=_c.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:(_feed_1=feed_1.Feed.createUninitialized({id:null===(_b=null==resources?void 0:resources[0])||void 0===_b?void 0:_b.feed},this.universe,this.http,null),[2,resources.map((function(item){return event_1.Event.create(item,_feed_1,_this.universe,_this.http)}))]);case 3:throw err_3=_c.sent(),new MessageTemplatePreviewRemoteError(void 0,{error:err_3});case 4:return[2]}}))}))},MessageTemplate}(_base_1.UniverseEntity);exports.MessageTemplate=MessageTemplate;var MessageTemplates=function(){function MessageTemplates(){}return MessageTemplates.endpoint="api/v0/message_templates",MessageTemplates}();exports.MessageTemplates=MessageTemplates;var MessageTemplateInitializationError=function(_super){function MessageTemplateInitializationError(message,properties){void 0===message&&(message="Could not initialize messagetemplate.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateInitializationError",_this}return tslib_1.__extends(MessageTemplateInitializationError,_super),MessageTemplateInitializationError}(errors_1.BaseError);exports.MessageTemplateInitializationError=MessageTemplateInitializationError;var MessageTemplateFetchRemoteError=function(_super){function MessageTemplateFetchRemoteError(message,properties){void 0===message&&(message="Could not get messagetemplate.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateFetchRemoteError",_this}return tslib_1.__extends(MessageTemplateFetchRemoteError,_super),MessageTemplateFetchRemoteError}(errors_1.BaseError);exports.MessageTemplateFetchRemoteError=MessageTemplateFetchRemoteError;var MessageTemplatesFetchRemoteError=function(_super){function MessageTemplatesFetchRemoteError(message,properties){void 0===message&&(message="Could not get messagetemplates.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplatesFetchRemoteError",_this}return tslib_1.__extends(MessageTemplatesFetchRemoteError,_super),MessageTemplatesFetchRemoteError}(errors_1.BaseError);exports.MessageTemplatesFetchRemoteError=MessageTemplatesFetchRemoteError;var MessageTemplateSubmitRemoteError=function(_super){function MessageTemplateSubmitRemoteError(message,properties){void 0===message&&(message="Could not submit message template.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateSubmitRemoteError",_this}return tslib_1.__extends(MessageTemplateSubmitRemoteError,_super),MessageTemplateSubmitRemoteError}(errors_1.BaseError);exports.MessageTemplateSubmitRemoteError=MessageTemplateSubmitRemoteError;var MessageTemplatePreviewRemoteError=function(_super){function MessageTemplatePreviewRemoteError(message,properties){void 0===message&&(message="Could not preview message template.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplatePreviewRemoteError",_this}return tslib_1.__extends(MessageTemplatePreviewRemoteError,_super),MessageTemplatePreviewRemoteError}(errors_1.BaseError);exports.MessageTemplatePreviewRemoteError=MessageTemplatePreviewRemoteError},935:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductCategoriesFetchRemoteError=exports.ProductCategoryFetchRemoteError=exports.ProductCategoryInitializationError=exports.ProductCategories=exports.ProductCategory=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),ProductCategory=function(_super){function ProductCategory(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/product_categories",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(ProductCategory,_super),ProductCategory.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.isProxy=rawPayload.is_proxy,this.name=rawPayload.name,this.summary=rawPayload.summary,this.customId=rawPayload.custom_id,this.externalReferenceId=rawPayload.external_reference_id,this.externalReferenceCustomId=rawPayload.external_reference_custom_id,this.proxyVendor=rawPayload.proxy_vendor,this.description=rawPayload.description,this.comment=rawPayload.comment,this.storefront=rawPayload.storefront,this.proxyPayload=rawPayload.proxy_payload,this},ProductCategory.create=function(payload,universe,http){return new ProductCategory({rawPayload:payload,universe:universe,http:http,initialized:!0})},ProductCategory.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,is_proxy:this.isProxy,name:this.name,summary:this.summary,custom_id:this.customId,external_reference_id:this.externalReferenceId,external_reference_custom_id:this.externalReferenceCustomId,proxy_vendor:this.proxyVendor,description:this.description,comment:this.comment,storefront:this.storefront,proxy_payload:this.proxyPayload}},ProductCategory.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ProductCategoryInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},ProductCategory}(_base_1.UniverseEntity);exports.ProductCategory=ProductCategory;var ProductCategories=function(){function ProductCategories(){}return ProductCategories.endpoint="api/v0/product_categories",ProductCategories}();exports.ProductCategories=ProductCategories;var ProductCategoryInitializationError=function(_super){function ProductCategoryInitializationError(message,properties){void 0===message&&(message="Could not initialize product category.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductCategoryInitializationError",Object.setPrototypeOf(_this,ProductCategoryInitializationError.prototype),_this}return tslib_1.__extends(ProductCategoryInitializationError,_super),ProductCategoryInitializationError}(errors_1.BaseError);exports.ProductCategoryInitializationError=ProductCategoryInitializationError;var ProductCategoryFetchRemoteError=function(_super){function ProductCategoryFetchRemoteError(message,properties){void 0===message&&(message="Could not get product category.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductCategoryFetchRemoteError",Object.setPrototypeOf(_this,ProductCategoryFetchRemoteError.prototype),_this}return tslib_1.__extends(ProductCategoryFetchRemoteError,_super),ProductCategoryFetchRemoteError}(errors_1.BaseError);exports.ProductCategoryFetchRemoteError=ProductCategoryFetchRemoteError;var ProductCategoriesFetchRemoteError=function(_super){function ProductCategoriesFetchRemoteError(message,properties){void 0===message&&(message="Could not get product categories.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductCategoriesFetchRemoteError",Object.setPrototypeOf(_this,ProductCategoriesFetchRemoteError.prototype),_this}return tslib_1.__extends(ProductCategoriesFetchRemoteError,_super),ProductCategoriesFetchRemoteError}(errors_1.BaseError);exports.ProductCategoriesFetchRemoteError=ProductCategoriesFetchRemoteError},936:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProductCategoryTreesFetchRemoteError=exports.ProductCategoryTreeFetchRemoteError=exports.ProductCategoryTreeInitializationError=exports.ProductCategoryTrees=exports.ProductCategoryTree=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),ProductCategoryTree=function(_super){function ProductCategoryTree(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/product_category_trees",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(ProductCategoryTree,_super),ProductCategoryTree.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.summary=rawPayload.summary,this.description=rawPayload.description,this.children=rawPayload.children,this.comment=rawPayload.comment,this.storefront=rawPayload.storefront,this},ProductCategoryTree.create=function(payload,universe,http){return new ProductCategoryTree({rawPayload:payload,universe:universe,http:http,initialized:!0})},ProductCategoryTree.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,summary:this.summary,description:this.description,children:this.children,comment:this.comment,storefront:this.storefront}},ProductCategoryTree.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ProductCategoryTreeInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},ProductCategoryTree}(_base_1.UniverseEntity);exports.ProductCategoryTree=ProductCategoryTree;var ProductCategoryTrees=function(){function ProductCategoryTrees(){}return ProductCategoryTrees.endpoint="api/v0/product_category_trees",ProductCategoryTrees}();exports.ProductCategoryTrees=ProductCategoryTrees;var ProductCategoryTreeInitializationError=function(_super){function ProductCategoryTreeInitializationError(message,properties){void 0===message&&(message="Could not initialize product category tree.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductCategoryTreeInitializationError",Object.setPrototypeOf(_this,ProductCategoryTreeInitializationError.prototype),_this}return tslib_1.__extends(ProductCategoryTreeInitializationError,_super),ProductCategoryTreeInitializationError}(errors_1.BaseError);exports.ProductCategoryTreeInitializationError=ProductCategoryTreeInitializationError;var ProductCategoryTreeFetchRemoteError=function(_super){function ProductCategoryTreeFetchRemoteError(message,properties){void 0===message&&(message="Could not get product category tree.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductCategoryTreeFetchRemoteError",Object.setPrototypeOf(_this,ProductCategoryTreeFetchRemoteError.prototype),_this}return tslib_1.__extends(ProductCategoryTreeFetchRemoteError,_super),ProductCategoryTreeFetchRemoteError}(errors_1.BaseError);exports.ProductCategoryTreeFetchRemoteError=ProductCategoryTreeFetchRemoteError;var ProductCategoryTreesFetchRemoteError=function(_super){function ProductCategoryTreesFetchRemoteError(message,properties){void 0===message&&(message="Could not get product category trees.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ProductCategoryTreesFetchRemoteError",Object.setPrototypeOf(_this,ProductCategoryTreesFetchRemoteError.prototype),_this}return tslib_1.__extends(ProductCategoryTreesFetchRemoteError,_super),ProductCategoryTreesFetchRemoteError}(errors_1.BaseError);exports.ProductCategoryTreesFetchRemoteError=ProductCategoryTreesFetchRemoteError},937:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageTemplateCategoriesFetchRemoteError=exports.MessageTemplateCategoryFetchRemoteError=exports.MessageTemplateCategoryInitializationError=exports.MessageTemplateCategories=exports.MessageTemplateCategory=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),MessageTemplateCategory=function(_super){function MessageTemplateCategory(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/message_template_categories",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(MessageTemplateCategory,_super),MessageTemplateCategory.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.summary=rawPayload.summary,this.description=rawPayload.description,this.comment=rawPayload.comment,this.customId=rawPayload.custom_id,this},MessageTemplateCategory.create=function(payload,universe,http){return new MessageTemplateCategory({rawPayload:payload,universe:universe,http:http,initialized:!0})},MessageTemplateCategory.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,summary:this.summary,description:this.description,comment:this.comment,custom_id:this.customId}},MessageTemplateCategory.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new MessageTemplateCategoryInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},MessageTemplateCategory}(_base_1.UniverseEntity);exports.MessageTemplateCategory=MessageTemplateCategory;var MessageTemplateCategories=function(){function MessageTemplateCategories(){}return MessageTemplateCategories.endpoint="api/v0/message_template_categories",MessageTemplateCategories}();exports.MessageTemplateCategories=MessageTemplateCategories;var MessageTemplateCategoryInitializationError=function(_super){function MessageTemplateCategoryInitializationError(message,properties){void 0===message&&(message="Could not initialize product category.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateCategoryInitializationError",Object.setPrototypeOf(_this,MessageTemplateCategoryInitializationError.prototype),_this}return tslib_1.__extends(MessageTemplateCategoryInitializationError,_super),MessageTemplateCategoryInitializationError}(errors_1.BaseError);exports.MessageTemplateCategoryInitializationError=MessageTemplateCategoryInitializationError;var MessageTemplateCategoryFetchRemoteError=function(_super){function MessageTemplateCategoryFetchRemoteError(message,properties){void 0===message&&(message="Could not get product category.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateCategoryFetchRemoteError",Object.setPrototypeOf(_this,MessageTemplateCategoryFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageTemplateCategoryFetchRemoteError,_super),MessageTemplateCategoryFetchRemoteError}(errors_1.BaseError);exports.MessageTemplateCategoryFetchRemoteError=MessageTemplateCategoryFetchRemoteError;var MessageTemplateCategoriesFetchRemoteError=function(_super){function MessageTemplateCategoriesFetchRemoteError(message,properties){void 0===message&&(message="Could not get product categories.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateCategoriesFetchRemoteError",Object.setPrototypeOf(_this,MessageTemplateCategoriesFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageTemplateCategoriesFetchRemoteError,_super),MessageTemplateCategoriesFetchRemoteError}(errors_1.BaseError);exports.MessageTemplateCategoriesFetchRemoteError=MessageTemplateCategoriesFetchRemoteError},938:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageTemplateCategoryTreesFetchRemoteError=exports.MessageTemplateCategoryTreeFetchRemoteError=exports.MessageTemplateCategoryTreeInitializationError=exports.MessageTemplateCategoryTrees=exports.MessageTemplateCategoryTree=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),MessageTemplateCategoryTree=function(_super){function MessageTemplateCategoryTree(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/message_template_category_trees",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(MessageTemplateCategoryTree,_super),MessageTemplateCategoryTree.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.summary=rawPayload.summary,this.description=rawPayload.description,this.comment=rawPayload.comment,this.children=rawPayload.children,this},MessageTemplateCategoryTree.create=function(payload,universe,http){return new MessageTemplateCategoryTree({rawPayload:payload,universe:universe,http:http,initialized:!0})},MessageTemplateCategoryTree.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,summary:this.summary,description:this.description,comment:this.comment,children:this.children}},MessageTemplateCategoryTree.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new MessageTemplateCategoryTreeInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},MessageTemplateCategoryTree}(_base_1.UniverseEntity);exports.MessageTemplateCategoryTree=MessageTemplateCategoryTree;var MessageTemplateCategoryTrees=function(){function MessageTemplateCategoryTrees(){}return MessageTemplateCategoryTrees.endpoint="api/v0/message_template_category_trees",MessageTemplateCategoryTrees}();exports.MessageTemplateCategoryTrees=MessageTemplateCategoryTrees;var MessageTemplateCategoryTreeInitializationError=function(_super){function MessageTemplateCategoryTreeInitializationError(message,properties){void 0===message&&(message="Could not initialize message template category tree.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateCategoryTreeInitializationError",Object.setPrototypeOf(_this,MessageTemplateCategoryTreeInitializationError.prototype),_this}return tslib_1.__extends(MessageTemplateCategoryTreeInitializationError,_super),MessageTemplateCategoryTreeInitializationError}(errors_1.BaseError);exports.MessageTemplateCategoryTreeInitializationError=MessageTemplateCategoryTreeInitializationError;var MessageTemplateCategoryTreeFetchRemoteError=function(_super){function MessageTemplateCategoryTreeFetchRemoteError(message,properties){void 0===message&&(message="Could not get message template category tree.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateCategoryTreeFetchRemoteError",Object.setPrototypeOf(_this,MessageTemplateCategoryTreeFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageTemplateCategoryTreeFetchRemoteError,_super),MessageTemplateCategoryTreeFetchRemoteError}(errors_1.BaseError);exports.MessageTemplateCategoryTreeFetchRemoteError=MessageTemplateCategoryTreeFetchRemoteError;var MessageTemplateCategoryTreesFetchRemoteError=function(_super){function MessageTemplateCategoryTreesFetchRemoteError(message,properties){void 0===message&&(message="Could not get message template category trees.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageTemplateCategoryTreesFetchRemoteError",Object.setPrototypeOf(_this,MessageTemplateCategoryTreesFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageTemplateCategoryTreesFetchRemoteError,_super),MessageTemplateCategoryTreesFetchRemoteError}(errors_1.BaseError);exports.MessageTemplateCategoryTreesFetchRemoteError=MessageTemplateCategoryTreesFetchRemoteError},939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomPropertiesFetchRemoteError=exports.CustomPropertyFetchRemoteError=exports.CustomPropertyInitializationError=exports.CustomProperties=exports.CustomProperty=exports.CustomPropertyTypesEnum=exports.CustomPropertyInputTypesEnum=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1);!function(CustomPropertyInputTypesEnum){CustomPropertyInputTypesEnum.select="select",CustomPropertyInputTypesEnum.radio="radio",CustomPropertyInputTypesEnum.textinput="textinput",CustomPropertyInputTypesEnum.numberinput="numberinput",CustomPropertyInputTypesEnum.numberwithunitinput="numberwithunitinput",CustomPropertyInputTypesEnum.currencyinput="currencyinput",CustomPropertyInputTypesEnum.textbox="textbox",CustomPropertyInputTypesEnum.date="date",CustomPropertyInputTypesEnum.datetime="datetime",CustomPropertyInputTypesEnum.daterange="daterange"}(exports.CustomPropertyInputTypesEnum||(exports.CustomPropertyInputTypesEnum={})),function(CustomPropertyTypesEnum){CustomPropertyTypesEnum.string="string",CustomPropertyTypesEnum.number="number",CustomPropertyTypesEnum.boolean="boolean",CustomPropertyTypesEnum.object="object"}(exports.CustomPropertyTypesEnum||(exports.CustomPropertyTypesEnum={}));var CustomProperty=function(_super){function CustomProperty(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/custom_properties",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(CustomProperty,_super),CustomProperty.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.object=rawPayload.object,this.type=rawPayload.type,this.input=rawPayload.input,this.description=rawPayload.description,this.showIn=rawPayload.show_in,this.icon=rawPayload.icon,this.orderIndex=rawPayload.order_index,this.proxyVendor=rawPayload.proxy_vendor,this.isProxy=rawPayload.is_proxy,this.externalReferenceId=rawPayload.external_reference_id,this.externalLabel=rawPayload.external_label,this},CustomProperty.create=function(payload,universe,http){return new CustomProperty({rawPayload:payload,universe:universe,http:http,initialized:!0})},CustomProperty.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,object:this.object,type:this.type,input:this.input,description:this.description,show_in:this.showIn,icon:this.icon,order_index:this.orderIndex,proxy_vendor:this.proxyVendor,is_proxy:this.isProxy,external_reference_id:this.externalReferenceId,external_label:this.externalLabel}},CustomProperty.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new CustomPropertyInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},CustomProperty}(_base_1.UniverseEntity);exports.CustomProperty=CustomProperty;var CustomProperties=function(){function CustomProperties(){}return CustomProperties.endpoint="api/v0/custom_properties",CustomProperties}();exports.CustomProperties=CustomProperties;var CustomPropertyInitializationError=function(_super){function CustomPropertyInitializationError(message,properties){void 0===message&&(message="Could not initialize custom property.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CustomPropertyInitializationError",Object.setPrototypeOf(_this,CustomPropertyInitializationError.prototype),_this}return tslib_1.__extends(CustomPropertyInitializationError,_super),CustomPropertyInitializationError}(errors_1.BaseError);exports.CustomPropertyInitializationError=CustomPropertyInitializationError;var CustomPropertyFetchRemoteError=function(_super){function CustomPropertyFetchRemoteError(message,properties){void 0===message&&(message="Could not get custom property.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CustomPropertyFetchRemoteError",Object.setPrototypeOf(_this,CustomPropertyFetchRemoteError.prototype),_this}return tslib_1.__extends(CustomPropertyFetchRemoteError,_super),CustomPropertyFetchRemoteError}(errors_1.BaseError);exports.CustomPropertyFetchRemoteError=CustomPropertyFetchRemoteError;var CustomPropertiesFetchRemoteError=function(_super){function CustomPropertiesFetchRemoteError(message,properties){void 0===message&&(message="Could not get custom properties.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CustomPropertiesFetchRemoteError",Object.setPrototypeOf(_this,CustomPropertiesFetchRemoteError.prototype),_this}return tslib_1.__extends(CustomPropertiesFetchRemoteError,_super),CustomPropertiesFetchRemoteError}(errors_1.BaseError);exports.CustomPropertiesFetchRemoteError=CustomPropertiesFetchRemoteError},940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagsFetchRemoteError=exports.TagFetchRemoteError=exports.TagInitializationError=exports.Tags=exports.Tag=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Tag=function(_super){function Tag(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/tags",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Tag,_super),Tag.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.label=rawPayload.label,this.object=rawPayload.object,this.description=rawPayload.description,this.tagGroup=rawPayload.tag_group,this},Tag.create=function(payload,universe,http){return new Tag({rawPayload:payload,universe:universe,http:http,initialized:!0})},Tag.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,label:this.label,object:this.object,description:this.description,tag_group:this.tagGroup}},Tag.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new TagInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Tag}(_base_1.UniverseEntity);exports.Tag=Tag;var Tags=function(){function Tags(){}return Tags.endpoint="api/v0/tags",Tags}();exports.Tags=Tags;var TagInitializationError=function(_super){function TagInitializationError(message,properties){void 0===message&&(message="Could not initialize tag.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TagInitializationError",Object.setPrototypeOf(_this,TagInitializationError.prototype),_this}return tslib_1.__extends(TagInitializationError,_super),TagInitializationError}(errors_1.BaseError);exports.TagInitializationError=TagInitializationError;var TagFetchRemoteError=function(_super){function TagFetchRemoteError(message,properties){void 0===message&&(message="Could not get tag.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TagFetchRemoteError",Object.setPrototypeOf(_this,TagFetchRemoteError.prototype),_this}return tslib_1.__extends(TagFetchRemoteError,_super),TagFetchRemoteError}(errors_1.BaseError);exports.TagFetchRemoteError=TagFetchRemoteError;var TagsFetchRemoteError=function(_super){function TagsFetchRemoteError(message,properties){void 0===message&&(message="Could not get tags.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TagsFetchRemoteError",Object.setPrototypeOf(_this,TagsFetchRemoteError.prototype),_this}return tslib_1.__extends(TagsFetchRemoteError,_super),TagsFetchRemoteError}(errors_1.BaseError);exports.TagsFetchRemoteError=TagsFetchRemoteError},941:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagGroupsFetchRemoteError=exports.TagGroupFetchRemoteError=exports.TagGroupInitializationError=exports.TagGroups=exports.TagGroup=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),TagGroup=function(_super){function TagGroup(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/tag_groups",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(TagGroup,_super),TagGroup.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.label=rawPayload.label,this.color=rawPayload.color,this.description=rawPayload.description,this},TagGroup.create=function(payload,universe,http){return new TagGroup({rawPayload:payload,universe:universe,http:http,initialized:!0})},TagGroup.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,label:this.label,color:this.color,description:this.description}},TagGroup.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new TagGroupInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},TagGroup}(_base_1.UniverseEntity);exports.TagGroup=TagGroup;var TagGroups=function(){function TagGroups(){}return TagGroups.endpoint="api/v0/tag_groups",TagGroups}();exports.TagGroups=TagGroups;var TagGroupInitializationError=function(_super){function TagGroupInitializationError(message,properties){void 0===message&&(message="Could not initialize tag group.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TagGroupInitializationError",Object.setPrototypeOf(_this,TagGroupInitializationError.prototype),_this}return tslib_1.__extends(TagGroupInitializationError,_super),TagGroupInitializationError}(errors_1.BaseError);exports.TagGroupInitializationError=TagGroupInitializationError;var TagGroupFetchRemoteError=function(_super){function TagGroupFetchRemoteError(message,properties){void 0===message&&(message="Could not get tag group.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TagGroupFetchRemoteError",Object.setPrototypeOf(_this,TagGroupFetchRemoteError.prototype),_this}return tslib_1.__extends(TagGroupFetchRemoteError,_super),TagGroupFetchRemoteError}(errors_1.BaseError);exports.TagGroupFetchRemoteError=TagGroupFetchRemoteError;var TagGroupsFetchRemoteError=function(_super){function TagGroupsFetchRemoteError(message,properties){void 0===message&&(message="Could not get tag groups.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="TagGroupsFetchRemoteError",Object.setPrototypeOf(_this,TagGroupsFetchRemoteError.prototype),_this}return tslib_1.__extends(TagGroupsFetchRemoteError,_super),TagGroupsFetchRemoteError}(errors_1.BaseError);exports.TagGroupsFetchRemoteError=TagGroupsFetchRemoteError},942:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfigurationsFetchRemoteError=exports.ConfigurationFetchRemoteError=exports.ConfigurationInitializationError=exports.Configurations=exports.Configuration=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Configuration=function(_super){function Configuration(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/configurations",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Configuration,_super),Configuration.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.owner=rawPayload.owner,this.configuration=rawPayload.configuration,this.ui=rawPayload.ui,this.dashboard=rawPayload.dashboard,this},Configuration.create=function(payload,universe,http){return new Configuration({rawPayload:payload,universe:universe,http:http,initialized:!0})},Configuration.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,owner:this.owner,configuration:this.configuration,ui:this.ui,dashboard:this.dashboard}},Configuration.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ConfigurationInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Configuration}(_base_1.UniverseEntity);exports.Configuration=Configuration;var Configurations=function(){function Configurations(){}return Configurations.endpoint="api/v0/configurations",Configurations}();exports.Configurations=Configurations;var ConfigurationInitializationError=function(_super){function ConfigurationInitializationError(message,properties){void 0===message&&(message="Could not initialize configuration.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ConfigurationInitializationError",Object.setPrototypeOf(_this,ConfigurationInitializationError.prototype),_this}return tslib_1.__extends(ConfigurationInitializationError,_super),ConfigurationInitializationError}(errors_1.BaseError);exports.ConfigurationInitializationError=ConfigurationInitializationError;var ConfigurationFetchRemoteError=function(_super){function ConfigurationFetchRemoteError(message,properties){void 0===message&&(message="Could not get configuration.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ConfigurationFetchRemoteError",Object.setPrototypeOf(_this,ConfigurationFetchRemoteError.prototype),_this}return tslib_1.__extends(ConfigurationFetchRemoteError,_super),ConfigurationFetchRemoteError}(errors_1.BaseError);exports.ConfigurationFetchRemoteError=ConfigurationFetchRemoteError;var ConfigurationsFetchRemoteError=function(_super){function ConfigurationsFetchRemoteError(message,properties){void 0===message&&(message="Could not get configurations.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ConfigurationsFetchRemoteError",Object.setPrototypeOf(_this,ConfigurationsFetchRemoteError.prototype),_this}return tslib_1.__extends(ConfigurationsFetchRemoteError,_super),ConfigurationsFetchRemoteError}(errors_1.BaseError);exports.ConfigurationsFetchRemoteError=ConfigurationsFetchRemoteError},943:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntegrationsSetupRemoteError=exports.AvailableIntegrationsFetchRemoteError=exports.IntegrationsFetchRemoteError=exports.IntegrationFetchRemoteError=exports.IntegrationInitializationError=exports.Integrations=exports.Integration=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Integration=function(_super){function Integration(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/integrations",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Integration,_super),Integration.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.vendor=rawPayload.vendor,this.type=rawPayload.type,this.payload=rawPayload.payload,this},Integration.create=function(payload,universe,http){return new Integration({rawPayload:payload,universe:universe,http:http,initialized:!0})},Integration.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,vendor:this.vendor,type:this.type,payload:this.payload}},Integration.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new IntegrationInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Integration}(_base_1.UniverseEntity);exports.Integration=Integration;var Integrations=function(){function Integrations(){}return Integrations.endpoint="api/v0/integrations",Integrations}();exports.Integrations=Integrations;var IntegrationInitializationError=function(_super){function IntegrationInitializationError(message,properties){void 0===message&&(message="Could not initialize integration.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="IntegrationInitializationError",Object.setPrototypeOf(_this,IntegrationInitializationError.prototype),_this}return tslib_1.__extends(IntegrationInitializationError,_super),IntegrationInitializationError}(errors_1.BaseError);exports.IntegrationInitializationError=IntegrationInitializationError;var IntegrationFetchRemoteError=function(_super){function IntegrationFetchRemoteError(message,properties){void 0===message&&(message="Could not get integration.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="IntegrationFetchRemoteError",Object.setPrototypeOf(_this,IntegrationFetchRemoteError.prototype),_this}return tslib_1.__extends(IntegrationFetchRemoteError,_super),IntegrationFetchRemoteError}(errors_1.BaseError);exports.IntegrationFetchRemoteError=IntegrationFetchRemoteError;var IntegrationsFetchRemoteError=function(_super){function IntegrationsFetchRemoteError(message,properties){void 0===message&&(message="Could not get integrations.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="IntegrationsFetchRemoteError",Object.setPrototypeOf(_this,IntegrationsFetchRemoteError.prototype),_this}return tslib_1.__extends(IntegrationsFetchRemoteError,_super),IntegrationsFetchRemoteError}(errors_1.BaseError);exports.IntegrationsFetchRemoteError=IntegrationsFetchRemoteError;var AvailableIntegrationsFetchRemoteError=function(_super){function AvailableIntegrationsFetchRemoteError(message,properties){void 0===message&&(message="Could not get available integrations.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="AvailableIntegrationsFetchRemoteError",Object.setPrototypeOf(_this,AvailableIntegrationsFetchRemoteError.prototype),_this}return tslib_1.__extends(AvailableIntegrationsFetchRemoteError,_super),AvailableIntegrationsFetchRemoteError}(errors_1.BaseError);exports.AvailableIntegrationsFetchRemoteError=AvailableIntegrationsFetchRemoteError;var IntegrationsSetupRemoteError=function(_super){function IntegrationsSetupRemoteError(message,properties){void 0===message&&(message="Could not setup vendor integration.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="IntegrationsSetupRemoteError",Object.setPrototypeOf(_this,IntegrationsSetupRemoteError.prototype),_this}return tslib_1.__extends(IntegrationsSetupRemoteError,_super),IntegrationsSetupRemoteError}(errors_1.BaseError);exports.IntegrationsSetupRemoteError=IntegrationsSetupRemoteError},944:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageBrokerMessageTemplateNotificationSendError=exports.MessageBrokerUpdateProfileRemoteError=exports.MessageBrokerProxyChannelInstancesRemoteError=exports.MessageBrokerSyncMessagesRemoteError=exports.MessageBrokerSetupRemoteError=exports.MessageBrokerSyncMessageTemplatesRemoteError=exports.MessageBrokersFetchRemoteError=exports.MessageBrokers=exports.MessageBroker=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),route_1=__webpack_require__(945),feed=tslib_1.__importStar(__webpack_require__(100)),event=tslib_1.__importStar(__webpack_require__(81)),MessageBroker=function(_super){function MessageBroker(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/message_brokers",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(MessageBroker,_super),MessageBroker.prototype.deserialize=function(rawPayload){var _a,_b,_c,_d,_this=this;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.uri=rawPayload.uri,this.isProxy=rawPayload.is_proxy,this.proxyVendor=rawPayload.proxy_vendor,this.configuration=rawPayload.configuration,this.integrationConfiguration=rawPayload.integration_configuration,this.isSetUp=rawPayload.is_set_up,this.metadata=rawPayload.metadata,this.labels=rawPayload.labels,this.profile=rawPayload.profile,this.externalReferenceId=rawPayload.external_reference_id,rawPayload.details&&(this.details={routes:Array.isArray(null===(_c=rawPayload.details)||void 0===_c?void 0:_c.routes)?null===(_d=rawPayload.details)||void 0===_d?void 0:_d.routes.map((function(item){return route_1.Route.create(item,_this.universe,_this.http)})):[]}),this},MessageBroker.prototype.serialize=function(){return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:this.deleted,active:this.active,name:this.name,uri:this.uri,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,configuration:this.configuration,integration_configuration:this.integrationConfiguration,is_set_up:this.isSetUp,metadata:this.metadata,labels:this.labels,profile:this.profile,external_reference_id:this.externalReferenceId}},MessageBroker.create=function(payload,universe,http){return new MessageBroker({rawPayload:payload,universe:universe,http:http,initialized:!0})},MessageBroker.prototype.setup=function(){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_1;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("messagebroker setup requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/setup",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return[2,_c.sent().status];case 3:throw err_1=_c.sent(),new MessageBrokerSetupRemoteError(void 0,{error:err_1});case 4:return[2]}}))}))},MessageBroker.prototype.syncMessageTemplates=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_2;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/message_templates",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 1:return[2,_b.sent().status];case 2:throw err_2=_b.sent(),this.handleError(new MessageBrokerSyncMessageTemplatesRemoteError(void 0,{error:err_2}));case 3:return[2]}}))}))},MessageBroker.prototype.syncMessages=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_3;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("message broker syncMessages requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/messages",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_3=_b.sent(),this.handleError(new MessageBrokerSyncMessagesRemoteError(void 0,{error:err_3}));case 4:return[2]}}))}))},MessageBroker.prototype.syncMessagesForChannel=function(externalPersonReferenceId){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_4;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("message broker syncMessagesForChannel requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/messages/"+externalPersonReferenceId,headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_4=_b.sent(),this.handleError(new MessageBrokerSyncMessagesRemoteError(void 0,{error:err_4}));case 4:return[2]}}))}))},MessageBroker.prototype.getProxyChannelInstances=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_5;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"GET",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/proxy/channel_instances",responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().data.data];case 3:throw err_5=_b.sent(),this.handleError(new MessageBrokerProxyChannelInstancesRemoteError(void 0,{error:err_5}));case 4:return[2]}}))}))},MessageBroker.prototype.updateProfile=function(payload){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_6;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("message broker profile update requires id to be set");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/profile",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},data:tslib_1.__assign({},null!=payload?payload:void 0),responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_6=_b.sent(),this.handleError(new MessageBrokerUpdateProfileRemoteError(void 0,{error:err_6}));case 4:return[2]}}))}))},MessageBroker.prototype.getProfile=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,err_7;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("message broker profile get requires id to be set");_a.label=1;case 1:return _a.trys.push([1,3,,4]),opts={method:"GET",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/profile",params:tslib_1.__assign({},(null==options?void 0:options.query)?options.query:{})},[4,this.http.getClient()(opts)];case 2:return res=_a.sent(),[2,res.data.data];case 3:throw err_7=_a.sent(),this.handleError(new MessageBrokerUpdateProfileRemoteError(void 0,{error:err_7}));case 4:return[2]}}))}))},MessageBroker.prototype.sendMessageFromMessageTemplate=function(messageTemplate,channelUserExternalReferenceId,language,parameters){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,_feed,err_8;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("message broker notification requires id to be set");_a.label=1;case 1:return _a.trys.push([1,3,,4]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/notifications/templates/"+messageTemplate.id,data:{channel_user_external_reference_id:channelUserExternalReferenceId,parameters:parameters,language:language}},[4,this.http.getClient()(opts)];case 2:return response=_a.sent(),_feed=feed.Feed.createUninitialized({id:response.data.data[0].id},this.universe,this.http,null),[2,event.Event.create(response.data.data[0],_feed,this.universe,this.http)];case 3:throw err_8=_a.sent(),new MessageBrokerMessageTemplateNotificationSendError(void 0,{error:err_8});case 4:return[2]}}))}))},MessageBroker}(_base_1.UniverseEntity);exports.MessageBroker=MessageBroker;var MessageBrokers=function(){function MessageBrokers(){}return MessageBrokers.endpoint="api/v0/message_brokers",MessageBrokers}();exports.MessageBrokers=MessageBrokers;var MessageBrokersFetchRemoteError=function(_super){function MessageBrokersFetchRemoteError(message,properties){void 0===message&&(message="Could not get messageBrokers.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageBrokersFetchRemoteError",Object.setPrototypeOf(_this,MessageBrokersFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageBrokersFetchRemoteError,_super),MessageBrokersFetchRemoteError}(errors_1.BaseError);exports.MessageBrokersFetchRemoteError=MessageBrokersFetchRemoteError;var MessageBrokerSyncMessageTemplatesRemoteError=function(_super){function MessageBrokerSyncMessageTemplatesRemoteError(message,properties){void 0===message&&(message="Could not sync message templates of broker.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageBrokerSyncMessageTemplatesRemoteError",Object.setPrototypeOf(_this,MessageBrokerSyncMessageTemplatesRemoteError.prototype),_this}return tslib_1.__extends(MessageBrokerSyncMessageTemplatesRemoteError,_super),MessageBrokerSyncMessageTemplatesRemoteError}(errors_1.BaseError);exports.MessageBrokerSyncMessageTemplatesRemoteError=MessageBrokerSyncMessageTemplatesRemoteError;var MessageBrokerSetupRemoteError=function(_super){function MessageBrokerSetupRemoteError(message,properties){void 0===message&&(message="Could not setup message broker.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageBrokerSetupRemoteError",Object.setPrototypeOf(_this,MessageBrokerSetupRemoteError.prototype),_this}return tslib_1.__extends(MessageBrokerSetupRemoteError,_super),MessageBrokerSetupRemoteError}(errors_1.BaseError);exports.MessageBrokerSetupRemoteError=MessageBrokerSetupRemoteError;var MessageBrokerSyncMessagesRemoteError=function(_super){function MessageBrokerSyncMessagesRemoteError(message,properties){void 0===message&&(message="Could not sync messages of message broker.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageBrokerSyncMessagesRemoteError",Object.setPrototypeOf(_this,MessageBrokerSyncMessagesRemoteError.prototype),_this}return tslib_1.__extends(MessageBrokerSyncMessagesRemoteError,_super),MessageBrokerSyncMessagesRemoteError}(errors_1.BaseError);exports.MessageBrokerSyncMessagesRemoteError=MessageBrokerSyncMessagesRemoteError;var MessageBrokerProxyChannelInstancesRemoteError=function(_super){function MessageBrokerProxyChannelInstancesRemoteError(message,properties){void 0===message&&(message="Could not get proxied channel instances of a message broker.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageBrokerProxyChannelInstancesRemoteError",Object.setPrototypeOf(_this,MessageBrokerProxyChannelInstancesRemoteError.prototype),_this}return tslib_1.__extends(MessageBrokerProxyChannelInstancesRemoteError,_super),MessageBrokerProxyChannelInstancesRemoteError}(errors_1.BaseError);exports.MessageBrokerProxyChannelInstancesRemoteError=MessageBrokerProxyChannelInstancesRemoteError;var MessageBrokerUpdateProfileRemoteError=function(_super){function MessageBrokerUpdateProfileRemoteError(message,properties){void 0===message&&(message="Could not update profile of message broker.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageBrokerUpdateProfileRemoteError",Object.setPrototypeOf(_this,MessageBrokerUpdateProfileRemoteError.prototype),_this}return tslib_1.__extends(MessageBrokerUpdateProfileRemoteError,_super),MessageBrokerUpdateProfileRemoteError}(errors_1.BaseError);exports.MessageBrokerUpdateProfileRemoteError=MessageBrokerUpdateProfileRemoteError;var MessageBrokerMessageTemplateNotificationSendError=function(_super){function MessageBrokerMessageTemplateNotificationSendError(message,properties){void 0===message&&(message="Could not create broker notification unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageBrokerMessageTemplateNotificationSendError",Object.setPrototypeOf(_this,MessageBrokerMessageTemplateNotificationSendError.prototype),_this}return tslib_1.__extends(MessageBrokerMessageTemplateNotificationSendError,_super),MessageBrokerMessageTemplateNotificationSendError}(errors_1.BaseError);exports.MessageBrokerMessageTemplateNotificationSendError=MessageBrokerMessageTemplateNotificationSendError},945:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoutesFetchRemoteError=exports.Routes=exports.Route=void 0;var route_1=__webpack_require__(405);Object.defineProperty(exports,"Route",{enumerable:!0,get:function(){return route_1.Route}}),Object.defineProperty(exports,"Routes",{enumerable:!0,get:function(){return route_1.Routes}}),Object.defineProperty(exports,"RoutesFetchRemoteError",{enumerable:!0,get:function(){return route_1.RoutesFetchRemoteError}})},946:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StorefrontSyncProductCategoriesRemoteError=exports.StorefrontSyncLocationsRemoteError=exports.StorefrontSetupRemoteError=exports.StorefrontSyncInventoriesRemoteError=exports.StorefrontSyncOrdersRemoteError=exports.StorefrontSyncProductsRemoteError=exports.StorefrontsFetchRemoteError=exports.StorefrontFetchRemoteError=exports.StorefrontInitializationError=exports.Storefronts=exports.Storefront=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Storefront=function(_super){function Storefront(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/storefronts",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Storefront,_super),Storefront.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.uri=rawPayload.uri,this.isProxy=rawPayload.is_proxy,this.proxyVendor=rawPayload.proxy_vendor,this.configuration=rawPayload.configuration,this.integrationConfiguration=rawPayload.integration_configuration,this.isSetUp=rawPayload.is_set_up,this.metadata=rawPayload.metadata,this},Storefront.create=function(payload,universe,http){return new Storefront({rawPayload:payload,universe:universe,http:http,initialized:!0})},Storefront.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,uri:this.uri,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,configuration:this.configuration,integration_configuration:this.integrationConfiguration,is_set_up:this.isSetUp,metadata:this.metadata}},Storefront.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new StorefrontInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Storefront.prototype.setup=function(){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_2;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("storefront setup requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/setup",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return[2,_c.sent().status];case 3:throw err_2=_c.sent(),new StorefrontSetupRemoteError(void 0,{error:err_2});case 4:return[2]}}))}))},Storefront.prototype.syncProducts=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_3;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("storefront syncProducts requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/products",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_3=_b.sent(),this.handleError(new StorefrontSyncProductsRemoteError(void 0,{error:err_3}));case 4:return[2]}}))}))},Storefront.prototype.syncOrders=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_4;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("storefront syncOrders requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/orders",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_4=_b.sent(),this.handleError(new StorefrontSyncOrdersRemoteError(void 0,{error:err_4}));case 4:return[2]}}))}))},Storefront.prototype.syncInventories=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_5;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("storefront syncInventories requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/inventories",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_5=_b.sent(),this.handleError(new StorefrontSyncInventoriesRemoteError(void 0,{error:err_5}));case 4:return[2]}}))}))},Storefront.prototype.syncLocations=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_6;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("storefront syncLocations requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/locations",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_6=_b.sent(),this.handleError(new StorefrontSyncLocationsRemoteError(void 0,{error:err_6}));case 4:return[2]}}))}))},Storefront.prototype.syncProductCategories=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_7;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("storefront syncProductCategories requires id to be set.");_b.label=1;case 1:return _b.trys.push([1,3,,4]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/product_categories",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 2:return[2,_b.sent().status];case 3:throw err_7=_b.sent(),this.handleError(new StorefrontSyncProductCategoriesRemoteError(void 0,{error:err_7}));case 4:return[2]}}))}))},Storefront}(_base_1.UniverseEntity);exports.Storefront=Storefront;var Storefronts=function(){function Storefronts(){}return Storefronts.endpoint="api/v0/storefronts",Storefronts}();exports.Storefronts=Storefronts;var StorefrontInitializationError=function(_super){function StorefrontInitializationError(message,properties){void 0===message&&(message="Could not initialize storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontInitializationError",Object.setPrototypeOf(_this,StorefrontInitializationError.prototype),_this}return tslib_1.__extends(StorefrontInitializationError,_super),StorefrontInitializationError}(errors_1.BaseError);exports.StorefrontInitializationError=StorefrontInitializationError;var StorefrontFetchRemoteError=function(_super){function StorefrontFetchRemoteError(message,properties){void 0===message&&(message="Could not get storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontFetchRemoteError",Object.setPrototypeOf(_this,StorefrontFetchRemoteError.prototype),_this}return tslib_1.__extends(StorefrontFetchRemoteError,_super),StorefrontFetchRemoteError}(errors_1.BaseError);exports.StorefrontFetchRemoteError=StorefrontFetchRemoteError;var StorefrontsFetchRemoteError=function(_super){function StorefrontsFetchRemoteError(message,properties){void 0===message&&(message="Could not get storefronts.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontsFetchRemoteError",Object.setPrototypeOf(_this,StorefrontsFetchRemoteError.prototype),_this}return tslib_1.__extends(StorefrontsFetchRemoteError,_super),StorefrontsFetchRemoteError}(errors_1.BaseError);exports.StorefrontsFetchRemoteError=StorefrontsFetchRemoteError;var StorefrontSyncProductsRemoteError=function(_super){function StorefrontSyncProductsRemoteError(message,properties){void 0===message&&(message="Could not sync products of storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontSyncProductsRemoteError",Object.setPrototypeOf(_this,StorefrontSyncProductsRemoteError.prototype),_this}return tslib_1.__extends(StorefrontSyncProductsRemoteError,_super),StorefrontSyncProductsRemoteError}(errors_1.BaseError);exports.StorefrontSyncProductsRemoteError=StorefrontSyncProductsRemoteError;var StorefrontSyncOrdersRemoteError=function(_super){function StorefrontSyncOrdersRemoteError(message,properties){void 0===message&&(message="Could not sync orders of storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontSyncOrdersRemoteError",Object.setPrototypeOf(_this,StorefrontSyncOrdersRemoteError.prototype),_this}return tslib_1.__extends(StorefrontSyncOrdersRemoteError,_super),StorefrontSyncOrdersRemoteError}(errors_1.BaseError);exports.StorefrontSyncOrdersRemoteError=StorefrontSyncOrdersRemoteError;var StorefrontSyncInventoriesRemoteError=function(_super){function StorefrontSyncInventoriesRemoteError(message,properties){void 0===message&&(message="Could not sync inventories of storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontSyncInventoriesRemoteError",Object.setPrototypeOf(_this,StorefrontSyncInventoriesRemoteError.prototype),_this}return tslib_1.__extends(StorefrontSyncInventoriesRemoteError,_super),StorefrontSyncInventoriesRemoteError}(errors_1.BaseError);exports.StorefrontSyncInventoriesRemoteError=StorefrontSyncInventoriesRemoteError;var StorefrontSetupRemoteError=function(_super){function StorefrontSetupRemoteError(message,properties){void 0===message&&(message="Could not setup storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontSetupRemoteError",Object.setPrototypeOf(_this,StorefrontSetupRemoteError.prototype),_this}return tslib_1.__extends(StorefrontSetupRemoteError,_super),StorefrontSetupRemoteError}(errors_1.BaseError);exports.StorefrontSetupRemoteError=StorefrontSetupRemoteError;var StorefrontSyncLocationsRemoteError=function(_super){function StorefrontSyncLocationsRemoteError(message,properties){void 0===message&&(message="Could not sync locations of storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontSyncLocationsRemoteError",Object.setPrototypeOf(_this,StorefrontSyncLocationsRemoteError.prototype),_this}return tslib_1.__extends(StorefrontSyncLocationsRemoteError,_super),StorefrontSyncLocationsRemoteError}(errors_1.BaseError);exports.StorefrontSyncLocationsRemoteError=StorefrontSyncLocationsRemoteError;var StorefrontSyncProductCategoriesRemoteError=function(_super){function StorefrontSyncProductCategoriesRemoteError(message,properties){void 0===message&&(message="Could not sync product categories of storefront.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="StorefrontSyncProductCategoriesRemoteError",Object.setPrototypeOf(_this,StorefrontSyncLocationsRemoteError.prototype),_this}return tslib_1.__extends(StorefrontSyncProductCategoriesRemoteError,_super),StorefrontSyncProductCategoriesRemoteError}(errors_1.BaseError);exports.StorefrontSyncProductCategoriesRemoteError=StorefrontSyncProductCategoriesRemoteError},947:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShippingMethodsFetchRemoteError=exports.ShippingMethodFetchRemoteError=exports.ShippingMethodInitializationError=exports.ShippingMethods=exports.ShippingMethod=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),ShippingMethod=function(_super){function ShippingMethod(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/shipping_methods",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(ShippingMethod,_super),ShippingMethod.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.description=rawPayload.description,this.zoneRates=rawPayload.zone_rates,this},ShippingMethod.create=function(payload,universe,http){return new ShippingMethod({rawPayload:payload,universe:universe,http:http,initialized:!0})},ShippingMethod.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,description:this.description,zone_rates:this.zoneRates}},ShippingMethod.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ShippingMethodInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},ShippingMethod}(_base_1.UniverseEntity);exports.ShippingMethod=ShippingMethod;var ShippingMethods=function(){function ShippingMethods(){}return ShippingMethods.endpoint="api/v0/shipping_methods",ShippingMethods}();exports.ShippingMethods=ShippingMethods;var ShippingMethodInitializationError=function(_super){function ShippingMethodInitializationError(message,properties){void 0===message&&(message="Could not initialize shipping_method.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ShippingMethodInitializationError",Object.setPrototypeOf(_this,ShippingMethodInitializationError.prototype),_this}return tslib_1.__extends(ShippingMethodInitializationError,_super),ShippingMethodInitializationError}(errors_1.BaseError);exports.ShippingMethodInitializationError=ShippingMethodInitializationError;var ShippingMethodFetchRemoteError=function(_super){function ShippingMethodFetchRemoteError(message,properties){void 0===message&&(message="Could not get shipping_method.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ShippingMethodFetchRemoteError",Object.setPrototypeOf(_this,ShippingMethodFetchRemoteError.prototype),_this}return tslib_1.__extends(ShippingMethodFetchRemoteError,_super),ShippingMethodFetchRemoteError}(errors_1.BaseError);exports.ShippingMethodFetchRemoteError=ShippingMethodFetchRemoteError;var ShippingMethodsFetchRemoteError=function(_super){function ShippingMethodsFetchRemoteError(message,properties){void 0===message&&(message="Could not get shipping_methods.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ShippingMethodsFetchRemoteError",Object.setPrototypeOf(_this,ShippingMethodsFetchRemoteError.prototype),_this}return tslib_1.__extends(ShippingMethodsFetchRemoteError,_super),ShippingMethodsFetchRemoteError}(errors_1.BaseError);exports.ShippingMethodsFetchRemoteError=ShippingMethodsFetchRemoteError},948:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThingsBindRemoteError=exports.ThingsFetchRemoteError=exports.ThingFetchRemoteError=exports.ThingInitializationError=exports.Things=exports.Thing=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Thing=function(_super){function Thing(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/things",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Thing,_super),Thing.prototype.deserialize=function(rawPayload){var _a,_b,_c;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.kind=rawPayload.kind,this.name=rawPayload.name,this.configuration=rawPayload.configuration,this.groups=rawPayload.groups,this.labels=rawPayload.labels,this.autoDisconnect=null!==(_c=rawPayload.auto_disconnect)&&void 0!==_c&&_c,this.lastActivityAt=rawPayload.last_activity_at?new Date(rawPayload.last_activity_at):void 0,this},Thing.create=function(payload,universe,http){return new Thing({rawPayload:payload,universe:universe,http:http,initialized:!0})},Thing.prototype.serialize=function(){var _a,_b,_c;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,kind:this.kind,name:this.name,configuration:this.configuration,groups:this.groups,labels:this.labels,auto_disconnect:null!==(_c=this.autoDisconnect)&&void 0!==_c&&_c,last_activity_at:this.lastActivityAt?this.lastActivityAt.toISOString():void 0}},Thing.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ThingInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Thing.prototype.bind=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this._bind(payload)];case 1:return[2,_a.sent()]}}))}))},Thing.prototype._bind=function(payload){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,response,err_2;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,2,,3]),opts={method:"PUT",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/bind",headers:{"Content-Type":"application/json; charset=utf-8"},data:tslib_1.__assign(tslib_1.__assign({},null!=payload?payload:this._rawPayload),{id:void 0}),responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 1:return response=_c.sent(),this.deserialize(response.data.data[0]),[2,this];case 2:throw err_2=_c.sent(),new ThingsBindRemoteError(void 0,{error:err_2});case 3:return[2]}}))}))},Thing}(_base_1.UniverseEntity);exports.Thing=Thing;var Things=function(){function Things(){}return Things.endpoint="api/v0/things",Things}();exports.Things=Things;var ThingInitializationError=function(_super){function ThingInitializationError(message,properties){void 0===message&&(message="Could not initialize thing.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ThingInitializationError",Object.setPrototypeOf(_this,ThingInitializationError.prototype),_this}return tslib_1.__extends(ThingInitializationError,_super),ThingInitializationError}(errors_1.BaseError);exports.ThingInitializationError=ThingInitializationError;var ThingFetchRemoteError=function(_super){function ThingFetchRemoteError(message,properties){void 0===message&&(message="Could not get thing.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ThingFetchRemoteError",Object.setPrototypeOf(_this,ThingFetchRemoteError.prototype),_this}return tslib_1.__extends(ThingFetchRemoteError,_super),ThingFetchRemoteError}(errors_1.BaseError);exports.ThingFetchRemoteError=ThingFetchRemoteError;var ThingsFetchRemoteError=function(_super){function ThingsFetchRemoteError(message,properties){void 0===message&&(message="Could not get things.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ThingsFetchRemoteError",Object.setPrototypeOf(_this,ThingsFetchRemoteError.prototype),_this}return tslib_1.__extends(ThingsFetchRemoteError,_super),ThingsFetchRemoteError}(errors_1.BaseError);exports.ThingsFetchRemoteError=ThingsFetchRemoteError;var ThingsBindRemoteError=function(_super){function ThingsBindRemoteError(message,properties){void 0===message&&(message="Could not bind thing unexpectedly.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ThingsBindRemoteError",Object.setPrototypeOf(_this,ThingsBindRemoteError.prototype),_this}return tslib_1.__extends(ThingsBindRemoteError,_super),ThingsBindRemoteError}(errors_1.BaseError);exports.ThingsBindRemoteError=ThingsBindRemoteError},949:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NlusSyncIntentsRemoteError=exports.NlusFetchRemoteError=exports.NluFetchRemoteError=exports.NluInitializationError=exports.Nlus=exports.Nlu=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Nlu=function(_super){function Nlu(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/nlus",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Nlu,_super),Nlu.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.description=rawPayload.description,this.botStaff=rawPayload.bot_staff,this.isProxy=rawPayload.is_proxy,this.proxyVendor=rawPayload.proxy_vendor,this.configuration=rawPayload.configuration,this.integrationConfiguration=rawPayload.integration_configuration,this.isSetUp=rawPayload.is_set_up,this.payload=rawPayload.payload,this.metadata=rawPayload.metadata,this.links=rawPayload.links,this},Nlu.create=function(payload,universe,http){return new Nlu({rawPayload:payload,universe:universe,http:http,initialized:!0})},Nlu.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,description:this.description,bot_staff:this.botStaff,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,configuration:this.configuration,integration_configuration:this.integrationConfiguration,is_set_up:this.isSetUp,payload:this.payload,metadata:this.metadata,links:this.links}},Nlu.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new NluInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Nlu.prototype.syncIntents=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_2;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),opts={method:"PUT",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/sync/intents",headers:{"Content-Type":"application/json; charset=utf-8","Content-Length":"0"},responseType:"json"},[4,null===(_a=this.http)||void 0===_a?void 0:_a.getClient()(opts)];case 1:return[2,_b.sent().status];case 2:throw err_2=_b.sent(),this.handleError(new NlusSyncIntentsRemoteError(void 0,{error:err_2}));case 3:return[2]}}))}))},Nlu}(_base_1.UniverseEntity);exports.Nlu=Nlu;var Nlus=function(){function Nlus(){}return Nlus.endpoint="api/v0/nlus",Nlus}();exports.Nlus=Nlus;var NluInitializationError=function(_super){function NluInitializationError(message,properties){void 0===message&&(message="Could not initialize nlu.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NluInitializationError",Object.setPrototypeOf(_this,NluInitializationError.prototype),_this}return tslib_1.__extends(NluInitializationError,_super),NluInitializationError}(errors_1.BaseError);exports.NluInitializationError=NluInitializationError;var NluFetchRemoteError=function(_super){function NluFetchRemoteError(message,properties){void 0===message&&(message="Could not get nlu.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NluFetchRemoteError",Object.setPrototypeOf(_this,NluFetchRemoteError.prototype),_this}return tslib_1.__extends(NluFetchRemoteError,_super),NluFetchRemoteError}(errors_1.BaseError);exports.NluFetchRemoteError=NluFetchRemoteError;var NlusFetchRemoteError=function(_super){function NlusFetchRemoteError(message,properties){void 0===message&&(message="Could not get nlus.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NlusFetchRemoteError",Object.setPrototypeOf(_this,NlusFetchRemoteError.prototype),_this}return tslib_1.__extends(NlusFetchRemoteError,_super),NlusFetchRemoteError}(errors_1.BaseError);exports.NlusFetchRemoteError=NlusFetchRemoteError;var NlusSyncIntentsRemoteError=function(_super){function NlusSyncIntentsRemoteError(message,properties){void 0===message&&(message="Could not sync intents of nlu.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NlusSyncIntentsRemoteError",Object.setPrototypeOf(_this,NlusSyncIntentsRemoteError.prototype),_this}return tslib_1.__extends(NlusSyncIntentsRemoteError,_super),NlusSyncIntentsRemoteError}(errors_1.BaseError);exports.NlusSyncIntentsRemoteError=NlusSyncIntentsRemoteError},950:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntentsFetchRemoteError=exports.IntentFetchRemoteError=exports.IntentInitializationError=exports.Intents=exports.Intent=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Intent=function(_super){function Intent(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/intents",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Intent,_super),Intent.prototype.deserialize=function(rawPayload){var _a,_b,_c;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.autoReplyEnabled=null!==(_c=rawPayload.auto_reply_enabled)&&void 0!==_c&&_c,this.name=rawPayload.name,this.description=rawPayload.description,this.botStaff=rawPayload.bot_staff,this.proxyVendor=rawPayload.proxy_vendor,this.externalReferenceId=rawPayload.external_reference_id,this.externalName=rawPayload.external_name,this.nlu=rawPayload.nlu,this.messageTemplate=rawPayload.message_template,this.logic=rawPayload.logic,this.effect=rawPayload.effect,this.payload=rawPayload.payload,this},Intent.create=function(payload,universe,http){return new Intent({rawPayload:payload,universe:universe,http:http,initialized:!0})},Intent.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,auto_reply_enabled:this.autoReplyEnabled,name:this.name,description:this.description,bot_staff:this.botStaff,proxy_vendor:this.proxyVendor,external_reference_id:this.externalReferenceId,external_name:this.externalName,nlu:this.nlu,message_template:this.messageTemplate,logic:this.logic,effect:this.effect,payload:this.payload}},Intent.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new IntentInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Intent}(_base_1.UniverseEntity);exports.Intent=Intent;var Intents=function(){function Intents(){}return Intents.endpoint="api/v0/intents",Intents}();exports.Intents=Intents;var IntentInitializationError=function(_super){function IntentInitializationError(message,properties){void 0===message&&(message="Could not initialize intent.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="IntentInitializationError",Object.setPrototypeOf(_this,IntentInitializationError.prototype),_this}return tslib_1.__extends(IntentInitializationError,_super),IntentInitializationError}(errors_1.BaseError);exports.IntentInitializationError=IntentInitializationError;var IntentFetchRemoteError=function(_super){function IntentFetchRemoteError(message,properties){void 0===message&&(message="Could not get intent.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="IntentFetchRemoteError",Object.setPrototypeOf(_this,IntentFetchRemoteError.prototype),_this}return tslib_1.__extends(IntentFetchRemoteError,_super),IntentFetchRemoteError}(errors_1.BaseError);exports.IntentFetchRemoteError=IntentFetchRemoteError;var IntentsFetchRemoteError=function(_super){function IntentsFetchRemoteError(message,properties){void 0===message&&(message="Could not get intents.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="IntentsFetchRemoteError",Object.setPrototypeOf(_this,IntentsFetchRemoteError.prototype),_this}return tslib_1.__extends(IntentsFetchRemoteError,_super),IntentsFetchRemoteError}(errors_1.BaseError);exports.IntentsFetchRemoteError=IntentsFetchRemoteError},951:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocationsFetchRemoteError=exports.LocationFetchRemoteError=exports.LocationInitializationError=exports.Locations=exports.Location=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Location=function(_super){function Location(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/locations",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Location,_super),Location.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.description=rawPayload.description,this.externalReferenceId=rawPayload.external_reference_id,this.proxyVendor=rawPayload.proxy_vendor,this.sourceType=rawPayload.source_type,this.sourceApi=rawPayload.source_api,this.hasInventory=rawPayload.has_inventory,this.useInventory=rawPayload.use_inventory,this.isDefault=rawPayload.is_default,this.canSell=rawPayload.can_sell,this.addresses=rawPayload.addresses,this},Location.create=function(payload,universe,http){return new Location({rawPayload:payload,universe:universe,http:http,initialized:!0})},Location.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,description:this.description,external_reference_id:this.externalReferenceId,proxy_vendor:this.proxyVendor,source_type:this.sourceType,source_api:this.sourceApi,has_inventory:this.hasInventory,use_inventory:this.useInventory,is_default:this.isDefault,can_sell:this.canSell,addresses:this.addresses}},Location.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new LocationInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Location}(_base_1.UniverseEntity);exports.Location=Location;var Locations=function(){function Locations(){}return Locations.endpoint="api/v0/locations",Locations}();exports.Locations=Locations;var LocationInitializationError=function(_super){function LocationInitializationError(message,properties){void 0===message&&(message="Could not initialize location.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="LocationInitializationError",Object.setPrototypeOf(_this,LocationInitializationError.prototype),_this}return tslib_1.__extends(LocationInitializationError,_super),LocationInitializationError}(errors_1.BaseError);exports.LocationInitializationError=LocationInitializationError;var LocationFetchRemoteError=function(_super){function LocationFetchRemoteError(message,properties){void 0===message&&(message="Could not get location.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="LocationFetchRemoteError",Object.setPrototypeOf(_this,LocationFetchRemoteError.prototype),_this}return tslib_1.__extends(LocationFetchRemoteError,_super),LocationFetchRemoteError}(errors_1.BaseError);exports.LocationFetchRemoteError=LocationFetchRemoteError;var LocationsFetchRemoteError=function(_super){function LocationsFetchRemoteError(message,properties){void 0===message&&(message="Could not get locations.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="LocationsFetchRemoteError",Object.setPrototypeOf(_this,LocationsFetchRemoteError.prototype),_this}return tslib_1.__extends(LocationsFetchRemoteError,_super),LocationsFetchRemoteError}(errors_1.BaseError);exports.LocationsFetchRemoteError=LocationsFetchRemoteError},952:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContactListStaticEntryDeleteRemoteError=exports.ContactListStaticEntryCreateRemoteError=exports.ContactListStaticEntriesFetchRemoteError=exports.ContactListStaticEntryFetchRemoteError=exports.ContactListStaticEntryInitializationError=exports.ContactListStaticEntry=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),contact_list_1=__webpack_require__(406),ContactListStaticEntry=function(_super){function ContactListStaticEntry(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),(null==options?void 0:options.rawPayload)&&options.rawPayload.contact_list&&(_this.endpoint=contact_list_1.ContactLists.endpoint+"/"+options.rawPayload.contact_list+"/static_entries"),_this}return tslib_1.__extends(ContactListStaticEntry,_super),ContactListStaticEntry.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.effect=rawPayload.effect,this.resource=rawPayload.resource,this.originResource=rawPayload.origin_resource,this},ContactListStaticEntry.create=function(payload,universe,http){return new ContactListStaticEntry({rawPayload:payload,universe:universe,http:http,initialized:!0})},ContactListStaticEntry.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,effect:this.effect,resource:this.resource,origin_resource:this.originResource}},ContactListStaticEntry.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new ContactListStaticEntryInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},ContactListStaticEntry.createUninitialized=function(payload,universe,http){return new ContactListStaticEntry({rawPayload:payload,universe:universe,http:http,initialized:!1})},ContactListStaticEntry}(_base_1.UniverseEntity);exports.ContactListStaticEntry=ContactListStaticEntry;var ContactListStaticEntryInitializationError=function(_super){function ContactListStaticEntryInitializationError(message,properties){void 0===message&&(message="Could not initialize contact list static_entry.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListStaticEntryInitializationError",Object.setPrototypeOf(_this,ContactListStaticEntryInitializationError.prototype),_this}return tslib_1.__extends(ContactListStaticEntryInitializationError,_super),ContactListStaticEntryInitializationError}(errors_1.BaseError);exports.ContactListStaticEntryInitializationError=ContactListStaticEntryInitializationError;var ContactListStaticEntryFetchRemoteError=function(_super){function ContactListStaticEntryFetchRemoteError(message,properties){void 0===message&&(message="Could not get contact list static_entry.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListStaticEntryFetchRemoteError",Object.setPrototypeOf(_this,ContactListStaticEntryFetchRemoteError.prototype),_this}return tslib_1.__extends(ContactListStaticEntryFetchRemoteError,_super),ContactListStaticEntryFetchRemoteError}(errors_1.BaseError);exports.ContactListStaticEntryFetchRemoteError=ContactListStaticEntryFetchRemoteError;var ContactListStaticEntriesFetchRemoteError=function(_super){function ContactListStaticEntriesFetchRemoteError(message,properties){void 0===message&&(message="Could not get contact list static_entries.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListStaticEntriesFetchRemoteError",Object.setPrototypeOf(_this,ContactListStaticEntriesFetchRemoteError.prototype),_this}return tslib_1.__extends(ContactListStaticEntriesFetchRemoteError,_super),ContactListStaticEntriesFetchRemoteError}(errors_1.BaseError);exports.ContactListStaticEntriesFetchRemoteError=ContactListStaticEntriesFetchRemoteError;var ContactListStaticEntryCreateRemoteError=function(_super){function ContactListStaticEntryCreateRemoteError(message,properties){void 0===message&&(message="Could not create contact list static entry.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListStaticEntryCreateRemoteError",Object.setPrototypeOf(_this,ContactListStaticEntryCreateRemoteError.prototype),_this}return tslib_1.__extends(ContactListStaticEntryCreateRemoteError,_super),ContactListStaticEntryCreateRemoteError}(errors_1.BaseError);exports.ContactListStaticEntryCreateRemoteError=ContactListStaticEntryCreateRemoteError;var ContactListStaticEntryDeleteRemoteError=function(_super){function ContactListStaticEntryDeleteRemoteError(message,properties){void 0===message&&(message="Could not delete contact list static entry.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="ContactListStaticEntryDeleteRemoteError",Object.setPrototypeOf(_this,ContactListStaticEntryDeleteRemoteError.prototype),_this}return tslib_1.__extends(ContactListStaticEntryDeleteRemoteError,_super),ContactListStaticEntryDeleteRemoteError}(errors_1.BaseError);exports.ContactListStaticEntryDeleteRemoteError=ContactListStaticEntryDeleteRemoteError},953:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotificationCampaignGetFeedEventsError=exports.NotificationCampaignTestError=exports.NotificationCampaignPublishError=exports.NotificationCampaignArmError=exports.NotificationCampaignPreflightError=exports.NotificationCampaignsFetchCountRemoteError=exports.NotificationCampaignsFetchRemoteError=exports.NotificationCampaignFetchRemoteError=exports.NotificationCampaignInitializationError=exports.NotificationCampaigns=exports.NotificationCampaign=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),event_1=__webpack_require__(81),qs_1=tslib_1.__importDefault(__webpack_require__(58)),feed_1=__webpack_require__(100),NotificationCampaign=function(_super){function NotificationCampaign(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/notification_campaigns",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(NotificationCampaign,_super),NotificationCampaign.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.summary=rawPayload.summary,this.isPublished=rawPayload.is_published,this.publishedAt=rawPayload.published_at,this.messageTemplate=rawPayload.message_template,this.messageTemplateParameters=rawPayload.message_template_parameters,this.includes=rawPayload.includes,this.excludes=rawPayload.excludes,this.status=rawPayload.status,this.statusses=rawPayload.statusses,this.schedule=rawPayload.schedule,this.execution=rawPayload.execution,this.author=rawPayload.author,this.publisher=rawPayload.publisher,this.isArmed=rawPayload.is_armed,this.isDraft=rawPayload.is_draft,this.analytics=rawPayload.analytics,this.messageAuthor=rawPayload.message_author,this},NotificationCampaign.create=function(payload,universe,http){return new NotificationCampaign({rawPayload:payload,universe:universe,http:http,initialized:!0})},NotificationCampaign.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,summary:this.summary,is_published:this.isPublished,published_at:this.publishedAt,message_template:this.messageTemplate,message_template_parameters:this.messageTemplateParameters,includes:this.includes,excludes:this.excludes,status:this.status,statusses:this.statusses,schedule:this.schedule,execution:this.execution,author:this.author,publisher:this.publisher,is_armed:this.isArmed,is_draft:this.isDraft,default_language:this.defaultLanguage,analytics:this.analytics,message_author:this.messageAuthor}},NotificationCampaign.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new NotificationCampaignInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},NotificationCampaign.prototype.preflightCheck=function(){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,err_2;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("campaign preflight check requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/preflight/check",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return res=_c.sent(),this.deserialize(res.data.data[0].notification_campaign),[2,this];case 3:throw err_2=_c.sent(),new NotificationCampaignPreflightError(void 0,{error:err_2});case 4:return[2]}}))}))},NotificationCampaign.prototype.preflightArm=function(){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,err_3;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("campaign preflight arm requires id to be set.");_c.label=1;case 1:return _c.trys.push([1,3,,4]),opts={method:"POST",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/preflight/arm",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return res=_c.sent(),this.deserialize(res.data.data[0].notification_campaign),[2,this];case 3:throw err_3=_c.sent(),new NotificationCampaignArmError(void 0,{error:err_3});case 4:return[2]}}))}))},NotificationCampaign.prototype.publish=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,data,err_4;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("campaign publish requires id to be set.");_a.label=1;case 1:return _a.trys.push([1,3,,4]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/publish",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,this.http.getClient()(opts)];case 2:return res=_a.sent(),data=res.data.data[0],[2,this.deserialize(data)];case 3:throw err_4=_a.sent(),new NotificationCampaignPublishError(void 0,{error:err_4});case 4:return[2]}}))}))},NotificationCampaign.prototype.test=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,data,err_5;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("campaign publish requires id to be set.");_a.label=1;case 1:return _a.trys.push([1,3,,4]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/test",headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json",data:payload},[4,this.http.getClient()(opts)];case 2:return res=_a.sent(),data=res.data.data,[2,this.deserialize(data)];case 3:throw err_5=_a.sent(),new NotificationCampaignTestError(void 0,{error:err_5});case 4:return[2]}}))}))},NotificationCampaign.prototype.getFeedEvents=function(options){var _a,_b,_c;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resources,_feed_1,err_6,_this=this;return tslib_1.__generator(this,(function(_d){switch(_d.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("notification campaign getFeedEvents requires id to be set.");_d.label=1;case 1:return _d.trys.push([1,3,,4]),opts={method:"GET",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/feed_events"+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 2:return res=_d.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:(_feed_1=feed_1.Feed.createUninitialized({id:null===(_c=null==resources?void 0:resources[0])||void 0===_c?void 0:_c.feed},this.universe,this.http,null),[2,resources.map((function(item){return event_1.Event.create(item,_feed_1,_this.universe,_this.http)}))]);case 3:throw err_6=_d.sent(),new NotificationCampaignGetFeedEventsError(void 0,{error:err_6});case 4:return[2]}}))}))},NotificationCampaign}(_base_1.UniverseEntity);exports.NotificationCampaign=NotificationCampaign;var NotificationCampaigns=function(){function NotificationCampaigns(){}return NotificationCampaigns.endpoint="api/v0/notification_campaigns",NotificationCampaigns}();exports.NotificationCampaigns=NotificationCampaigns;var NotificationCampaignInitializationError=function(_super){function NotificationCampaignInitializationError(message,properties){void 0===message&&(message="Could not initialize notification_campaign.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignInitializationError",Object.setPrototypeOf(_this,NotificationCampaignInitializationError.prototype),_this}return tslib_1.__extends(NotificationCampaignInitializationError,_super),NotificationCampaignInitializationError}(errors_1.BaseError);exports.NotificationCampaignInitializationError=NotificationCampaignInitializationError;var NotificationCampaignFetchRemoteError=function(_super){function NotificationCampaignFetchRemoteError(message,properties){void 0===message&&(message="Could not get notification_campaign.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignFetchRemoteError",Object.setPrototypeOf(_this,NotificationCampaignFetchRemoteError.prototype),_this}return tslib_1.__extends(NotificationCampaignFetchRemoteError,_super),NotificationCampaignFetchRemoteError}(errors_1.BaseError);exports.NotificationCampaignFetchRemoteError=NotificationCampaignFetchRemoteError;var NotificationCampaignsFetchRemoteError=function(_super){function NotificationCampaignsFetchRemoteError(message,properties){void 0===message&&(message="Could not get notification_campaigns.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignsFetchRemoteError",Object.setPrototypeOf(_this,NotificationCampaignsFetchRemoteError.prototype),_this}return tslib_1.__extends(NotificationCampaignsFetchRemoteError,_super),NotificationCampaignsFetchRemoteError}(errors_1.BaseError);exports.NotificationCampaignsFetchRemoteError=NotificationCampaignsFetchRemoteError;var NotificationCampaignsFetchCountRemoteError=function(_super){function NotificationCampaignsFetchCountRemoteError(message,properties){void 0===message&&(message="Could not get notification_campaigns count.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignsFetchCountRemoteError",Object.setPrototypeOf(_this,NotificationCampaignsFetchCountRemoteError.prototype),_this}return tslib_1.__extends(NotificationCampaignsFetchCountRemoteError,_super),NotificationCampaignsFetchCountRemoteError}(errors_1.BaseError);exports.NotificationCampaignsFetchCountRemoteError=NotificationCampaignsFetchCountRemoteError;var NotificationCampaignPreflightError=function(_super){function NotificationCampaignPreflightError(message,properties){void 0===message&&(message="Could not do preflight check on campaign.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignPreflightError",Object.setPrototypeOf(_this,NotificationCampaignPreflightError.prototype),_this}return tslib_1.__extends(NotificationCampaignPreflightError,_super),NotificationCampaignPreflightError}(errors_1.BaseError);exports.NotificationCampaignPreflightError=NotificationCampaignPreflightError;var NotificationCampaignArmError=function(_super){function NotificationCampaignArmError(message,properties){void 0===message&&(message="Could not preflight arm notification_campaign.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignArmError",Object.setPrototypeOf(_this,NotificationCampaignArmError.prototype),_this}return tslib_1.__extends(NotificationCampaignArmError,_super),NotificationCampaignArmError}(errors_1.BaseError);exports.NotificationCampaignArmError=NotificationCampaignArmError;var NotificationCampaignPublishError=function(_super){function NotificationCampaignPublishError(message,properties){void 0===message&&(message="Could not publish notification_campaign.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignPublishError",Object.setPrototypeOf(_this,NotificationCampaignPublishError.prototype),_this}return tslib_1.__extends(NotificationCampaignPublishError,_super),NotificationCampaignPublishError}(errors_1.BaseError);exports.NotificationCampaignPublishError=NotificationCampaignPublishError;var NotificationCampaignTestError=function(_super){function NotificationCampaignTestError(message,properties){void 0===message&&(message="Could not test notification_campaign.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignTestError",Object.setPrototypeOf(_this,NotificationCampaignTestError.prototype),_this}return tslib_1.__extends(NotificationCampaignTestError,_super),NotificationCampaignTestError}(errors_1.BaseError);exports.NotificationCampaignTestError=NotificationCampaignTestError;var NotificationCampaignGetFeedEventsError=function(_super){function NotificationCampaignGetFeedEventsError(message,properties){void 0===message&&(message="Could not get notification_campaign feed events");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="NotificationCampaignGetFeedEventsError",Object.setPrototypeOf(_this,NotificationCampaignGetFeedEventsError.prototype),_this}return tslib_1.__extends(NotificationCampaignGetFeedEventsError,_super),NotificationCampaignGetFeedEventsError}(errors_1.BaseError);exports.NotificationCampaignGetFeedEventsError=NotificationCampaignGetFeedEventsError},954:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FavoritesFetchRemoteError=exports.FavoriteFetchRemoteError=exports.FavoriteInitializationError=exports.Favorites=exports.Favorite=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),Favorite=function(_super){function Favorite(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/favorites",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(Favorite,_super),Favorite.prototype.deserialize=function(rawPayload){var _a,_b,_c;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.pages=rawPayload.pages,this.items=null!==(_c=rawPayload.items)&&void 0!==_c?_c:void 0,this},Favorite.create=function(payload,universe,http){return new Favorite({rawPayload:payload,universe:universe,http:http,initialized:!0})},Favorite.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,pages:this.pages}},Favorite.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new FavoriteInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},Favorite}(_base_1.UniverseEntity);exports.Favorite=Favorite;var Favorites=function(){function Favorites(){}return Favorites.endpoint="api/v0/favorites",Favorites}();exports.Favorites=Favorites;var FavoriteInitializationError=function(_super){function FavoriteInitializationError(message,properties){void 0===message&&(message="Could not initialize favorite.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FavoriteInitializationError",Object.setPrototypeOf(_this,FavoriteInitializationError.prototype),_this}return tslib_1.__extends(FavoriteInitializationError,_super),FavoriteInitializationError}(errors_1.BaseError);exports.FavoriteInitializationError=FavoriteInitializationError;var FavoriteFetchRemoteError=function(_super){function FavoriteFetchRemoteError(message,properties){void 0===message&&(message="Could not get favorite.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FavoriteFetchRemoteError",Object.setPrototypeOf(_this,FavoriteFetchRemoteError.prototype),_this}return tslib_1.__extends(FavoriteFetchRemoteError,_super),FavoriteFetchRemoteError}(errors_1.BaseError);exports.FavoriteFetchRemoteError=FavoriteFetchRemoteError;var FavoritesFetchRemoteError=function(_super){function FavoritesFetchRemoteError(message,properties){void 0===message&&(message="Could not get favorites.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="FavoritesFetchRemoteError",Object.setPrototypeOf(_this,FavoritesFetchRemoteError.prototype),_this}return tslib_1.__extends(FavoritesFetchRemoteError,_super),FavoritesFetchRemoteError}(errors_1.BaseError);exports.FavoritesFetchRemoteError=FavoritesFetchRemoteError},955:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KnowledgeBasesFetchRemoteError=exports.KnowledgeBaseFetchRemoteError=exports.KnowledgeBaseInitializationError=exports.KnowledgeBases=exports.KnowledgeBase=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),knowledgeBaseFaqItem=tslib_1.__importStar(__webpack_require__(407)),KnowledgeBase=function(_super){function KnowledgeBase(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/knowledge_bases",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(KnowledgeBase,_super),KnowledgeBase.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.externalReferenceId=rawPayload.external_reference_id,this.name=rawPayload.name,this.metadata=rawPayload.metadata,this.configuration=rawPayload.configuration,this.labels=rawPayload.labels,this.nlu=rawPayload.nlu,this.isProxy=rawPayload.is_proxy,this.proxyVendor=rawPayload.proxy_vendor,this.proxyPayload=rawPayload.proxy_payload,this},KnowledgeBase.create=function(payload,universe,http){return new KnowledgeBase({rawPayload:payload,universe:universe,http:http,initialized:!0})},KnowledgeBase.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,external_reference_id:this.externalReferenceId,name:this.name,metadata:this.metadata,configuration:this.configuration,labels:this.labels,nlu:this.nlu,is_proxy:this.isProxy,proxy_vendor:this.proxyVendor,proxy_payload:this.proxyPayload}},KnowledgeBase.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new KnowledgeBaseInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},KnowledgeBase.prototype.knowledgeBaseFaqItems=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(!this.id)throw new TypeError("fetching knowledge base faq items requires knowledge base id to be set");return opts=tslib_1.__assign(tslib_1.__assign({},options),{query:tslib_1.__assign(tslib_1.__assign({},null==options?void 0:options.query),{knowledge_base:this.id})}),[4,this.universe.makeBaseResourceListRequest(knowledgeBaseFaqItem.KnowledgeBaseFaqItem,knowledgeBaseFaqItem.KnowledgeBaseFaqItems,knowledgeBaseFaqItem.KnowledgeBaseFaqItemsFetchRemoteError,opts)];case 1:return[2,_a.sent()]}}))}))},KnowledgeBase}(_base_1.UniverseEntity);exports.KnowledgeBase=KnowledgeBase;var KnowledgeBases=function(){function KnowledgeBases(){}return KnowledgeBases.endpoint="api/v0/knowledge_bases",KnowledgeBases}();exports.KnowledgeBases=KnowledgeBases;var KnowledgeBaseInitializationError=function(_super){function KnowledgeBaseInitializationError(message,properties){void 0===message&&(message="Could not initialize knowledge_basis.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="KnowledgeBaseInitializationError",Object.setPrototypeOf(_this,KnowledgeBaseInitializationError.prototype),_this}return tslib_1.__extends(KnowledgeBaseInitializationError,_super),KnowledgeBaseInitializationError}(errors_1.BaseError);exports.KnowledgeBaseInitializationError=KnowledgeBaseInitializationError;var KnowledgeBaseFetchRemoteError=function(_super){function KnowledgeBaseFetchRemoteError(message,properties){void 0===message&&(message="Could not get knowledge_basis.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="KnowledgeBaseFetchRemoteError",Object.setPrototypeOf(_this,KnowledgeBaseFetchRemoteError.prototype),_this}return tslib_1.__extends(KnowledgeBaseFetchRemoteError,_super),KnowledgeBaseFetchRemoteError}(errors_1.BaseError);exports.KnowledgeBaseFetchRemoteError=KnowledgeBaseFetchRemoteError;var KnowledgeBasesFetchRemoteError=function(_super){function KnowledgeBasesFetchRemoteError(message,properties){void 0===message&&(message="Could not get knowledge_bases.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="KnowledgeBasesFetchRemoteError",Object.setPrototypeOf(_this,KnowledgeBasesFetchRemoteError.prototype),_this}return tslib_1.__extends(KnowledgeBasesFetchRemoteError,_super),KnowledgeBasesFetchRemoteError}(errors_1.BaseError);exports.KnowledgeBasesFetchRemoteError=KnowledgeBasesFetchRemoteError},956:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DealEventsFetchRemoteError=exports.DealEventFetchRemoteError=exports.DealEventInitializationError=exports.DealEvent=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),DealEvent=function(_super){function DealEvent(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,_this.endpoint="",(null==options?void 0:options.rawPayload)&&options.rawPayload.deal&&(_this.endpoint="api/v0/deals/"+options.rawPayload.deal+"/events"),(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(DealEvent,_super),DealEvent.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.type=rawPayload.type,this.resource=rawPayload.resource,this.resourceType=rawPayload.resource_type,this.deal=rawPayload.deal,this.author=rawPayload.author,this.proxyPayload=rawPayload.proxy_payload,this},DealEvent.create=function(payload,universe,http){return new DealEvent({rawPayload:payload,universe:universe,http:http,initialized:!0})},DealEvent.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,type:this.type,resource:this.resource,resource_type:this.resourceType,deal:this.deal,author:this.author,proxy_payload:this.proxyPayload}},DealEvent.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new DealEventInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},DealEvent}(_base_1.UniverseEntity);exports.DealEvent=DealEvent;var DealEventInitializationError=function(_super){function DealEventInitializationError(message,properties){void 0===message&&(message="Could not initialize deal_event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealEventInitializationError",Object.setPrototypeOf(_this,DealEventInitializationError.prototype),_this}return tslib_1.__extends(DealEventInitializationError,_super),DealEventInitializationError}(errors_1.BaseError);exports.DealEventInitializationError=DealEventInitializationError;var DealEventFetchRemoteError=function(_super){function DealEventFetchRemoteError(message,properties){void 0===message&&(message="Could not get deal_event.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealEventFetchRemoteError",Object.setPrototypeOf(_this,DealEventFetchRemoteError.prototype),_this}return tslib_1.__extends(DealEventFetchRemoteError,_super),DealEventFetchRemoteError}(errors_1.BaseError);exports.DealEventFetchRemoteError=DealEventFetchRemoteError;var DealEventsFetchRemoteError=function(_super){function DealEventsFetchRemoteError(message,properties){void 0===message&&(message="Could not get deal_events.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="DealEventsFetchRemoteError",Object.setPrototypeOf(_this,DealEventsFetchRemoteError.prototype),_this}return tslib_1.__extends(DealEventsFetchRemoteError,_super),DealEventsFetchRemoteError}(errors_1.BaseError);exports.DealEventsFetchRemoteError=DealEventsFetchRemoteError},957:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageSubscriptionsCreateInstanceRemoteError=exports.MessageSubscriptionsFetchRemoteError=exports.MessageSubscriptionFetchRemoteError=exports.MessageSubscriptionInitializationError=exports.MessageSubscriptions=exports.MessageSubscription=exports.IMessageSubscriptionKindEnum=void 0;var tslib_1=__webpack_require__(0),_base_1=__webpack_require__(4),errors_1=__webpack_require__(1),qs_1=tslib_1.__importDefault(__webpack_require__(58)),message_subscription_instance_1=__webpack_require__(408);!function(IMessageSubscriptionKindEnum){IMessageSubscriptionKindEnum.GDPRGenernalCommunicationImplicit="GDPRGeneralCommunicationImplicit",IMessageSubscriptionKindEnum.GDPRGenernalCommunicationExplicit="GDPRGeneralCommunicationExplicit",IMessageSubscriptionKindEnum.OneTimeEventImplicit="OneTimeEventImplicit",IMessageSubscriptionKindEnum.OneTimeEventExplicit="OneTimeEventExplicit",IMessageSubscriptionKindEnum.Generic="Generic"}(exports.IMessageSubscriptionKindEnum||(exports.IMessageSubscriptionKindEnum={}));var MessageSubscription=function(_super){function MessageSubscription(options){var _a,_this=_super.call(this)||this;return _this.universe=options.universe,_this.apiCarrier=options.universe,_this.endpoint="api/v0/message_subscriptions",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(MessageSubscription,_super),MessageSubscription.prototype.deserialize=function(rawPayload){var _a,_b;return this.setRawPayload(rawPayload),this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this.summary=rawPayload.summary,this.description=rawPayload.description,this.kind=rawPayload.kind,this.scope=rawPayload.scope,this.messageTemplates=rawPayload.message_templates,this.eventRouteTemplate=rawPayload.event_route_template,this},MessageSubscription.create=function(payload,universe,http){return new MessageSubscription({rawPayload:payload,universe:universe,http:http,initialized:!0})},MessageSubscription.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name,summary:this.summary,description:this.description,kind:this.kind,scope:this.scope,message_templates:this.messageTemplates,event_route_template:this.eventRouteTemplate}},MessageSubscription.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new MessageSubscriptionInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},MessageSubscription.prototype.subscribers=function(options){var _a,_b;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resources,err_2,_this=this;return tslib_1.__generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,2,,3]),opts={method:"GET",url:(null===(_a=this.universe)||void 0===_a?void 0:_a.universeBase)+"/"+this.endpoint+"/"+this.id+"/instances"+((null==options?void 0:options.query)?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),headers:{"Content-Type":"application/json; charset=utf-8"},responseType:"json"},[4,null===(_b=this.http)||void 0===_b?void 0:_b.getClient()(opts)];case 1:return res=_c.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(item){return message_subscription_instance_1.MessageSubscriptionInstance.create(item,_this.universe,_this.http)}))];case 2:throw err_2=_c.sent(),this.handleError(new message_subscription_instance_1.MessageSubscriptionInstanceGetAllRemoteError(void 0,{error:err_2}));case 3:return[2]}}))}))},MessageSubscription.prototype.createInstance=function(payload){return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,res,resource,err_3;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:if(null===this.id||void 0===this.id)throw new TypeError("MessageSubscription create instance requires message subscription id to be set");_a.label=1;case 1:return _a.trys.push([1,3,,4]),opts={method:"POST",url:this.universe.universeBase+"/"+this.endpoint+"/"+this.id+"/instances",data:payload},[4,this.http.getClient()(opts)];case 2:return res=_a.sent(),resource=res.data.data,[2,message_subscription_instance_1.MessageSubscriptionInstance.create(resource,this.universe,this.http)];case 3:throw err_3=_a.sent(),new MessageSubscriptionsCreateInstanceRemoteError(void 0,{error:err_3});case 4:return[2]}}))}))},MessageSubscription}(_base_1.UniverseEntity);exports.MessageSubscription=MessageSubscription;var MessageSubscriptions=function(){function MessageSubscriptions(){}return MessageSubscriptions.endpoint="api/v0/message_subscriptions",MessageSubscriptions}();exports.MessageSubscriptions=MessageSubscriptions;var MessageSubscriptionInitializationError=function(_super){function MessageSubscriptionInitializationError(message,properties){void 0===message&&(message="Could not initialize message_subscription.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionInitializationError",Object.setPrototypeOf(_this,MessageSubscriptionInitializationError.prototype),_this}return tslib_1.__extends(MessageSubscriptionInitializationError,_super),MessageSubscriptionInitializationError}(errors_1.BaseError);exports.MessageSubscriptionInitializationError=MessageSubscriptionInitializationError;var MessageSubscriptionFetchRemoteError=function(_super){function MessageSubscriptionFetchRemoteError(message,properties){void 0===message&&(message="Could not get message_subscription.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionFetchRemoteError",Object.setPrototypeOf(_this,MessageSubscriptionFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageSubscriptionFetchRemoteError,_super),MessageSubscriptionFetchRemoteError}(errors_1.BaseError);exports.MessageSubscriptionFetchRemoteError=MessageSubscriptionFetchRemoteError;var MessageSubscriptionsFetchRemoteError=function(_super){function MessageSubscriptionsFetchRemoteError(message,properties){void 0===message&&(message="Could not get message_subscriptions.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionsFetchRemoteError",Object.setPrototypeOf(_this,MessageSubscriptionsFetchRemoteError.prototype),_this}return tslib_1.__extends(MessageSubscriptionsFetchRemoteError,_super),MessageSubscriptionsFetchRemoteError}(errors_1.BaseError);exports.MessageSubscriptionsFetchRemoteError=MessageSubscriptionsFetchRemoteError;var MessageSubscriptionsCreateInstanceRemoteError=function(_super){function MessageSubscriptionsCreateInstanceRemoteError(message,properties){void 0===message&&(message="Could not create message_subscription instance");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="MessageSubscriptionsCreateInstanceRemoteError",Object.setPrototypeOf(_this,MessageSubscriptionsCreateInstanceRemoteError.prototype),_this}return tslib_1.__extends(MessageSubscriptionsCreateInstanceRemoteError,_super),MessageSubscriptionsCreateInstanceRemoteError}(errors_1.BaseError);exports.MessageSubscriptionsCreateInstanceRemoteError=MessageSubscriptionsCreateInstanceRemoteError},958:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloudHealthzError=exports.CloudSelfError=exports.CloudVersionsError=exports.CloudApiRequestError=exports.CloudInitializationError=exports.CloudSingleton=exports.Cloud=exports.CloudMeError=exports.CloudUnauthenticatedError=void 0;var tslib_1=__webpack_require__(0),qs_1=tslib_1.__importDefault(__webpack_require__(58)),status_1=__webpack_require__(959),base_1=__webpack_require__(346),errors_1=__webpack_require__(1),universe=tslib_1.__importStar(__webpack_require__(960)),CloudUnauthenticatedError=function(_super){function CloudUnauthenticatedError(message,properties){void 0===message&&(message="Invalid or expired session.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudUnauthenticatedError",Object.setPrototypeOf(_this,CloudUnauthenticatedError.prototype),_this}return tslib_1.__extends(CloudUnauthenticatedError,_super),CloudUnauthenticatedError}(errors_1.BaseError);exports.CloudUnauthenticatedError=CloudUnauthenticatedError;var CloudMeError=function(_super){function CloudMeError(message,properties){void 0===message&&(message="Unexptected error fetching me data");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudMeError",Object.setPrototypeOf(_this,CloudMeError.prototype),_this}return tslib_1.__extends(CloudMeError,_super),CloudMeError}(errors_1.BaseError);exports.CloudMeError=CloudMeError;var Cloud=function(_super){function Cloud(options){var _a,_b,_this=_super.call(this,{injectables:{base:null!==(_a=options.cloudBase)&&void 0!==_a?_a:"https://staging-3.hello-charles.com"}})||this;return _this.initialized=!1,_this.mqtt=null,_this.options=options,_this.user=options.user,_this.cloudBase=null!==(_b=options.cloudBase)&&void 0!==_b?_b:"https://staging-3.hello-charles.com",_this.status=new status_1.CloudStatus({universe:_this}),_this.health=new status_1.CloudHealth({universe:_this}),_this.http=options.http,_this}return tslib_1.__extends(Cloud,_super),Cloud.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.http.getClient().get(this.cloudBase+"/"+Cloud.endpoint+"/self")];case 1:return res=_a.sent(),this.setInitialized(res.data.data[0]),[2,this];case 2:throw err_1=_a.sent(),new CloudInitializationError(void 0,{error:err_1});case 3:return[2]}}))}))},Object.defineProperty(Cloud,"errors",{get:function(){return{CloudUnauthenticatedError:CloudUnauthenticatedError,CloudMeError:CloudMeError}},enumerable:!1,configurable:!0}),Object.defineProperty(Cloud.prototype,"errors",{get:function(){return Cloud.errors},enumerable:!1,configurable:!0}),Cloud.prototype.setInitialized=function(payload){return this.initialized=!0,this},Cloud.prototype.deinitialize=function(){this.removeAllListeners()},Object.defineProperty(Cloud.prototype,"ready",{get:function(){return!1},enumerable:!1,configurable:!0}),Cloud.prototype.isReady=function(){return!1},Object.defineProperty(Cloud.prototype,"connected",{get:function(){return!1},enumerable:!1,configurable:!0}),Cloud.prototype.isConnected=function(){return!1},Cloud.prototype.handleError=function(err){this.listeners("error").length>0&&this.emit("error",err)},Cloud.prototype.baseResourceFactory=function(proto,payload){return proto.create(payload,this,this.http)},Cloud.prototype.universe=function(payload){return universe.CloudUniverse.create(payload,this,this.http)},Cloud.prototype.apiRequest=function(options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var opts,err_2;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:opts={method:options.method,path:""+options.path+(options.query?qs_1.default.stringify(options.query,{addQueryPrefix:!0}):""),data:null!==(_a=options.data)&&void 0!==_a?_a:void 0},_b.label=1;case 1:return _b.trys.push([1,3,,4]),[4,this.http.getClient()(opts)];case 2:return[2,_b.sent().data.data];case 3:throw err_2=_b.sent(),new CloudApiRequestError(void 0,{error:err_2});case 4:return[2]}}))}))},Cloud.prototype.setCachedMeData=function(data){return this._cachedMeData=data?Object.assign({},data):void 0,this},Object.defineProperty(Cloud.prototype,"authData",{get:function(){return{me:this._cachedMeData}},enumerable:!1,configurable:!0}),Cloud.prototype.makeBaseResourceListRequest=function(proto,listProto,errorProto,options){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,resources,err_3,_this=this;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.cloudBase+"/"+listProto.endpoint,{params:tslib_1.__assign({},null!==(_a=null==options?void 0:options.query)&&void 0!==_a?_a:{})})];case 1:return res=_b.sent(),resources=res.data.data,options&&!0===options.raw?[2,resources]:[2,resources.map((function(resource){return proto.create(resource,_this,_this.http)}))];case 2:throw err_3=_b.sent(),new errorProto(void 0,{error:err_3});case 3:return[2]}}))}))},Cloud.prototype.universes=function(options){return tslib_1.__awaiter(this,void 0,void 0,(function(){return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return[4,this.makeBaseResourceListRequest(universe.CloudUniverse,universe.CloudUniverses,universe.CloudUniversesFetchRemoteError,options)];case 1:return[2,_a.sent()]}}))}))},Cloud.prototype.versions=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_4;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.cloudBase+"/api/versions")];case 1:return res=_b.sent(),[2,{multiverse:null===(_a=res.data)||void 0===_a?void 0:_a.multiverse}];case 2:throw err_4=_b.sent(),new CloudVersionsError(void 0,{error:err_4});case 3:return[2]}}))}))},Cloud.prototype.healthz=function(){var _a;return tslib_1.__awaiter(this,void 0,void 0,(function(){var res,err_5;return tslib_1.__generator(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.http.getClient().get(this.cloudBase+"/api/healthz")];case 1:return res=_b.sent(),[2,{message:null===(_a=res.data)||void 0===_a?void 0:_a.msg}];case 2:throw err_5=_b.sent(),new CloudHealthzError(void 0,{error:err_5});case 3:return[2]}}))}))},Cloud.endpoint="api/v0",Cloud}(base_1.APICarrier);exports.Cloud=Cloud;var CloudSingleton=function(_super){function CloudSingleton(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(CloudSingleton,_super),CloudSingleton.getInstance=function(options){return CloudSingleton.instance||(CloudSingleton.instance=new CloudSingleton(options)),CloudSingleton.instance},CloudSingleton.clearInstance=function(){CloudSingleton.instance.deinitialize()},CloudSingleton}(Cloud);exports.CloudSingleton=CloudSingleton;var CloudInitializationError=function(_super){function CloudInitializationError(message,properties){void 0===message&&(message="Could not initialize cloud.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudInitializationError",_this}return tslib_1.__extends(CloudInitializationError,_super),CloudInitializationError}(errors_1.BaseError);exports.CloudInitializationError=CloudInitializationError;var CloudApiRequestError=function(_super){function CloudApiRequestError(message,properties){void 0===message&&(message="Unexptected error making api request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudApiRequestError",Object.setPrototypeOf(_this,CloudApiRequestError.prototype),_this}return tslib_1.__extends(CloudApiRequestError,_super),CloudApiRequestError}(errors_1.BaseError);exports.CloudApiRequestError=CloudApiRequestError;var CloudVersionsError=function(_super){function CloudVersionsError(message,properties){void 0===message&&(message="Unexptected response making versions request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudVersionsError",Object.setPrototypeOf(_this,CloudVersionsError.prototype),_this}return tslib_1.__extends(CloudVersionsError,_super),CloudVersionsError}(errors_1.BaseError);exports.CloudVersionsError=CloudVersionsError;var CloudSelfError=function(_super){function CloudSelfError(message,properties){void 0===message&&(message="Unexptected response making self request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudSelfError",Object.setPrototypeOf(_this,CloudSelfError.prototype),_this}return tslib_1.__extends(CloudSelfError,_super),CloudSelfError}(errors_1.BaseError);exports.CloudSelfError=CloudSelfError;var CloudHealthzError=function(_super){function CloudHealthzError(message,properties){void 0===message&&(message="Unexptected response making health request.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudHealthzError",Object.setPrototypeOf(_this,CloudHealthzError.prototype),_this}return tslib_1.__extends(CloudHealthzError,_super),CloudHealthzError}(errors_1.BaseError);exports.CloudHealthzError=CloudHealthzError},959:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloudStatus=exports.CloudHealth=void 0;var tslib_1=__webpack_require__(0),events_1=__webpack_require__(22),CloudHealth=function(_super){function CloudHealth(opts){var _this=_super.call(this)||this;return _this.options=opts,_this.universe=_this.options.universe,_this}return tslib_1.__extends(CloudHealth,_super),CloudHealth}(events_1.EventEmitter);exports.CloudHealth=CloudHealth;var CloudStatus=function(_super){function CloudStatus(opts){var _this=_super.call(this)||this;return _this.options=opts,_this.universe=_this.options.universe,_this}return tslib_1.__extends(CloudStatus,_super),CloudStatus}(events_1.EventEmitter);exports.CloudStatus=CloudStatus},960:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloudUniversesFetchRemoteError=exports.CloudUniverses=exports.CloudUniverse=void 0;var universe_1=__webpack_require__(961);Object.defineProperty(exports,"CloudUniverse",{enumerable:!0,get:function(){return universe_1.CloudUniverse}}),Object.defineProperty(exports,"CloudUniverses",{enumerable:!0,get:function(){return universe_1.CloudUniverses}}),Object.defineProperty(exports,"CloudUniversesFetchRemoteError",{enumerable:!0,get:function(){return universe_1.CloudUniversesFetchRemoteError}})},961:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CloudUniversesFetchRemoteError=exports.CloudUniverseFetchRemoteError=exports.CloudUniverseInitializationError=exports.CloudUniverses=exports.CloudUniverse=void 0;var tslib_1=__webpack_require__(0),_base_1=tslib_1.__importDefault(__webpack_require__(4)),errors_1=__webpack_require__(1),CloudUniverse=function(_super){function CloudUniverse(options){var _a,_this=_super.call(this)||this;return _this.apiCarrier=options.carrier,_this.endpoint="api/v0/universes",_this.http=options.http,_this.options=options,_this.initialized=null!==(_a=options.initialized)&&void 0!==_a&&_a,(null==options?void 0:options.rawPayload)&&_this.deserialize(options.rawPayload),_this}return tslib_1.__extends(CloudUniverse,_super),CloudUniverse.prototype.deserialize=function(rawPayload){var _a,_b;return this.id=rawPayload.id,this.createdAt=rawPayload.created_at?new Date(rawPayload.created_at):void 0,this.updatedAt=rawPayload.updated_at?new Date(rawPayload.updated_at):void 0,this.deleted=null!==(_a=rawPayload.deleted)&&void 0!==_a&&_a,this.active=null===(_b=rawPayload.active)||void 0===_b||_b,this.name=rawPayload.name,this},CloudUniverse.create=function(payload,carrier,http){return new CloudUniverse({rawPayload:payload,carrier:carrier,http:http,initialized:!0})},CloudUniverse.prototype.serialize=function(){var _a,_b;return{id:this.id,created_at:this.createdAt?this.createdAt.toISOString():void 0,updated_at:this.updatedAt?this.updatedAt.toISOString():void 0,deleted:null!==(_a=this.deleted)&&void 0!==_a&&_a,active:null===(_b=this.active)||void 0===_b||_b,name:this.name}},CloudUniverse.prototype.init=function(){return tslib_1.__awaiter(this,void 0,void 0,(function(){var err_1;return tslib_1.__generator(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.fetch()];case 1:return _a.sent(),[2,this];case 2:throw err_1=_a.sent(),this.handleError(new CloudUniverseInitializationError(void 0,{error:err_1}));case 3:return[2]}}))}))},CloudUniverse}(_base_1.default);exports.CloudUniverse=CloudUniverse;var CloudUniverses=function(){function CloudUniverses(){}return CloudUniverses.endpoint="api/v0/universes",CloudUniverses}();exports.CloudUniverses=CloudUniverses;var CloudUniverseInitializationError=function(_super){function CloudUniverseInitializationError(message,properties){void 0===message&&(message="Could not initialize CloudUniverse.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudUniverseInitializationError",_this}return tslib_1.__extends(CloudUniverseInitializationError,_super),CloudUniverseInitializationError}(errors_1.BaseError);exports.CloudUniverseInitializationError=CloudUniverseInitializationError;var CloudUniverseFetchRemoteError=function(_super){function CloudUniverseFetchRemoteError(message,properties){void 0===message&&(message="Could not get CloudUniverse.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudUniverseFetchRemoteError",_this}return tslib_1.__extends(CloudUniverseFetchRemoteError,_super),CloudUniverseFetchRemoteError}(errors_1.BaseError);exports.CloudUniverseFetchRemoteError=CloudUniverseFetchRemoteError;var CloudUniversesFetchRemoteError=function(_super){function CloudUniversesFetchRemoteError(message,properties){void 0===message&&(message="Could not get CloudUniverses.");var _this=_super.call(this,message,properties)||this;return _this.message=message,_this.name="CloudUniversesFetchRemoteError",_this}return tslib_1.__extends(CloudUniversesFetchRemoteError,_super),CloudUniversesFetchRemoteError}(errors_1.BaseError);exports.CloudUniversesFetchRemoteError=CloudUniversesFetchRemoteError},964:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AuthAndInitialization",(function(){return AuthAndInitialization})),__webpack_require__.d(__webpack_exports__,"InitializationAndDefaultSubscriptions",(function(){return InitializationAndDefaultSubscriptions})),__webpack_require__.d(__webpack_exports__,"InitializationAndDefaultSubscriptionsAndReply",(function(){return InitializationAndDefaultSubscriptionsAndReply})),__webpack_require__.d(__webpack_exports__,"FetchEntities",(function(){return FetchEntities})),__webpack_require__.d(__webpack_exports__,"Searches",(function(){return Searches}));__webpack_require__(14),__webpack_require__(63),__webpack_require__(29),__webpack_require__(33),__webpack_require__(19),__webpack_require__(130),__webpack_require__(64),__webpack_require__(32);var _home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),___WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7),___WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(___WEBPACK_IMPORTED_MODULE_9__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(3),vue_prism_editor__WEBPACK_IMPORTED_MODULE_14__=(__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(23)),vue_prism_editor__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(vue_prism_editor__WEBPACK_IMPORTED_MODULE_14__),_init__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(13);__webpack_exports__.default={title:"Universes",component:_init__WEBPACK_IMPORTED_MODULE_15__.a,parameters:{notes:"Your base action will be interacting with a universe. A universe is a system and namespace that is itself a URL that provides agent UIs and many more."}};var AuthAndInitialization=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_15__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_14___default.a},template:'\n    <div>\n      <p>\n        Make an auth call and retrieve an access token\n      </p>\n\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n    </div>\n  ',methods:{authAction:function authAction(){var _action;(_action=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-attempt")).call.apply(_action,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action2;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action2=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-sucess")).call.apply(_action2,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee(){var universe;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return ___WEBPACK_IMPORTED_MODULE_9___default.a.init({credentials:{accessToken:_this.token}}),universe=___WEBPACK_IMPORTED_MODULE_9___default.a.universe(_this.universeName,{base:_this.apiBase}),_context.next=4,universe.init();case 4:_this.localUniversePayload=universe.payload;case 5:case"end":return _context.stop()}}),_callee)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n").concat(this.universePayload,"\n      ")}}}},InitializationAndDefaultSubscriptions=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_15__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_14___default.a},template:'\n    <div>\n      <p>\n        Make an auth call and retrieve an access token\n      </p>\n\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n      <div v-for="(message, index) in messages" :key="index">\n        <pre v-text="JSON.stringify(message.message.serialize(), undefined, 2)">\n        </pre>\n      </div>\n    </div>\n  ',methods:{authAction:function authAction(){var _action3;(_action3=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-attempt")).call.apply(_action3,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action4;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action4=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-sucess")).call.apply(_action4,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this2=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee2(){var universe;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return ___WEBPACK_IMPORTED_MODULE_9___default.a.init({credentials:{accessToken:_this2.token},withCredentials:!0}),(universe=___WEBPACK_IMPORTED_MODULE_9___default.a.universe(_this2.universeName,{base:_this2.apiBase})).on("universe:message",(function(msg){_this2.messages.push(msg),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("message").call(_this2,msg)})),_context2.next=5,universe.init();case 5:_this2.localUniversePayload=universe.payload;case 6:case"end":return _context2.stop()}}),_callee2)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,messages:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n").concat(this.universePayload,"\n\n\nuniverse.on('universe:message', (msg) => {\n  console.log(msg)\n})\n      ")}}}},InitializationAndDefaultSubscriptionsAndReply=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_15__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_14___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n      <div v-for="(message, index) in messages" :key="index">\n        <p v-text="message.message.content.body">\n        </p>\n        <input placeholder="Reply Content" v-model="replyContent[index]" />\n        <button @click="handleReply(message.message, replyContent[index])">\n          Reply\n        </button>\n      </div>\n    </div>\n  ',methods:{authAction:function authAction(){var _action5;(_action5=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-attempt")).call.apply(_action5,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action6;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action6=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-sucess")).call.apply(_action6,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this3=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee3(){var universe;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return ___WEBPACK_IMPORTED_MODULE_9___default.a.init({credentials:{accessToken:_this3.token},withCredentials:!0}),(universe=___WEBPACK_IMPORTED_MODULE_9___default.a.universe(_this3.universeName,{base:_this3.apiBase})).on("universe:message",(function(msg){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("message").call(_this3,msg)})),universe.on("universe:feeds:messages",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("feeds:messages").call(_this3,p)})),universe.on("universe:feeds",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("feeds").call(_this3,p)})),_context3.next=7,universe.init();case 7:_this3.localUniversePayload=universe.payload;case 8:case"end":return _context3.stop()}}),_callee3)})))()},handleReply:function handleReply(message,content){return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee4(){var reply;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return reply=message.reply({content:{body:content}}),_context4.next=3,reply.send();case 3:case"end":return _context4.stop()}}),_callee4)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,messages:[],replyContent:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nuniverse.on('universe:message', (event) => {\n  event.message\n    .reply({ content: { body: '").concat(this.replyContent[0]?this.replyContent[0]:"","' } })\n    .send()\n    .then(() => {}).catch((err) => {})\n})\n      ")}}}},FetchEntities=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_15__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_14___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n\n      <div style="display: flex; flex-wrap: wrap;">\n        <div style="width: 30%; max-height: 300px; overflow: scroll;">\n          <h2>\n            Feeds\n          </h2>\n          <div v-for="(feed, index) in feeds" :key="index">\n            <p v-text="JSON.stringify(feed.serialize(), undefined, 2)" style="white-space: pre-wrap;">\n            </p>\n          </div>\n        </div>\n        <div style="width: 30%; max-height: 300px; overflow: scroll;">\n          <h2>\n            Assets\n          </h2>\n          <div v-for="(asset, index) in assets" :key="index">\n            <p v-text="JSON.stringify(asset.serialize(), undefined, 2)" style="white-space: pre-wrap;">\n            </p>\n          </div>\n        </div>\n        <div style="width: 30%; max-height: 300px; overflow: scroll;">\n          <h2>\n            Staff\n          </h2>\n          <div v-for="(staff, index) in staffs" :key="index">\n            <p v-text="JSON.stringify(staff.serialize(), undefined, 2)" style="white-space: pre-wrap;">\n            </p>\n          </div>\n        </div>\n        <div style="width: 30%; max-height: 300px; overflow: scroll;">\n          <h2>\n            People\n          </h2>\n          <div v-for="(person, index) in people" :key="index">\n            <p v-text="JSON.stringify(person.serialize(), undefined, 2)" style="white-space: pre-wrap;">\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  ',methods:{authAction:function authAction(){var _action7;(_action7=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-attempt")).call.apply(_action7,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action8;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action8=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-sucess")).call.apply(_action8,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this4=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee5(){var universe;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return ___WEBPACK_IMPORTED_MODULE_9___default.a.init({credentials:{accessToken:_this4.token},withCredentials:!0}),(universe=___WEBPACK_IMPORTED_MODULE_9___default.a.universe(_this4.universeName,{base:_this4.apiBase})).on("universe:message",(function(msg){_this4.messages.push(msg),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("message").call(_this4,msg)})),universe.on("universe:feeds:messages",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("feeds:messages").call(_this4,p)})),universe.on("universe:feeds",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("feeds").call(_this4,p)})),_context5.next=7,universe.init();case 7:return _context5.next=9,universe.feeds();case 9:return _this4.feeds=_context5.sent,_context5.next=12,universe.assets();case 12:return _this4.assets=_context5.sent,_context5.next=15,universe.staffs();case 15:return _this4.staffs=_context5.sent,_context5.next=18,universe.people();case 18:_this4.people=_context5.sent,_this4.localUniversePayload=universe.payload;case 20:case"end":return _context5.stop()}}),_callee5)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,messages:[],replyContent:[],feeds:[],assets:[],people:[],staffs:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nawait universe.staff()\nawait universe.assets()\nawait universe.feeds()\nawait universe.people()\n      ")}}}},Searches=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_15__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_14___default.a},template:'\n    <div>\n      <p>\n        Make an auth call and retrieve an access token\n      </p>\n\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n\n      <div style="display: flex; width: 100%; justify-items: space-between;">\n        <div style="width: 50%; overflow-x: hidden;">\n          <input placeholder="People Search" v-model="peopleSearchInput" />\n          <button @click="handlePeopleSearch">\n            Execute Search\n          </button>\n\n          <div v-for="(item, index) in (peopleSearchResult || [])" :key="index">\n            <p v-text="JSON.stringify(item, undefined, 2)" style="white-space: pre-wrap;">\n            </p>\n          </div>\n        </div>\n        <div style="width: 50%; overflow-x: hidden;">\n          <input placeholder="Feed Search" v-model="feedsSearchInput" />\n          <button @click="handleFeedSearch">\n            Execute Search\n          </button>\n\n          <div v-for="(item, index) in (feedSearchResult || [])" :key="index">\n            <p v-text="JSON.stringify(item, undefined, 2)" style="white-space: pre-wrap;">\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  ',methods:{authAction:function authAction(){var _action9;(_action9=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-attempt")).call.apply(_action9,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action10;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action10=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_10__.action)("auth-sucess")).call.apply(_action10,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this5=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee6(){var universe;return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return ___WEBPACK_IMPORTED_MODULE_9___default.a.init({credentials:{accessToken:_this5.token},withCredentials:!0}),universe=_this5.universe=___WEBPACK_IMPORTED_MODULE_9___default.a.universe(_this5.universeName,{base:_this5.apiBase}),_context6.next=4,universe.init();case 4:_this5.localUniversePayload=universe.payload;case 5:case"end":return _context6.stop()}}),_callee6)})))()},handlePeopleSearch:function handlePeopleSearch(){var _this6=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee7(){var result;return regeneratorRuntime.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,_this6.universe.search.people(_this6.peopleSearchInput);case 2:result=_context7.sent,_this6.peopleSearchResult=result;case 4:case"end":return _context7.stop()}}),_callee7)})))()},handleFeedSearch:function handleFeedSearch(){var _this7=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_8__.a)(regeneratorRuntime.mark((function _callee8(){var result;return regeneratorRuntime.wrap((function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,_this7.universe.search.feeds(_this7.feedsSearchInput);case 2:result=_context8.sent,_this7.feedSearchResult=result;case 4:case"end":return _context8.stop()}}),_callee8)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,peopleSearchInput:null,feedsSearchInput:null,peopleSearchResult:null,feedSearchResult:null}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nawait universe.search.people('").concat(this.peopleSearchInput||"","')\nawait universe.search.feeds('").concat(this.feedsSearchInput||"","')\n      ")}}}}},965:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ListFeeds",(function(){return ListFeeds})),__webpack_require__.d(__webpack_exports__,"StreamFeeds",(function(){return StreamFeeds})),__webpack_require__.d(__webpack_exports__,"SelectFeedAndInitialise",(function(){return SelectFeedAndInitialise}));__webpack_require__(14),__webpack_require__(63),__webpack_require__(29),__webpack_require__(33),__webpack_require__(216),__webpack_require__(411),__webpack_require__(19),__webpack_require__(64),__webpack_require__(32);var _home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),___WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7),___WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(___WEBPACK_IMPORTED_MODULE_10__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3),vue_prism_editor__WEBPACK_IMPORTED_MODULE_15__=(__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(23)),vue_prism_editor__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(vue_prism_editor__WEBPACK_IMPORTED_MODULE_15__),_init__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(13);__webpack_exports__.default={title:"Feeds",component:_init__WEBPACK_IMPORTED_MODULE_16__.a,parameters:{notes:"Your base action will be interacting with a universe. A universe is a system and namespace that is itself a URL that provides agent UIs and many more."}};var ListFeeds=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_16__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_15___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n    </div>\n  ',methods:{authAction:function authAction(){var _action;(_action=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("auth-attempt")).call.apply(_action,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action2;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action2=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("auth-sucess")).call.apply(_action2,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee(){var universe;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return ___WEBPACK_IMPORTED_MODULE_10___default.a.init({credentials:{accessToken:_this.token}}),(universe=___WEBPACK_IMPORTED_MODULE_10___default.a.universe(_this.universeName,{base:_this.apiBase})).on("universe:message",(function(msg){_this.messages.push(msg),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("message").call(_this,msg)})),universe.on("universe:feeds:messages",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("feeds:messages").call(_this,p)})),universe.on("universe:feeds",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("feeds").call(_this,p)})),_context.next=7,universe.init();case 7:return _context.next=9,universe.feeds.fetch();case 9:_this.localFeeds=_context.sent;case 10:case"end":return _context.stop()}}),_callee)})))()},handleReply:function handleReply(message,content){return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee2(){var reply;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return reply=message.reply({content:{body:content}}),_context2.next=3,reply.send();case 3:case"end":return _context2.stop()}}),_callee2)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,localFeeds:[],replyContent:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},feedsPayload:function feedsPayload(){if(!this.localFeeds||!this.localFeeds.length)return"";var list=this.localFeeds.map((function(item){return item.serialize()}));return JSON.stringify(list,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n")},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nconst feeds = await universe.feeds.fetch()\n\n").concat(this.feedsPayload,"\n      ")}}}},StreamFeeds=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_16__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_15___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n    </div>\n  ',methods:{authAction:function authAction(){var _action3;(_action3=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("auth-attempt")).call.apply(_action3,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action4;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action4=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("auth-sucess")).call.apply(_action4,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this2=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee3(){var universe,stream,fn;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return ___WEBPACK_IMPORTED_MODULE_10___default.a.init({credentials:{accessToken:_this2.token}}),(universe=___WEBPACK_IMPORTED_MODULE_10___default.a.universe(_this2.universeName,{base:_this2.apiBase})).on("universe:message",(function(msg){_this2.messages.push(msg),Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("message").call(_this2,msg)})),universe.on("universe:feeds:messages",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("feeds:messages").call(_this2,p)})),universe.on("universe:feeds",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("feeds").call(_this2,p)})),_context3.next=7,universe.init();case 7:return _context3.next=9,universe.feeds.stream();case 9:stream=_context3.sent,_this2.localFeeds=[],fn=function(feed){_this2.localFeeds.push(feed)},stream.on("data",fn),stream.on("end",(function(){console.log("========================="),console.log("end"),console.log("=========================")}));case 14:case"end":return _context3.stop()}}),_callee3)})))()},handleReply:function handleReply(message,content){return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee4(){var reply;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return reply=message.reply({content:{body:content}}),_context4.next=3,reply.send();case 3:case"end":return _context4.stop()}}),_callee4)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,localFeeds:[],replyContent:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},feedsPayload:function feedsPayload(){if(!this.localFeeds||!this.localFeeds.length)return"";var list=this.localFeeds.map((function(item){return item.serialize()}));return JSON.stringify(list,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n")},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nconst stream = await universe.feeds.stream()\n\nstream.on('data', (feed) => {\n  feeds.push(feed)\n})\nstream.on('end', () => {\n  console.log('end')\n})\n\n").concat(this.feedsPayload,"\n      ")}}}},SelectFeedAndInitialise=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_16__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_15___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n\n      <div>\n        <div>\n          <span>Selected Feed</span>\n          <span> {{ selectedFeed ? selectedFeed.id : \'-\' }} </span>\n        </div>\n      </div>\n\n      <br>\n\n      <div v-if="!selectedFeed">\n        <h2>\n          Before Feed Init\n        </h2>\n        <div v-for="(feed, index) in localFeeds">\n          <span v-text="feed.id" />\n          <button @click="handleFeedSelect(index)">\n            Select\n          </button>\n        </div>\n      </div>\n      <div v-else>\n        <h2>\n          Feed Data\n        </h2>\n\n\n        <div>\n          <h3>\n            Replayable\n          </h3>\n          <input placeholder="Reply Content" v-model="replyContent" />\n          <input placeholder="URI attachment" v-model="uriAttachment" />\n          <input type="file" id="files" name="files" multiple @change="filesChange($event.target.files)" />\n          <button @click="handleReply(selectedFeed, replyContent)">\n            Reply\n          </button>\n          <h3>\n            Latest Events\n          </h3>\n          <button @click="handleLatestEvents(selectedFeed, replyContent)">\n            Feetch Latest Events\n          </button>\n\n          <div style="max-height: 200px;" v-if="latestEvents">\n            <div v-for="(event) in latestEvents">\n              <p v-text="JSON.stringify(event.serialize(), undefined, 2)" style="white-space: pre-wrap;">\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  ',methods:{authAction:function authAction(){var _action5;(_action5=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("auth-attempt")).call.apply(_action5,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action6;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action6=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("auth-sucess")).call.apply(_action6,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this3=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee5(){var universe;return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return ___WEBPACK_IMPORTED_MODULE_10___default.a.init({credentials:{accessToken:_this3.token}}),(universe=___WEBPACK_IMPORTED_MODULE_10___default.a.universe(_this3.universeName,{base:_this3.apiBase})).on("universe:message",(function(msg){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("message").call(_this3,msg)})),universe.on("universe:feeds:messages",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("feeds:messages").call(_this3,p)})),universe.on("universe:feeds",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("feeds").call(_this3,p)})),_context5.next=7,universe.init();case 7:return _context5.next=9,universe.feeds.fetch();case 9:_this3.localFeeds=_context5.sent;case 10:case"end":return _context5.stop()}}),_callee5)})))()},handleFeedSelect:function handleFeedSelect(index){var _this4=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _this4.selectedFeed=_this4.localFeeds[index],_this4.selectedFeed.on("feed:message",(function(p){Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("feed:messages").call(_this4,p)})),_context6.next=4,_this4.selectedFeed.init();case 4:case"end":return _context6.stop()}}),_callee6)})))()},handleReply:function handleReply(feed,content){var _this5=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee7(){var attachments,rawAssets,reply;return regeneratorRuntime.wrap((function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _this5.formDataAttachment?rawAssets=_this5.formDataAttachment:_this5.uriAttachment&&(attachments=[{type:"image",payload:_this5.uriAttachment}]),reply=_this5.selectedFeed.reply({content:{body:content,attachments:attachments},rawAssets:rawAssets}),_context7.next=4,reply.send();case 4:case"end":return _context7.stop()}}),_callee7)})))()},handleLatestEvents:function handleLatestEvents(){var _this6=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__.a)(regeneratorRuntime.mark((function _callee8(){return regeneratorRuntime.wrap((function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,_this6.selectedFeed.fetchLatestEvents();case 2:_this6.latestEvents=_context8.sent,Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("latest-events").call(_this6,_this6.latestEvents);case 4:case"end":return _context8.stop()}}),_callee8)})))()},filesChange:function filesChange(fileList){var formData=new FormData;if(fileList.length){for(var file,i=0;i<fileList.length;i++)file=fileList[i],formData.append("file",file);this.formDataAttachment=formData}}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,localFeeds:[],replyContent:null,uriAttachment:null,formDataAttachment:null,selectedFeed:null,latestEvents:null}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nconst feeds = await universe.feeds.fetch()\n\n").concat(Number.isFinite(this.selectedFeed)?"":"//"," await feeds[selectedFeed].init()\n      ")}}}}},967:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ListProducts",(function(){return ListProducts}));__webpack_require__(14),__webpack_require__(63),__webpack_require__(29),__webpack_require__(33),__webpack_require__(19),__webpack_require__(64),__webpack_require__(32);var _home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),___WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(___WEBPACK_IMPORTED_MODULE_8__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),vue_prism_editor__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(23)),vue_prism_editor__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(vue_prism_editor__WEBPACK_IMPORTED_MODULE_13__),_init__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13);__webpack_exports__.default={title:"Products",component:_init__WEBPACK_IMPORTED_MODULE_14__.a,parameters:{notes:"Your base action will be interacting with a universe. A universe is a system and namespace that is itself a URL that provides agent UIs and many more."}};var ListProducts=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_14__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_13___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n    </div>\n  ',methods:{authAction:function authAction(){var _action;(_action=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-attempt")).call.apply(_action,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action2;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action2=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-sucess")).call.apply(_action2,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee(){var universe;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return ___WEBPACK_IMPORTED_MODULE_8___default.a.init({credentials:{accessToken:_this.token}}),universe=___WEBPACK_IMPORTED_MODULE_8___default.a.universe(_this.universeName,{base:_this.apiBase}),_context.next=4,universe.init();case 4:return _context.next=6,universe.products();case 6:_this.localProducts=_context.sent;case 7:case"end":return _context.stop()}}),_callee)})))()},handleReply:function handleReply(message,content){return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee2(){var reply;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return reply=message.reply({content:{body:content}}),_context2.next=3,reply.send();case 3:case"end":return _context2.stop()}}),_callee2)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,localProducts:[],replyContent:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},productsPayload:function productsPayload(){if(!this.localProducts||!this.localProducts.length)return"";var list=this.localProducts.map((function(item){return item.serialize()}));return JSON.stringify(list,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n")},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nconst products = await universe.products()\n\n").concat(this.productsPayload,"\n      ")}}}}},968:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ListTickets",(function(){return ListTickets}));__webpack_require__(14),__webpack_require__(63),__webpack_require__(29),__webpack_require__(33),__webpack_require__(19),__webpack_require__(64),__webpack_require__(32);var _home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),___WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(___WEBPACK_IMPORTED_MODULE_8__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),vue_prism_editor__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(23)),vue_prism_editor__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(vue_prism_editor__WEBPACK_IMPORTED_MODULE_13__),_init__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13);__webpack_exports__.default={title:"Business",component:_init__WEBPACK_IMPORTED_MODULE_14__.a,parameters:{notes:"Your base action will be interacting with a universe. A universe is a system and namespace that is itself a URL that provides agent UIs and many more."}};var ListTickets=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_14__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_13___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n    </div>\n  ',methods:{authAction:function authAction(){var _action;(_action=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-attempt")).call.apply(_action,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action2;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action2=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-sucess")).call.apply(_action2,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee(){var universe;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return ___WEBPACK_IMPORTED_MODULE_8___default.a.init({credentials:{accessToken:_this.token}}),universe=___WEBPACK_IMPORTED_MODULE_8___default.a.universe(_this.universeName,{base:_this.apiBase}),_context.next=4,universe.init();case 4:return _context.next=6,universe.tickets();case 6:_this.localTickets=_context.sent;case 7:case"end":return _context.stop()}}),_callee)})))()},handleReply:function handleReply(message,content){return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee2(){var reply;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return reply=message.reply({content:{body:content}}),_context2.next=3,reply.send();case 3:case"end":return _context2.stop()}}),_callee2)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,localTickets:[],replyContent:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},ticketsPayload:function ticketsPayload(){if(!this.localTickets||!this.localTickets.length)return"";var list=this.localTickets.map((function(item){return item.serialize()}));return JSON.stringify(list,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n")},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nconst tickets = await universe.tickets()\n\n").concat(this.ticketsPayload,"\n      ")}}}}},969:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ListPeople",(function(){return ListPeople})),__webpack_require__.d(__webpack_exports__,"ListPeopleSelectAndEditOne",(function(){return ListPeopleSelectAndEditOne}));__webpack_require__(14),__webpack_require__(63),__webpack_require__(29),__webpack_require__(33),__webpack_require__(19),__webpack_require__(64),__webpack_require__(32);var _home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),___WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(___WEBPACK_IMPORTED_MODULE_8__),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),vue_prism_editor__WEBPACK_IMPORTED_MODULE_13__=(__webpack_require__(106),__webpack_require__(107),__webpack_require__(108),__webpack_require__(23)),vue_prism_editor__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(vue_prism_editor__WEBPACK_IMPORTED_MODULE_13__),_init__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(13);__webpack_exports__.default={title:"People",component:_init__WEBPACK_IMPORTED_MODULE_14__.a,parameters:{notes:"Your base action will be interacting with a universe. A universe is a system and namespace that is itself a URL that provides agent UIs and many more."}};var ListPeople=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_14__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_13___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n    </div>\n  ',methods:{authAction:function authAction(){var _action;(_action=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-attempt")).call.apply(_action,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action2;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action2=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-sucess")).call.apply(_action2,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee(){var universe;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return ___WEBPACK_IMPORTED_MODULE_8___default.a.init({credentials:{accessToken:_this.token}}),universe=___WEBPACK_IMPORTED_MODULE_8___default.a.universe(_this.universeName,{base:_this.apiBase}),_context.next=4,universe.init();case 4:return _context.next=6,universe.people();case 6:_this.localPeople=_context.sent;case 7:case"end":return _context.stop()}}),_callee)})))()},handleReply:function handleReply(message,content){return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee2(){var reply;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return reply=message.reply({content:{body:content}}),_context2.next=3,reply.send();case 3:case"end":return _context2.stop()}}),_callee2)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,localPeople:[],replyContent:[]}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},ticketsPayload:function ticketsPayload(){if(!this.localPeople||!this.localPeople.length)return"";var list=this.localPeople.map((function(item){return item.serialize()}));return JSON.stringify(list,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n")},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nconst people = await universe.people()\n\n").concat(this.ticketsPayload,"\n      ")}}}},ListPeopleSelectAndEditOne=function(){return{components:{Init:_init__WEBPACK_IMPORTED_MODULE_14__.a,PrismEditor:vue_prism_editor__WEBPACK_IMPORTED_MODULE_13___default.a},template:'\n    <div>\n      <init\n        @auth-attempt="authAction"\n        @auth-success="authSuccessAction"\n        :instructions="false"\n        store="init-first"\n        max-height="150px"\n      ></init>\n\n      <p>\n        With auth set let\'s initialise a universe\n      </p>\n\n      <input v-model="universeName" :key="universeName" placeholder="Univserse Name" />\n      <input v-model="apiBase" :key="apiBase" placeholder="API Base" />\n\n      <button @click="initUniverse">\n        Initialise Universe\n      </button>\n\n      <prism-editor readonly :code="code" language="js"></prism-editor>\n\n            <div>\n        <div>\n          <span>Selected Person</span>\n\n          <div v-if="selectedPerson">\n            <span v-text="selectedPerson.id" />\n            <span v-text="selectedPerson.name" />\n            <span v-text="selectedPerson.first_name" />\n            <span v-text="selectedPerson.last_name" />\n            <img :src="selectedPerson.avatar" />\n          </div>\n          <div>\n            N/A (init universe first)\n          </div>\n        </div>\n      </div>\n\n      <br>\n\n      <div v-if="!selectedPerson">\n        <h2>\n          Before Person Init\n        </h2>\n        <div v-for="(person, index) in localPeople">\n          <span v-text="person.id" />\n          <span v-text="person.name" />\n          <span v-text="person.first_name" />\n          <span v-text="person.last_name" />\n          <button @click="handlePersonSelect(index)">\n            Select\n          </button>\n        </div>\n      </div>\n\n\n\n    </div>\n  ',methods:{authAction:function authAction(){var _action3;(_action3=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-attempt")).call.apply(_action3,[this].concat(Array.prototype.slice.call(arguments)))},authSuccessAction:function authSuccessAction(){var _action4;this.token=Array.prototype.slice.call(arguments)[0].access_token,window.localStorage.setItem("token",this.token),(_action4=Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_9__.action)("auth-sucess")).call.apply(_action4,[this].concat(Array.prototype.slice.call(arguments)))},initUniverse:function initUniverse(){var _this2=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee3(){var universe;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return ___WEBPACK_IMPORTED_MODULE_8___default.a.init({credentials:{accessToken:_this2.token}}),universe=___WEBPACK_IMPORTED_MODULE_8___default.a.universe(_this2.universeName,{base:_this2.apiBase}),_context3.next=4,universe.init();case 4:return _context3.next=6,universe.people();case 6:_this2.localPeople=_context3.sent;case 7:case"end":return _context3.stop()}}),_callee3)})))()},handleReply:function handleReply(message,content){return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee4(){var reply;return regeneratorRuntime.wrap((function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return reply=message.reply({content:{body:content}}),_context4.next=3,reply.send();case 3:case"end":return _context4.stop()}}),_callee4)})))()},handlePersonSelect:function handlePersonSelect(index){var _this3=this;return Object(_home_circleci_project_examples_vue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__.a)(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _this3.selectedPerson=_this3.localPeople[index],_context5.next=3,_this3.selectedPerson.init();case 3:case"end":return _context5.stop()}}),_callee5)})))()}},data:function data(){return{token:window.localStorage.getItem("token")||null,universe:null,localUniversePayload:null,localPeople:[],replyContent:[],selectedPerson:null}},computed:{universeName:{get:function get(){return window.localStorage.getItem("universeName")},set:function set(v){window.localStorage.setItem("universeName",v)}},apiBase:{get:function get(){return window.localStorage.getItem("apiBase")||"https://staging-3.hello-charles.com"},set:function set(v){window.localStorage.setItem("apiBase",v)}},universePayload:function universePayload(){return this.localUniversePayload?JSON.stringify(this.localUniversePayload,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n"):""},ticketsPayload:function ticketsPayload(){if(!this.localPeople||!this.localPeople.length)return"";var list=this.localPeople.map((function(item){return item.serialize()}));return JSON.stringify(list,void 0,2).split("\n").map((function(line){return"// ".concat(line)})).join("\n")},code:function code(){return"\nimport charles from '@heycharles/browser-sdk'\ncharles.init({\n  accessToken: '".concat(this.token||"","'\n})\n\nconst universe = charles.universe('").concat(this.universeName||"","')\n// lets init it immediately to get it's remote state\nawait universe.init()\n\nconst people = await universe.people()\n      ")}}}}},970:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var dist=__webpack_require__(413),Welcome={name:"welcome",props:{},data:function data(){return{main:{padding:15,lineHeight:1.4,fontFamily:'"Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif',backgroundColor:"#ffffff"}}},template:'\n    <div :style="main">\n      <h1>Welcome to the Charles Browser SDK Storybook</h1>\n      <p>\n        We will explain common patterns here, to get you started in frontend development with our APIs.\n      </p>\n    </div>\n  ',methods:{}};__webpack_require__.d(__webpack_exports__,"ToStorybook",(function(){return ToStorybook}));__webpack_exports__.default={title:"Welcome",component:Welcome};var ToStorybook=function(){return{components:{Welcome:Welcome},template:'<welcome :showApp="action" />',methods:{action:Object(dist.linkTo)("Button")}}};ToStorybook.story={name:"to Storybook"}}},[[414,1,2]]]);
//# sourceMappingURL=main.cb5bff1b40320944ecb0.bundle.js.map